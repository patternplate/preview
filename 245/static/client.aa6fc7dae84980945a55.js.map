{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../components/index.js","webpack:///../../src/button/index.js","webpack:///../../src/code-pane/index.js","webpack:///../../src/code/index.js","webpack:///../../src/flag/index.js","webpack:///../../src/fonts/index.js","webpack:///../../src/headline/index.js","webpack:///../../src/icon/index.js","webpack:///../src/index.js","webpack:///../../src/info-pane/index.js","webpack:///../src/injection.js","webpack:///../../src/link/index.js","webpack:///../src/logo.js","webpack:///../../src/main-header/index.js","webpack:///../../src/main-navigation/index.js","webpack:///../../src/markdown/index.js","webpack:///../../src/markdown/markdown-blockquote.js","webpack:///../../src/markdown/markdown-code-block.js","webpack:///../../src/markdown/markdown-code.js","webpack:///../../src/markdown/markdown-copy.js","webpack:///../../src/markdown/markdown-headline.js","webpack:///../../src/markdown/markdown-hr.js","webpack:///../../src/markdown/markdown-image.js","webpack:///../../src/markdown/markdown-item.js","webpack:///../../src/markdown/markdown-link.js","webpack:///../../src/markdown/markdown-list.js","webpack:///../../src/navigation-item/index.js","webpack:///../../src/navigation-label/index.js","webpack:///../../src/navigation-toolbar/index.js","webpack:///../../src/navigation-tree/index.js","webpack:///../../src/search-field/index.js","webpack:///../../src/search/index.js","webpack:///../src/svg.js","webpack:///../../src/tag/index.js","webpack:///../../src/text/index.js","webpack:///../../src/themes/index.js","webpack:///../search/index.js","webpack:///../src/create-search.js","webpack:///../src/query.js","webpack:///../src/registry.js","webpack:///../src/search.js","webpack:///../src/term.js","webpack:///../websocket-client/index.js","webpack:///./src/app/actions/activate-node.js","webpack:///./src/app/actions/apply-state.js","webpack:///./src/app/actions/arrow.js","webpack:///./src/app/actions/change-concern.js","webpack:///./src/app/actions/change-type.js","webpack:///./src/app/actions/close-all-the-things.js","webpack:///./src/app/actions/demo-content-resize.js","webpack:///./src/app/actions/dismiss-all-messages.js","webpack:///./src/app/actions/dismiss-message.js","webpack:///./src/app/actions/handle-dependent-actions.js","webpack:///./src/app/actions/index.js","webpack:///./src/app/actions/listen.js","webpack:///./src/app/actions/load-pattern-demo.js","webpack:///./src/app/actions/load-schema.js","webpack:///./src/app/actions/mark-block.js","webpack:///./src/app/actions/open-documentation.js","webpack:///./src/app/actions/open-fullscreen.js","webpack:///./src/app/actions/patch-location.js","webpack:///./src/app/actions/promise-thunk-action.js","webpack:///./src/app/actions/reload.js","webpack:///./src/app/actions/resize-demo.js","webpack:///./src/app/actions/scroll-demo.js","webpack:///./src/app/actions/scroll-to.js","webpack:///./src/app/actions/search-preview.js","webpack:///./src/app/actions/search.js","webpack:///./src/app/actions/theme-loaded.js","webpack:///./src/app/actions/toggle-code.js","webpack:///./src/app/actions/toggle-components-enabled.js","webpack:///./src/app/actions/toggle-console.js","webpack:///./src/app/actions/toggle-dependencies.js","webpack:///./src/app/actions/toggle-dependents.js","webpack:///./src/app/actions/toggle-doc.js","webpack:///./src/app/actions/toggle-hide.js","webpack:///./src/app/actions/toggle-info.js","webpack:///./src/app/actions/toggle-keyboard-shortcuts.js","webpack:///./src/app/actions/toggle-manifest.js","webpack:///./src/app/actions/toggle-navigation.js","webpack:///./src/app/actions/toggle-network.js","webpack:///./src/app/actions/toggle-opacity.js","webpack:///./src/app/actions/toggle-rulers.js","webpack:///./src/app/actions/toggle-search.js","webpack:///./src/app/actions/toggle-theme.js","webpack:///./src/app/actions/toggle.js","webpack:///./src/app/actions/window-resize.js","webpack:///./src/app/behaviours.js","webpack:///./src/app/client.js","webpack:///./src/app/components/common/toggle-button.js","webpack:///./src/app/components/documentation.js","webpack:///./src/app/components/favicon.js","webpack:///./src/app/components/indicator.js","webpack:///./src/app/components/message.js","webpack:///./src/app/components/outside.js","webpack:///./src/app/components/pattern/index.js","webpack:///./src/app/components/pattern/pattern-demo.js","webpack:///./src/app/components/pattern/pattern-sheet.js","webpack:///./src/app/components/search-field.js","webpack:///./src/app/components/search.js","webpack:///./src/app/components/toggle-navigation.js","webpack:///./src/app/components/toggle-opacity.js","webpack:///./src/app/components/toggle-search.js","webpack:///./src/app/components/trigger-fullscreen.js","webpack:///./src/app/connectors/with-active-for-pattern.js","webpack:///./src/app/connectors/with-id.js","webpack:///./src/app/connectors/with-toggle-states.js","webpack:///./src/app/connectors/with-toggle.js","webpack:///./src/app/containers/application.js","webpack:///./src/app/containers/documentation.js","webpack:///./src/app/containers/favicon.js","webpack:///./src/app/containers/indicator.js","webpack:///./src/app/containers/link.js","webpack:///./src/app/containers/logo.js","webpack:///./src/app/containers/markdown.js","webpack:///./src/app/containers/message.js","webpack:///./src/app/containers/navigation.js","webpack:///./src/app/containers/not-found.js","webpack:///./src/app/containers/pass-through.js","webpack:///./src/app/containers/pattern.js","webpack:///./src/app/containers/search.js","webpack:///./src/app/containers/toggle-navigation.js","webpack:///./src/app/containers/toggle-opacity.js","webpack:///./src/app/containers/toggle-search.js","webpack:///./src/app/containers/trigger-fullscreen.js","webpack:///./src/app/reducers/active-block.js","webpack:///./src/app/reducers/active-node.js","webpack:///./src/app/reducers/base.js","webpack:///./src/app/reducers/code-enabled.js","webpack:///./src/app/reducers/components-enabled.js","webpack:///./src/app/reducers/config.js","webpack:///./src/app/reducers/connection.js","webpack:///./src/app/reducers/demo.js","webpack:///./src/app/reducers/dependencies-enabled.js","webpack:///./src/app/reducers/dependents-enabled.js","webpack:///./src/app/reducers/depth.js","webpack:///./src/app/reducers/doc-enabled.js","webpack:///./src/app/reducers/fetching.js","webpack:///./src/app/reducers/hide-enabled.js","webpack:///./src/app/reducers/id.js","webpack:///./src/app/reducers/index.js","webpack:///./src/app/reducers/info-enabled.js","webpack:///./src/app/reducers/is-static.js","webpack:///./src/app/reducers/manifest-enabled.js","webpack:///./src/app/reducers/messages.js","webpack:///./src/app/reducers/navigation-enabled.js","webpack:///./src/app/reducers/network-enabled.js","webpack:///./src/app/reducers/opacity.js","webpack:///./src/app/reducers/schema.js","webpack:///./src/app/reducers/search-enabled.js","webpack:///./src/app/reducers/search-preview.js","webpack:///./src/app/reducers/search-value.js","webpack:///./src/app/reducers/search.js","webpack:///./src/app/reducers/shortcuts.js","webpack:///./src/app/reducers/theme.js","webpack:///./src/app/reducers/toggle.js","webpack:///./src/app/reducers/window.js","webpack:///./src/app/routes.js","webpack:///./src/app/selectors/demo.js","webpack:///./src/app/selectors/docs.js","webpack:///./src/app/selectors/found.js","webpack:///./src/app/selectors/item.js","webpack:///./src/app/selectors/navigation.js","webpack:///./src/app/selectors/pool.js","webpack:///./src/app/selectors/relation.js","webpack:///./src/app/selectors/tree.js","webpack:///./src/app/shortcuts.js","webpack:///./src/app/store.js","webpack:///./src/app/utils/fetch.js","webpack:///./src/app/utils/find.js","webpack:///./src/app/utils/get-id-by-pathname.js","webpack:///./src/app/utils/shortcut.js","webpack:///./src/app/utils/url-query.js","webpack:///./src/client.js"],"names":["module","exports","React","styled","require","tag","Icon","Link","OuterElement","props","type","symbol","Button","StyledLabel","FRAME","TRANSPARENCY","StyledButton","StyledIcon","Code","hermit","BORDER_RADIUS","StyledCodePane","StyledScrollbox","includes","refractor","toh","source","highlightCode","code","className","themes","dark","mono1","mono2","mono3","hue1","hue2","hue3","hue4","hue5","hue52","hue6","hue62","light","themed","StyledCode","hast","highlight","toElements","ALIASES","md","sh","lang","Array","root","tagName","children","text","StyledText","color","getFlagColor","theme","EMOJI","SYSTEM_FONTS","CODE_FONTS","default","Text","ORDERS","Headline","is","ReactDOM","omit","merge","uniq","withSideEffect","arrowLeft","arrowRight","arrowDown","d","transform","close","dependencies","ecospheres","externalLink","fillmode","folder","fullscreen","globals","environment","home","link","molecules","organisms","pattern","patternplate","polymers","react","reload","rulers","search","atoms","arrowDoubleLeft","arrowDoubleRight","folderOpen","documentation","cx","cy","r","issue","command","placeholder","x","y","width","height","hamburger","icons","checkers","doc","length","count","dim","offset","field","fields","i","filled","product","inArea","inverted","rect","joinPaths","p","path","iconNames","Object","list","item","symbols","element","getRegistryMountPoint","document","found","created","SIZES","s","m","l","inline","size","creator","paths","IconRegistry","StyledRegistry","style","definition","def","Component","CodePane","css","Flag","IconDefinitions","InnerInfoPane","InfoPane","injectGlobal","injection","keyframes","Logo","MainHeader","MainNavigation","Markdown","NavigationItem","NavigationLabel","NavigationToolbar","NavigationTree","Search","SearchResult","SearchResultList","SearchResultHeading","SearchResultPreview","SearchFieldSlot","PassThroughSlot","Close","SearchField","ServerStyleSheet","StyleSheetManager","Symbol","Tag","ThemeProvider","svg","semver","StyledInfoPane","StyledInnerPane","StyledName","StyledToolbar","StyledDisplayName","StyledId","StyledData","StyledDataCell","StyledKey","VERSION_COLOR","v","StyledVersion","StyledTag","StyledToggleHead","StyledToggleBody","innerProps","version","flag","has","t","name","e","StyledSelectContainer","StyledSelect","value","StyledArrow","StyledHead","query","enabled","StyledPatternList","StyledPatternItem","id","StyledToggle","val","PropTypes","childContextTypes","injections","target","any","InjectionProvider","InjectedComponent","context","applicable","Source","inject","args","selectTarget","external","grow","onHover","StyledLinkContainer","StyledLinkLabel","StyledLink","__html","title","StyledMainHeader","StyledTitle","Header","Navigation","ref","toolbar","child","header","handleKeyDown","getRef","tools","StyledNavigatHeader","global","parseInt","StyledHeader","StyledNavigation","PASSAGE_HEIGHT","StyledNavigationTree","StyledNavigationToolbar","StyledDocumentationTree","frontmatter","remark","emoji","reactRenderer","vm","resizer","MarkdownBlockQuote","MarkdownCode","MarkdownCodeBlock","MarkdownCopy","MarkdownHeadline","MarkdownHr","MarkdownImage","MarkdownItem","MarkdownList","MarkdownLink","next","prop","sanitize","remarkReactComponents","a","blockquote","h1","h2","h3","h4","h5","h6","hr","img","li","pre","preProps","childProps","srcdoc","encodeURIComponent","state","ul","ol","WidgetFrame","warningTimeout","log","StyledWidgetFrame","StyledMarkdown","textContent","langs","getLanguages","n","ORDER","ThemedIcon","StyledTarget","StyledHeadline","url","queryString","parsed","abs","absolute","href","processor","setTimeout","active","StyledMeta","StyledNavigationItem","LinkTag","StyledNavigationLink","S","M","StyledLabelIcon","StyledLabelContainer","StyledLabelLink","visible","options","hidden","icon","selectSymbol","iconActive","selectActiveSymbol","selectName","warning","Boolean","NavigationItemList","message","StyledSearchField","StyledInput","StyledInputContainer","StyledInputSuggestion","saveRef","NOOP","searchResultList","searchPreviewChildren","searchField","passThrough","SEARCH_HEIGHT","SEARCH_FIELD_HEIGHT","SEARCH_LEGEND_HEIGHT","StyledFormBox","StyledForm","withTint","StyledSearchFieldBox","StyledResults","StyledResultPreview","StyledResultList","StyledResultHeading","Linkable","StyledPreviewLink","StyledResultLink","StyledResultLinkText","StyledResult","index","onScrollRequest","HiddenSubmit","StyledClose","StyledCloseIcon","verb","StyledSearchLegend","StyledSearchLegendBox","StyledField","StyledLegendName","StyledFieldLink","key","h","b","DOMParser","XMLSerializer","camelCase","parser","serializer","SHARED_ATTRIBUTES","ATTRIBUTES","defs","linearGradient","stop","circle","g","polygon","TAG_NAMES","node","attribute","reactProp","canvas","ratio","resolve","btoa","purge","attributes","rest","render","fonts","ui","defaultMainColor","grayBaseTone","colorGroups","lightBlue","marine","gray","error","info","success","background","backgroundSecondary","backgroundTertiary","border","textColor","textColorNegated","recess","backgroundLight","backgroundSecondaryLight","backgroundTertiaryLight","borderLight","colorLight","colorLightNegated","colorRecessLight","fontFaces","common","colors","fontWeight","fontSize","headline","colorNegated","Query","Registry","Term","createSearch","registry","termString","term","flatten","intersection","q","parse","perform","values","predicate","items","JSON","create","FLAGS","deprecated","alpha","beta","rc","stable","matcher","getMatcher","depends","matchDepends","matchHas","provides","matchProvides","matchFlag","tags","matchTags","matchVersion","matchIs","description","manifest","dependents","modified","valid","operators","Fuse","keys","OPERATORS","raw","negated","negator","greater","modifier","lower","startsWith","equality","equals","EventEmitter","constructor","interval","exec","open","setInterval","activateNode","dispatch","property","applyState","payload","arrow","OFFSETS","up","down","getState","searchEnabled","navigationEnabled","pool","findIndex","contentType","go","changeConcern","concern","location","routing","locationBeforeTransitions","urlQuery","previous","pathname","ext","extname","hasDemo","files","some","file","slice","format","dirname","changeType","input","assert","equal","closeAllTheThings","lightbox","handleDependentActions","partialReduce","deps","handlers","reduce","entry","fn","action","actionHandlers","ok","isArray","handler","missing","filter","dependency","join","reducer","defaultValue","WebSocket","window","addEventListener","envelope","data","indexOf","safeParse","itemType","isStatic","base","ws","WebSocketClient","src","host","reconnect","onOpen","onClose","onError","onMessage","ARSON","force","TypeError","err","getSrc","uri","response","headers","Accept","body","status","contents","demo","selectSrc","_","__","prefix","json","charAt","openDocumentation","openFullscreen","patchLocation","hasOwnProperty","ident","asyncIdent","createPromiseThunkAction","rawCreator","delayedAction","successAction","startAction","throwsAction","delayedTimer","result","Promise","clearTimeout","console","__name","handlePromiseThunkAction","rawName","start","delayed","throws","actions","all","map","resizeDemo","scrollDemo","loop","frame","run","requestAnimationFrame","scrollDemoX","scrollDemoY","scrollTo","to","getTarget","parent","scrollTop","offsetParent","offsetTop","getElementById","searchPreview","MOVEMENTS","delta","persist","toggleSearch","sync","focus","el","querySelector","activeElement","range","setSelectionRange","toggleTheme","forced","toggle","toUpperCase","mountable","onMount","skippable","store","browserHistory","history","router","ToggleButton","shortcut","toString","StandIn","div","Documentation","nextProps","changed","requestScroll","displayName","StyledDocumentation","THEMES","SVG_FAVICON_SUPPORT","FavIcon","platform","png","getSource","then","pngHref","setState","catch","svgHref","rel","fill","getFill","purged","stringify","Indicator","onClick","isValid","getLabel","StyledDot","getGlow","StyledIndicator","getOut","getPulse","out","pulse","Message","details","summary","StyledMessage","StyledMessageContent","StyledDetails","StyledSummary","ClickOutside","handle","bind","getContainer","container","removeEventListener","contains","onClickOutside","Buffer","from","VISIBILITY","CROSSES","PAD","padded","OFF","OFFSET","StyledPattern","StyledPatternFolder","StyledPatternDoc","StyledPatternDemo","StyledPatternLoader","PatternContainer","Pattern","docs","screenshot","opacity","getPrefix","loading","enter","exit","updated","StyledDemo","iframe","PatternDemo","use","mapProps","PatternSheet","processSync","StyledSearchTrigger","span","SearchTrigger","selectContents","selectDescription","selectIcon","selectType","selectFlag","selectTags","selectVersion","TOOLBAR_HEIGHT","StyledDescription","StyledPatternSheet","ORIENTATION","direction","orient","StyledPatternSheetContainer","StyledControlsArea","StyledControlsBox","StyledControlsItem","StyledTagList","StyledBoxLine","StyledMarkdownBox","handleChange","handleStop","onStop","trailing","timer","onChange","hasValue","atEnd","selectionStart","which","altKey","ctrlKey","preventDefault","stopPropagation","onClear","onUp","suggestion","onComplete","onDown","autoFocus","onBlur","onFocus","mark","defaultProps","blur","SearchComponent","SearchComponents","SearchClose","SearchPassThroughSlot","activeItem","onActivate","handleScrollRequest","demoDependencies","demoDependents","handleSubmit","handleUp","handleDown","handleActivate","getListRef","getSearchResult","getBoundingClientRect","bottom","top","getAttribute","components","available","onSubmit","onNavigate","withComponents","withDocs","shortcuts","legend","getSearchResultPreview","Hamburger","StyledToggleButton","Opacity","SearchButton","Fullscreen","withActiveForPattern","withId","withToggleStates","dependenciesEnabled","dependentsEnabled","manifestEnabled","withToggle","find","selectThemes","config","selectLines","messages","split","selectMessage","lines","trim","selectHasMessage","schema","networkEnabled","logo","renderedLogo","hasMessage","jsWarningEnabled","browserWarningEnabled","mapDispatch","onLoad","listen","onResize","windowResize","ConnectedLink","Application","overflow","meta","WIDTH","NAVIGATION_WIDTH","StyledWarningLabel","StyledBrowserWarning","StyledBrowserContainer","StyledBrowserContent","StyledBrowserText","StyledBrowserContainerClose","StyledApplication","StyledNavigationBox","StyledMessageBox","StyledContent","StyledContentContainer","WITH_SCREENSHOT_OFFSET","factor","WITH_NAVIGATION_OFFSET","SUM","acc","StyledSearchBox","StyledSearchFrame","StyledFloatingBox","StyledPane","NavigationControl","content","mapState","selectNotFound","selectNoDocs","selectDocItem","selectItem","selectPool","first","selectDoc","noDocs","notFound","selectDisplayName","match","Favicon","favicon","selectStatus","connection","RawLink","own","assign","getHref","ownProps","currentTarget","hash","norm","selectWidgetSrc","staticBase","widgetSrc","widgetState","selectDetails","selectActive","NavigationHeader","componentsEnabled","navigation","onItemClick","onLabelClick","PassThrough","DEFAULT_PATTERN_CONTENTS","NOT_FOUND","selectDocs","fetching","selectContentType","loadPatternDemo","selectActiveItem","selectPatterns","selectLegend","selectSuggestion","searchValue","toggleNavigation","ToggleNavigation","OpacityToggle","toggleOpacity","SkippableFullscreen","querystring","markBlockHandler","locationChangeHandler","markBlock","toggleCode","toggleComponentsEnabled","copy","renderedFavicon","LISTEN_HEARTBEAT","FETCHING","ERROR_HEARTBEAT","DEFAULT","Date","now","toggleDependencies","onLocationChange","getDepth","fragments","fragmentIndex","known","toggleDoc","loadSchema","toggleHide","getDependencies","depth","hideEnabled","startBase","toggleInfo","toggleManifest","toggleNetwork","onPreviewLocationChange","Number","isNaN","Math","max","onPerformSeach","PERFORM_SEARCH","onSetSearchLocationChange","onSetSearch","onPerformSearch","SET_SEARCH","onSearchLocationChange","onWindowResize","NotFound","sd","tree","hide","selectFlatPool","selectNavigation","nav","concat","selectSubSearch","flatPool","matches","selectDocsTree","selectFirstItem","selectQueries","selectQueried","queries","queried","flat","FIELDS","selectSearch","selectPoolFlat","selectMatches","selectParsedValue","selectLastQuery","last","cand","selectFields","f","selectFieldHit","selectParsedQuery","selectOps","hit","o","op","selectOpsHit","ops","selectFound","sorted","selectPatternPool","selectOptions","patterns","versions","sort","gt","flags","localeCompare","selectOptionsHit","parsedValue","fieldHit","opsHit","optionsHit","k","lmatch","preview","min","selectVirtual","selectFilter","relation","selectDependencies","selectDependents","selectManifest","selectId","enriched","initial","push","createRelationSelector","WEIGHTS","enrich","order","weight","comp","childid","warnings","createShortcuts","forEach","toggleConsole","Shortcut","character","toggleShortcuts","toggleKeyboardShortcuts","toggleRulers","reloadTime","modifiers","right","left","configureStore","hydrateable","reducers","enhance","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunk","middleware","applyMiddleware","fetch","defaultHeaders","accept","credentials","userHeaders","reg","RegExp","frags","replace","every","getIdByPathname","posix","relative","CODES","esc","space","c","onKeyPress","keyCode","prevent","token","not","shove","extension","before","after","basename","urlPath","main","slot","vault","getData","innerHTML","setAttribute","decodeURIComponent","getStateData","getPlatformData","getWindowData","clientRuntimeName","clientRuntimeVersion","clientOsName","os","clientOsVersion","innerWidth","innerHeight"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnIAA,MAAM,CAACC,OAAP,GAAiB,mBAAO,CAAC,yCAAD,CAAxB,C;;;;;;;;;;;;;;ACAA,IAAMC,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ;;AAEA,IAAME,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMC,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEA,uBAAuB;AACrB,MAAMC,YAAY,GAChBC,KAAK,CAALA,kBACIJ,GAAG,CAAC,aAAJA,MAAI,CAAD,CAAHA,CADJI,IACIJ,CADJI,GAEIJ,GAAG,CAAC,CAAJA,UAAI,CAAD,CAAHA,CAHN,QAGMA,CAHN;AAKA,SACE;AACE,aAAS,EAAEI,KAAK,CADlB;AAEE,SAAK,EAAEA,KAAK,CAFd;AAGE,WAAO,EAAEA,KAAK,CAHhB;AAIE,YAAQ,EAAEA,KAAK,CAJjB;AAKE,QAAI,EAAEA,KAAK,CALb;AAME,QAAI,EAAEA,KAAK,CAACC;AANd,KAQGD,KAAK,CAALA,YAAkB,uCAAcA,KAAK,CARxC,QAQqB,CARrB,EASGA,KAAK,CAALA,UAAgB;AAAY,UAAM,EAAEA,KAAK,CAACE;AAA1B,IATnB,CADF;AAaD;;AAEDC,MAAM,CAANA,eAAsB;AACpBF,MAAI,EAAE;AADc,CAAtBE;AAIA,IAAMC,WAAW,GAAGV,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qBAAGA,EACH,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AADtB,CAAoBN,CAApB;;AAIA,IAAMW,KAAK,GAAG,SAARA,KAAQ,QAAK;AAAA,SACjB,CAACL,KAAK,CAAN,aADiB;AAAnB;;AAOA,IAAMM,YAAY,GAAG,SAAfA,YAAe,QAAK;AAAA,SACxBN,KAAK,CAALA,eADwB;AAA1B;;AAMA,IAAMO,YAAY,GAAGb,MAAM,CAAT,MAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,2NAAGA,EASL,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AATH,CAAGN,EAUV,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAVE,CAAGN,EAAH,KAAGA,EAArB,YAAqBA,CAArB;AAkBA,IAAMc,UAAU,GAAGd,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,uCAAgB,CAAGA,CAAnB;AAMAH,MAAM,CAANA,uB;;;;;;;;;;;;;;ACzEA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAMc,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlB,MAAM,CAANA;;AAEA,yBAAyB;AACvB,SACE;AAAgB,aAAS,EAAES,KAAK,CAAhC;AAA4C,UAAM,EAAEA,KAAK,CAACU;AAA1D,KACE,2CACE;AAAM,SAAK,EAAX;AAAY,YAAQ,EAAC;AAArB,KACGV,KAAK,CAJd,MAGM,CADF,CADF,CADF;AASD;;AAED,IAAMW,aAAa,GAAnB;AAEA,IAAMC,cAAc,GAAGlB,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,wLAAGA,EAaF,iBAAK;AAAA,SACpBM,KAAK,CAALA,kGADoB,MACpBA,CADoB;AAbN,CAAGN,EAiBL,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAjBvB,CAAuBN,CAAvB;AAqBA,IAAMmB,eAAe,GAAGnB,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAArB,4HAAqB,CAAGA,CAAxB,C;;;;;;;;;;;;;;AC1CA,IAAMD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;eACqB,mBAAO,qD;IAApBmB,Q,YAAAA,Q;;AAER,IAAMC,SAAS,GAAG,mBAAO,CAAzB,+DAAyB,CAAzB;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAnB,oFAAmB,CAAnB,C,CAEA;;;AACAD,SAAS,CAATA,SAAmB,mBAAO,CAA1B,yEAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,yEAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,6EAA0B,CAA1BA,E,CAEA;;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,uEAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,qFAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,uEAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,yEAA0B,CAA1BA,E,CAEA;;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,iFAA0B,CAA1BA;AAEAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,yEAA0B,CAA1BA;AACAA,SAAS,CAATA,SAAmB,mBAAO,CAA1B,yEAA0B,CAA1BA;AAEAxB,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;;AAEA,qBAAqB;AACnB,MAAM0B,MAAM,GAAGC,aAAa,CAAClB,KAAK,CAAN,UAAiBA,KAAK,CAAlD,QAA4B,CAA5B;AACA,MAAMmB,IAAI,GAAG;AAAY,aAAS,EAAEnB,KAAK,CAACoB;AAA7B,KAAb,MAAa,CAAb;AACA,SAAOpB,KAAK,CAALA,QAAc,iCAAdA,IAAc,CAAdA,GAAP;AACD;;AAED,IAAMqB,MAAM,GAAG;AACbC,MAAI,EAAE;AACJC,SAAK,EADD;AAEJC,SAAK,EAFD;AAGJC,SAAK,EAHD;AAIJC,QAAI,EAJA;AAKJC,QAAI,EALA;AAMJC,QAAI,EANA;AAOJC,QAAI,EAPA;AAQJC,QAAI,EARA;AASJC,SAAK,EATD;AAUJC,QAAI,EAVA;AAWJC,SAAK,EAAE;AAXH,GADO;AAcbC,OAAK,EAAE;AACLX,SAAK,EADA;AAELC,SAAK,EAFA;AAGLC,SAAK,EAHA;AAILC,QAAI,EAJC;AAKLC,QAAI,EALC;AAMLC,QAAI,EANC;AAOLC,QAAI,EAPC;AAQLC,QAAI,EARC;AASLC,SAAK,EATA;AAULC,QAAI,EAVC;AAWLC,SAAK,EAAE;AAXF;AAdM,CAAf;;AA6BA,IAAME,MAAM,GAAG,SAATA,MAAS,MAAG;AAAA,SAAI,iBAAK;AAAA,WAAId,MAAM,CAACrB,KAAK,CAALA,MAAPqB,IAAM,CAANA,CAAJ,GAAIA,CAAJ;AAAT;AAAlB;;AAEA,IAAMe,UAAU,GAAG1C,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,iyBAAGA,EAIRyC,MAAM,CAJD,OAIC,CAJEzC,EAKF,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AALN,CAAGN,EAYNyC,MAAM,CAZH,OAYG,CAZAzC,EAgBNyC,MAAM,CAhBH,OAgBG,CAhBAzC,EAuBNyC,MAAM,CAvBH,MAuBG,CAvBAzC,EAiCNyC,MAAM,CAjCH,OAiCG,CAjCAzC,EAwCNyC,MAAM,CAxCH,MAwCG,CAxCAzC,EAgDNyC,MAAM,CAhDH,MAgDG,CAhDAzC,EAwDNyC,MAAM,CAxDH,MAwDG,CAxDAzC,EA8DNyC,MAAM,CA9DnB,MA8DmB,CA9DAzC,CAAnB;;AAmFA,iCAA8C;AAAA,MAAbuB,MAAa,uEAAJ,EAAI;;AAC5C,MAAI,CAAJ,UAAe;AACb;AACD;;AACD,MAAI,CAAJ,QAAa;AACX;AACD;;AACD,MAAMoB,IAAI,GAAGC,SAAS,WAAtB,MAAsB,CAAtB;AACA,SAAOC,UAAU,CAAjB,IAAiB,CAAjB;AACD;;AAED,IAAMC,OAAO,GAAG;AACdC,IAAE,EADY;AAEdC,IAAE,EAAE;AAFU,CAAhB;;AAKA,qCAAqC;AACnC,MAAMC,IAAI,GAAGH,OAAO,CAAPA,QAAO,CAAPA,IAAb;;AAEA,MAAI,CAACzB,SAAS,CAATA,WAAL,IAAKA,CAAL,EAAiC;AAC/B;AACD;;AAED,SAAOA,SAAS,CAATA,kBAAP,IAAOA,CAAP;AACD;;AAED,8BAA8B;AAC5B,MAAI,CAAC6B,KAAK,CAALA,QAAL,QAAKA,CAAL,EAA8B;AAC5B;AACD;;AAED,MAAMC,IAAI,GAAG7B,GAAG,CAACvB,KAAK,CAAN,eAAsB;AACpCQ,QAAI,EADgC;AAEpC6C,WAAO,EAF6B;AAGpCC,YAAQ,EAARA;AAHoC,GAAtB,CAAhB;AAMA,SAAOF,IAAI,CAAJA,MAAP;AACD,C;;;;;;;;;;;;;;AC1LD,IAAMpD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMqD,IAAI,GAAG,mBAAO,CAApB,iHAAoB,CAApB;;AAEAzD,MAAM,CAANA;;AAEA,qBAAqB;AACnB,SAAO;AAAY,aAAS,EAAES,KAAK,CAACoB;AAA7B,KAAyCpB,KAAK,CAArD,QAAO,CAAP;AACD;;AAED,IAAMiD,UAAU,GAAGvD,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,uGAAGA,EAGG,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHX,CAAGN,EAKF,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AALN,CAAGN,EAMf,iBAAS;AACT,MAAMwD,KAAK,GAAGC,YAAY,CAACH,IAAI,CAAChD,KAAK,CAAX,QAAK,CAAL,EAAuBA,KAAK,CAALA,MAAjD,MAA0B,CAA1B;AACA;AARJ,CAAmBN,CAAnB;;AAeA,mCAAmC;AACjC;AACE;AACE,aAAO0D,KAAK,CAAZ;;AACF;AACE,aAAOA,KAAK,CAAZ;;AACF;AACE,aAAOA,KAAK,CAAZ;;AACF;AACE,aAAOA,KAAK,CAAZ;;AACF;AACE,aAAOA,KAAK,CAAZ;;AACF;AACE,aAAOA,KAAK,CAAZ;AAZJ;AAcD,C;;;;;;;;;;;;;;ACxCD7D,MAAM,CAANA;AAEA,IAAM8D,KAAK,GAAG,gDAAd,qBAAc,CAAd;AAMA,IAAMC,YAAY,sGAAlB,KAAkB,CAAlB;AAUA,IAAMC,UAAU,6FAAhB,KAAgB,CAAhB;;AAUA,iBAAiB;AACf,SAAO;AACLC,WAAO,EAAEF,YAAY,CAAZA,KADJ,IACIA,CADJ;AAELnC,QAAI,EAAEoC,UAAU,CAAVA;AAFD,GAAP;AAID,C;;;;;;;;;;;;;;ACjCD,IAAM9D,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM8D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEA,IAAMC,MAAM,GAAG;AACb,KADa;AAEb,KAFa;AAGb,KAHa;AAIb,KAJa;AAKb,KAAG;AALU,CAAf;;AAQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,QAAS;AACxB,MAAMC,EAAE,GAAG5D,KAAK,CAALA,MAAX;AACA,SAAO;AAAM,MAAE,EAAR;AAAc,aAAS,EAAEA,KAAK,CAACoB;AAA/B,KAA2CpB,KAAK,CAAvD,QAAO,CAAP;AAFF;;AAKAT,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,QAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,uGAAiBG,EACN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AADhBT,CAAiBG,EAEF,iBAAK;AAAA,SAAIgE,MAAM,CAAC1D,KAAK,CAAhB,KAAU,CAAV;AAFpBT,CAAiBG,EAGA,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AAHtBT,CAAiBG,CAAjBH,C;;;;;;;;;;;;;;AClBA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMoE,QAAQ,GAAG,mBAAO,CAAxB,wDAAwB,CAAxB;;AACA,IAAMnE,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;eAC8B,mBAAO,qD;IAA7BmE,I,YAAAA,I;IAAMC,K,YAAAA,K;IAAOC,I,YAAAA,I;;AACrB,IAAMC,cAAc,GAAG,mBAAO,CAA9B,4EAA8B,CAA9B;AAEA;;;AACA,IAAMC,UAAS,GAAf;AAEA,IAAMC,WAAU,GAAhB;AAEA,IAAMC,UAAS,GAAG;AAChBC,GAAC,EADe;AAEhBC,WAAS,EAAE;AAFK,CAAlB;AAIA,IAAMnD,KAAI,GAAV;AAEA,IAAMoD,MAAK,GAAG,qQAAd,sPAAc,CAAd;AAIA,IAAMjD,KAAI,GAAV;AAEA,IAAMkD,aAAY,GAAlB;AAEA,IAAMC,WAAU,GAAhB;AAEA,IAAMC,aAAY,GAAG,CACnB;AACEL,GAAC,EADH;AAEEM,UAAQ,EAAE;AAFZ,CADmB,CAArB;AAMA,IAAMC,OAAM,GAAZ;AAEA,IAAMC,WAAU,GAAhB;AAEA,IAAMC,QAAO,GAAb;AAEA,IAAMC,YAAW,GAAjB;AACA,IAAMC,KAAI,GAAV;AAEA,IAAM9C,MAAK,GAAX;AAEA,IAAM+C,KAAI,GAAG,sdAAb,qcAAa,CAAb;AAIA,IAAMC,UAAS,GAAf;AAEA,IAAMC,UAAS,GAAf;AAEA,IAAMC,QAAO,GAAb;AAEA,IAAMC,aAAY,GAAG,2KAArB,oPAAqB,CAArB;AAIA,IAAMC,SAAQ,GAAd;AAEA,IAAMC,MAAK,GAAX;AAEA,IAAMC,OAAM,GAAZ;AAEA,IAAMC,OAAM,GAAZ;AAEA,IAAMC,OAAM,GAAZ;AAGA,IAAMC,MAAK,GAAG,gRAAd,kKAAc,CAAd;AAKA,IAAMC,gBAAe,GAAG,kPAAxB,gPAAwB,CAAxB;AAKA,IAAMC,iBAAgB,GAAG,+OAAzB,2OAAyB,CAAzB;AAKA,IAAMC,WAAU,GAAG,CACjB;AACEzB,GAAC,EACC;AAFJ,CADiB,CAAnB;AAOA,IAAM0B,cAAa,GAAG,wMAGpB;AACEjD,SAAO,EADT;AAEEkD,IAAE,EAFJ;AAGEC,IAAE,EAHJ;AAIEC,GAAC,EAAE;AAJL,CAHoB,EAAtB,uEAAsB,CAAtB;AAYA,IAAMC,MAAK,GAAG,8iBAEZ;AACErD,SAAO,EADT;AAEEkD,IAAE,EAFJ;AAGEC,IAAE,EAHJ;AAIEC,GAAC,EAAE;AAJL,CAFY,EAAd,4BAAc,CAAd;AAWA,IAAME,QAAO,GAAG,kHAAhB,oRAAgB,CAAhB;AAKA,IAAMC,YAAW,GAAG,CAClB;AACEvD,SAAO,EADT;AAEEwD,GAAC,EAFH;AAGEC,GAAC,EAHH;AAIEC,OAAK,EAJP;AAKEC,QAAM,EAAE;AALV,CADkB,CAApB;AAUA,IAAMC,UAAS,GAAG,CAAlB,qvBAAkB,CAAlB;AAIA,IAAMC,KAAK,GAAG;AACZ,uBAAqB;AAAA;AADT;AAEZ,wBAAsB;AAAA;AAFV;AAGZ,gBAAc;AAAA;AAHF;AAIZ,gBAAc;AAAA;AAJF;AAKZ,iBAAe;AAAA;AALH;AAMZhB,OAAK,EAAE;AAAA;AANK;AAOZ,uBAAqB;AAAA,WAAMiB,SAAQ,CAAd,IAAc,CAAd;AAPT;AAQZA,UAAQ,EAAE;AAAA,WAAMA,SAAN;AARE;AASZrC,OAAK,EAAE;AAAA;AATK;AAUZpD,MAAI,EAAE;AAAA;AAVM;AAWZiF,SAAO,EAAE;AAAA;AAXG;AAYZ9E,MAAI,EAAE;AAAA;AAZM;AAaZkD,cAAY,EAAE;AAAA;AAbF;AAcZuB,eAAa,EAAE;AAAA;AAdH;AAeZc,KAAG,EAAE;AAAA;AAfO;AAgBZpC,YAAU,EAAE;AAAA;AAhBA;AAiBZ,mBAAiB;AAAA;AAjBL;AAkBZM,aAAW,EAAE;AAAA;AAlBD;AAmBZsB,aAAW,EAAE;AAAA;AAnBD;AAoBZ,iBAAe;AAAA;AApBH;AAqBZzB,QAAM,EAAE;AAAA;AArBI;AAsBZC,YAAU,EAAE;AAAA;AAtBA;AAuBZC,SAAO,EAAE;AAAA;AAvBG;AAwBZ4B,WAAS,EAAE;AAAA;AAxBC;AAyBZ1B,MAAI,EAAE;AAAA;AAzBM;AA0BZmB,OAAK,EAAE;AAAA;AA1BK;AA2BZjE,OAAK,EAAE;AAAA;AA3BK;AA4BZ+C,MAAI,EAAE;AAAA;AA5BM;AA6BZC,WAAS,EAAE;AAAA;AA7BC;AA8BZC,WAAS,EAAE;AAAA;AA9BC;AA+BZC,SAAO,EAAE;AAAA;AA/BG;AAgCZC,cAAY,EAAE;AAAA;AAhCF;AAiCZC,UAAQ,EAAE;AAAA;AAjCE;AAkCZC,OAAK,EAAE;AAAA;AAlCK;AAmCZC,QAAM,EAAE;AAAA;AAnCI;AAoCZC,QAAM,EAAE;AAAA;AApCI;AAqCZC,QAAM,EAAE;AAAA;AAAA;AArCI,CAAd;;AAwCA,6BAA4B;AAC1B,MAAMoB,MAAM,GAAZ;AACA,MAAMC,KAAK,GAAX;AACA,MAAMC,GAAG,GAAGF,MAAM,GAAlB;AACA,MAAMG,MAAM,GAAG,CAAC,KAAD,UAAf;AACA,MAAMC,KAAK,GAAGH,KAAK,GAALA,QAAd;AAEA,MAAMI,MAAM,GAAG,KAAK,CAACJ,KAAK,GAAX,KAAK,CAAL,KACR,gBAAU;AACb,QAAMT,CAAC,GAAGc,CAAC,GAAX;AACA,QAAMb,CAAC,GAAG,CAACa,CAAC,GAAF,KAAV;AAEA,QAAMC,MAAM,GAAGd,CAAC,GAADA,UAAcD,CAAC,GAADA,MAAdC,IAA4BD,CAAC,GAADA,MAA3C;;AAEA,QAAI,CAAJ,QAAa;AACX;AACD;;AAED,QAAMgB,OAAO,GAAG,CAACf,CAAC,GAAF,MAAWD,CAAC,GAA5B,CAAgB,CAAhB;AACA,QAAMiB,MAAM,GAAGC,QAAQ,UAAUF,OAAO,IAAxC;;AAEA,QAAI,CAAJ,QAAa;AACX;AACD;;AAED,WAAOG,IAAI,CAAC;AACVnB,OAAC,EAAEW,MAAM,GAAGX,CAAC,GADH;AAEVC,OAAC,EAAEU,MAAM,GAAGV,CAAC,GAFH;AAGVC,WAAK,EAHK;AAIVC,YAAM,EAAEO;AAJE,KAAD,CAAX;AAlBW,YAAf,OAAe,CAAf;AA2BA,SAAOU,SAAS,CAAhB,MAAgB,CAAhB;AACD;;AAED,qBAAqB;AACnB,MAAMC,CAAC,GAAG7D,IAAI,QAAQ,yBAAtB,GAAsB,CAAR,CAAd;AACA,MAAMO,CAAC,cAAOrE,KAAK,CAAZ,eAAkBA,KAAK,CAAvB,eAA6BA,KAAK,CAAlC,mBAA4CA,KAAK,CAAjD,qBAA6DA,KAAK,CAAlE,OAAP,GAAO,CAAP;AACA,SAAO+D,KAAK,QAAQ;AAAEM,KAAC,EAADA;AAAF,GAAR,CAAZ;AACD;;AAED,sBAAsB;AACpB,SAAOzB,KAAK,CAALA,KAAK,CAALA,MAAP,IAAOA,CAAP;AACD;;AAED,0BAA0B;AACxB,MAAMyB,CAAC,GAAG,KAAK,CAAL,IAAU,gBAAI;AAAA,WAAIuD,IAAI,CAAR;AAAd,UAAV,EAAU,CAAV;AACA,SAAO,CACL;AACEvD,KAAC,EAADA;AADF,GADK,CAAP;AAKD;;AAED,IAAMwD,SAAS,GAAGC,MAAM,CAANA,KAAlB,KAAkBA,CAAlB;AAEA;;;;AAGAvI,MAAM,CAANA,UAAiB0E,cAAc,UAAdA,QAAc,CAAdA,CAAjB1E,IAAiB0E,CAAjB1E;AAEAA,MAAM,CAANA;AAEAA,MAAM,CAANA;AAEAA,MAAM,CAANA,sBAA6B;AAC3B8F,cAAY,EAAZA;AAD2B,CAA7B9F;AAGA;;;;AAIA,4BAA4B;AAC1B,MAAMwI,IAAI,GAAG,SAAS,CAAT,IAAc,gBAAI;AAAA,WAAIC,IAAI,CAAR;AAAlB,KAAb,IAAa,EAAb;AACA,MAAMC,OAAO,GAAGjE,IAAI,CAApB,IAAoB,CAApB;AACA,SAAO;AAAc,WAAO,EAAEiE;AAAvB,IAAP;AACD;;AAED,4BAA4B;AAC1B,MAAMC,OAAO,GAAGC,qBAAhB;AACAtE,UAAQ,CAARA;AACD;;AAED,iCAAiC;AAAA;AAAA,MACvBuE,QADuB;AAE/B,MAAMC,KAAK,GAAGD,QAAQ,CAARA,cAAd,sBAAcA,CAAd;;AACA,aAAW;AACT;AACD;;AAED,MAAME,OAAO,GAAGF,QAAQ,CAARA,cAAhB,KAAgBA,CAAhB;AACAE,SAAO,CAAPA;AACAF,UAAQ,CAARA;AACA;AACD;;AAED,IAAMG,KAAK,GAAG;AACZC,GAAC,EADW;AAEZC,GAAC,EAFW;AAGZC,GAAC,EAHW;AAIZ1F,MAAI,EAAE;AAJM,CAAd;;AAOA,qBAAqB;AACnB,SACE;AAAY,aAAS,EAAEhD,KAAK,CAA5B;AAAwC,QAAI,EAAEA,KAAK,CAAnD;AAA0D,UAAM,EAAEA,KAAK,CAAC2I;AAAxE,KACE;AACE,SAAK,EAAE3I,KAAK,CADd;AAEE,aAAS,aAAMA,KAAK,CAALA,UAAN;AAFX,IADF,CADF;AAQD;;AAEDH,IAAI,CAAJA,eAAoB;AAClB+I,MAAI,EADc;AAElB1I,QAAM,EAAE;AAFU,CAApBL;AAKA,IAAMW,UAAU,GAAGd,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gIAAGA,EACN,iBAAK;AAAA,SAAIM,KAAK,CAALA,yBAAJ;AADF,CAAGN,EAGR,iBAAK;AAAA,SAAI6I,KAAK,CAACvI,KAAK,CAAf,IAAS,CAAT;AAHA,CAAGN,EAIP,iBAAK;AAAA,SAAI6I,KAAK,CAACvI,KAAK,CAAf,IAAS,CAAT;AAJjB,CAAmBN,CAAnB;;AAWA,6BAA6B;AAC3B,SACE,0CACG,KAAK,CAAL,YAAkB,kBAAU;AAC3B,QAAMmJ,OAAO,GACX,OAAOlC,KAAK,CAAZ,MAAY,CAAZ,kBACIA,KAAK,CADT,MACS,CADT,GAEIA,KAAK,CAHX;AAKA,QAAMmC,KAAK,GAAGD,OAAd;AACA,WAAO;AAAQ,SAAG,EAAX;AAAqB,QAAE,EAAvB;AAAiC,gBAAU,EAAEC;AAA7C,MAAP;AATN,GAEK,CADH,CADF;AAaD;;AAEDC,YAAY,CAAZA,eAA4B;AAC1Bd,SAAO,EAAE;AADiB,CAA5Bc;AAIA,IAAMC,cAAc,GAAGtJ,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAApB,8EAAoB,CAAGA,CAAvB;;AASA,wBAAuB;AACrB,MAAMoJ,KAAK,GAAGlG,KAAK,CAALA,QAAc5C,KAAK,CAAnB4C,cACV5C,KAAK,CADK4C,aAEV,CAAC5C,KAAK,CAFV,UAEI,CAFJ;;AAIA,MAAIA,KAAK,CAAT,MAAgB;AACd,WACE;AAAG,WAAK,EAAEA,KAAK,CAACiJ;AAAhB,OACG,KAAK,CAAL,IAAU,aAAC;AAAA,aAAI;AAAM,WAAG,EAAT;AAAc,kBAAU,EAAEtB;AAA1B,QAAJ;AAFhB,KAEK,CADH,CADF;AAKD;;AAED,SACE;AAAQ,aAAS,EAAE3H,KAAK,CAAxB;AAAoC,MAAE,EAAEA,KAAK,CAA7C;AAAkD,WAAO,EAAC;AAA1D,KACG,KAAK,CAAL,IAAU,aAAC;AAAA,WAAI;AAAM,SAAG,EAAT;AAAc,gBAAU,EAAE2H;AAA1B,MAAJ;AAFhB,GAEK,CADH,CADF;AAKD;;AAED,qBAAqB;AAAA,MACXuB,UADW,GACIlJ,KADJ;AAEnB,MAAMmJ,GAAG,GAAG,iCAAiC;AAAE9E,KAAC,EAAE6E;AAAL,GAAjC,GAAZ;AACA,MAAMvB,CAAC,GAAG7D,IAAI,MAAM,CAApB,SAAoB,CAAN,CAAd;AACA,MAAMsF,SAAS,GAAGD,GAAG,CAAHA,WAAlB;AACA,SAAO,+BAAP,CAAO,CAAP;AACD,C;;;;;;;;;;;;;;;ACxWD5J,MAAM,CAANA,UAAiB;AACfY,QAAM,EAAE,mBAAO,CADA,mDACA,CADA;AAEfkJ,UAAQ,EAAE,mBAAO,CAFF,yDAEE,CAFF;AAGfC,KAAG,EAAE,mBAAO,CAAP,oGAAO,CAAP3J,CAHU;AAIf4J,MAAI,EAAE,mBAAO,CAJE,+CAIF,CAJE;AAKf5F,UAAQ,EAAE,mBAAO,CALF,uDAKE,CALF;AAMf9D,MAAI,EAAE,mBAAO,CANE,+CAMF,CANE;AAOf2J,iBAAe,EAAE,mBAAO,CAAP,+CAAO,CAAP7J,CAPF;AAQf8J,eAAa,EAAE,mBAAO,CAAP,yDAAO,CAAP9J,CARA;AASf+J,UAAQ,EAAE,mBAAO,CATF,yDASE,CATF;AAUfC,cAAY,EAAE,mBAAO,CAAP,oGAAO,CAAPhK,CAVC;AAWfiK,WAAS,EAAE,mBAAO,CAXH,mDAWG,CAXH;AAYfC,WAAS,EAAE,mBAAO,CAAP,oGAAO,CAAPlK,CAZI;AAafG,MAAI,EAAE,mBAAO,CAbE,+CAaF,CAbE;AAcfgK,MAAI,EAAE,mBAAO,CAdE,yCAcF,CAdE;AAefC,YAAU,EAAE,mBAAO,CAfJ,6DAeI,CAfJ;AAgBfC,gBAAc,EAAE,mBAAO,CAhBR,qEAgBQ,CAhBR;AAiBfC,UAAQ,EAAE,mBAAO,CAjBF,uDAiBE,CAjBF;AAkBfC,gBAAc,EAAE,mBAAO,CAlBR,qEAkBQ,CAlBR;AAmBfC,iBAAe,EAAE,mBAAO,CAnBT,uEAmBS,CAnBT;AAoBfC,mBAAiB,EAAE,mBAAO,CApBX,2EAoBW,CApBX;AAqBfC,gBAAc,EAAE,mBAAO,CArBR,qEAqBQ,CArBR;AAsBfC,QAAM,EAAE;AACNA,UAAM,EAAE,mBAAO,CAAP,mDAAO,CAAP3K,CADF;AAEN4K,gBAAY,EAAE,mBAAO,CAAP,mDAAO,CAAP5K,CAFR;AAGN6K,oBAAgB,EAAE,mBAAO,CAAP,mDAAO,CAAP7K,CAHZ;AAIN8K,uBAAmB,EAAE,mBAAO,CAAP,mDAAO,CAAP9K,CAJf;AAKN+K,uBAAmB,EAAE,mBAAO,CAAP,mDAAO,CAAP/K,CALf;AAMNgL,mBAAe,EAAE,mBAAO,CAAP,mDAAO,CAAPhL,CANX;AAONiL,mBAAe,EAAE,mBAAO,CAAP,mDAAO,CAAPjL,CAPX;AAQNkL,SAAK,EAAE,mBAAO,CAAP,mDAAO,CAAPlL,CAAoBkL;AARrB,GAtBO;AAgCfC,aAAW,EAAE,mBAAO,CAhCL,+DAgCK,CAhCL;AAiCfC,kBAAgB,EAAE,mBAAO,CAAP,oGAAO,CAAPpL,CAjCH;AAkCfD,QAAM,EAAE,mBAAO,CAAP,oGAAO,CAAPC,CAlCO;AAmCfqL,mBAAiB,EAAE,mBAAO,CAAP,oGAAO,CAAPrL,CAnCJ;AAoCfsL,QAAM,EAAE,mBAAO,CAAP,+CAAO,CAAPtL,CApCO;AAqCfuL,KAAG,EAAE,mBAAO,CArCG,6CAqCH,CArCG;AAsCfC,eAAa,EAAE,mBAAO,CAAP,oGAAO,CAAPxL,CAtCA;AAuCf8D,MAAI,EAAE,mBAAO,CAvCE,+CAuCF,CAvCE;AAwCfpC,QAAM,EAAE,mBAAO,CAxCA,mDAwCA,CAxCA;AAyCf+J,KAAG,EAAE,mBAAO;AAzCG,CAAjB7L,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAM0L,MAAM,GAAG,mBAAO,CAAtB,2DAAsB,CAAtB;;AACA,IAAMrI,IAAI,GAAG,mBAAO,CAApB,iHAAoB,CAApB;;eACiB,mBAAO,qD;IAAhBc,I,YAAAA,I;;AAER,IAAMrD,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMX,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMyJ,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAM1J,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAM4D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlE,MAAM,CAANA;AACAA,MAAM,CAANA;AAEA,IAAMoB,aAAa,GAAnB;AAEA,IAAM2K,cAAc,GAAG5L,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gNAAGA,EAMJ,iBAAK;AAAA,SACpBM,KAAK,CAALA,oGADoB,IACpBA,CADoB;AANJ,CAAGN,EAUK,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAVb,CAAGN,EAWC,iBAAK;AAAA,SAAKM,KAAK,CAALA,aAAL;AAXT,CAAGN,EAcP,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAdrB,CAAuBN,CAAvB;AAiBA,IAAM6L,eAAe,GAAG7L,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gDAAGA,EAGR,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHrB,CAAwBN,CAAxB;AAMA,IAAM8L,UAAU,GAAG9L,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,wHAAgB,CAAGA,CAAnB;AAUA,IAAM+L,aAAa,GAAG/L,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAnB,uFAAmB,CAAGA,CAAtB;AAQA,IAAMgM,iBAAiB,GAAGhM,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,+CAAGA,EAEf,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAA0BN,CAA1B;AAMA,IAAMiM,QAAQ,GAAGjM,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,wGAAGA,EAEN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAAiBN,CAAjB;AASA,IAAMkM,UAAU,GAAGlM,MAAM,CAAT,KAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,iGAAgB,CAAGA,CAAnB;AASA,IAAMmM,cAAc,GAAGnM,MAAM,CAAT,EAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,mKAAGA,EAIG,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAJ/B,CAAuBN,CAAvB;AAcA,IAAMoM,SAAS,GAAGpM,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gCAAGA,EAEP,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAAkBN,CAAlB;;AAKA,8BAA8B;AAC5B,SACE;AACE,aAAS,EAAEM,KAAK,CADlB;AAEE,SAAK,EAAE;AACL,wBADK;AAEL0F,YAAM,YAAK1F,KAAK,CAAV,mBAAoBA,KAAK,CAAzB;AAFD,KAFT;AAME,SAAK,uCAAgCA,KAAK,CAArC,qBAAgDA,KAAK,CAArD;AANP,KAQGA,KAAK,CATV,QACE,CADF;AAYD;;AAED,IAAM+L,aAAa,GAAG,SAAhBA,aAAgB,QAAS;AAC7B,MAAMC,CAAC,GAAGhJ,IAAI,CAAChD,KAAK,CAApB,QAAc,CAAd;;AACA,MAAI,CAACqL,MAAM,CAANA,MAAL,CAAKA,CAAL,EAAsB;AACpB,WAAOrL,KAAK,CAALA,aAAP;AACD;;AACD,MAAIqL,MAAM,CAANA,aAAJ,OAAIA,CAAJ,EAAkC;AAChC,WAAOrL,KAAK,CAALA,aAAP;AACD;;AACD,MAAIqL,MAAM,CAANA,aAAJ,WAAIA,CAAJ,EAAsC;AACpC,WAAOrL,KAAK,CAALA,aAAP;AACD;;AACD,SAAOA,KAAK,CAALA,aAAP;AAXF;;AAcA,IAAMiM,aAAa,GAAGvM,MAAM,CAAT,OAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,iEAAGA,EAAH,aAAGA,EAAtB,aAAsBA,CAAtB;AASA,IAAMwM,SAAS,GAAGxM,MAAM,CAAT,GAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,kNAAGA,EAKI,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AALZ,CAAGN,EAWL,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAXlB,CAAkBN,CAAlB;AAkBA,IAAMyM,gBAAgB,GAAGzM,MAAM,CAAT,UAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qKAAGA,EAKd,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AALM,CAAGN,EAQC,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAR/B,CAAyBN,CAAzB;AAYA,IAAM0M,gBAAgB,GAAG1M,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,6HAAGA,EAEd,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFM,CAAGN,EAOT,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAPrB,CAAyBN,CAAzB;AAUA,IAAM0C,UAAU,GAAG1C,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,aAAgB,CAAGA,CAAnB;;AAIA,yBAAyB;AAAA,MACf0B,SADe,GACDpB,KADC;AAEvB,MAAMqM,UAAU,GAAGvI,IAAI,QAAQ,CAA/B,WAA+B,CAAR,CAAvB;AAEA,SACE;AAAgB,aAAS,EAAzB;AAAsC,UAAM,EAAE9D,KAAK,CAACU;AAApD,KACE;AAA+B,cAAU;AAAzC,KADF,CADF;AAKD;;AAED,8BAA8B;AAC5B,SACE;AAAiB,cAAU,EAAEV,KAAK,CAAlC;AAA+C,aAAS,EAAEA,KAAK,CAACoB;AAAhE,KACE,sCACE,6CAAoBpB,KAAK,CAD3B,IACE,CADF,EAEE,oCAAWA,KAAK,CAHpB,EAGI,CAFF,CADF,EAKGA,KAAK,CAALA,YAAkB,yCAAgBA,KAAK,CAL1C,QAKqB,CALrB,EAME,sCACE,mCACE,gCACE,0CACE,qCAFJ,SAEI,CADF,CADF,EAIE,0CACE;AAAe,SAAK,EAApB;AAA+B,UAAM,EAAEA,KAAK,CAACsM;AAA7C,KACGtM,KAAK,CAPd,OAMM,CADF,CAJF,CADF,EAWE,gCACE,0CACE,qCAFJ,MAEI,CADF,CADF,EAIE,0CACE;AAAe,SAAK,EAApB;AAA4B,UAAM,EAAEA,KAAK,CAACuM;AAA1C,KACE,gCAAOvM,KAAK,CAjBpB,IAiBQ,CADF,CADF,CAJF,CAXF,EAqBGwM,GAAG,CAACxM,KAAK,CAATwM,IAAG,CAAHA,IACC,gCACE,0CACE,qCAFJ,MAEI,CADF,CADF,EAIE,0CACG,KAAK,CAAL,SAAe,aAAC;AAAA,WAAI;AAAW,SAAG,EAAd;AAAmB,SAAG,EAAEC;AAAxB,MAAJ;AA3BzB,GA2BS,CADH,CAJF,CAtBJ,EA+BGD,GAAG,CAACxM,KAAK,CAATwM,IAAG,CAAHA,IACCxM,KAAK,CAALA,cADDwM,KAEG,gCACE,0CACE,qCAFJ,aAEI,CADF,CADF,EAIE,0CACE;AACE,QAAI,EADN;AAEE,YAAQ,EAAExM,KAAK,CAFjB;AAGE,SAAK,EAAEA,KAAK,CAALA,IAAU0M;AAHnB,KAKG,KAAK,CAAL,SAAe,aAAC;AAAA,WACf;AAAQ,SAAG,EAAEC,CAAC,CAAd;AAAqB,WAAK,EAAEA,CAAC,CAACD;AAA9B,OACGC,CAAC,CAFW,WACf,CADe;AAlDjC,GAkDiB,CALH,CADF,CAJF,CAjCN,CADF,CANF,EA6DGH,GAAG,CAACxM,KAAK,CAATwM,YAAG,CAAHA,IACC;AACE,QAAI,0BAAmBxM,KAAK,CAALA,aAAnB,QADN,GACM,CADN;AAEE,WAAO,EAAEA,KAAK,CAFhB;AAGE,QAAI,EAAC;AAHP,KAKE,uCACG,KAAK,CAAL,iBAAuB,aAAC;AAAA,WACvB;AAAa,SAAG,EAAEqE,CAAC,CAAnB;AAAwB,aAAO,EAAEA;AAAjC,MADuB;AApEjC,GAoES,CADH,CALF,CA9DJ,EA0EGmI,GAAG,CAACxM,KAAK,CAATwM,UAAG,CAAHA,IACC;AACE,QAAI,wBAAiBxM,KAAK,CAALA,WAAjB,QADN,GACM,CADN;AAEE,WAAO,EAAEA,KAAK,CAFhB;AAGE,QAAI,EAAC;AAHP,KAKE,uCACG,KAAK,CAAL,eAAqB,aAAC;AAAA,WAAI;AAAa,SAAG,EAAEqE,CAAC,CAAnB;AAAwB,aAAO,EAAEA;AAAjC,MAAJ;AAjF/B,GAiFS,CADH,CALF,CA3EJ,EAqFGmI,GAAG,CAACxM,KAAK,CAATwM,gBAAG,CAAHA,IACC;AACE,QAAI,+BAAwBxM,KAAK,CAALA,iBAAxB,QADN,GACM,CADN;AAEE,WAAO,EAAEA,KAAK,CAFhB;AAGE,QAAI,EAAC;AAHP,KAKE,uCACG,KAAK,CAAL,qBAA2B,aAAC;AAAA,WAC3B;AAAa,SAAG,EAAEqE,CAAC,CAAnB;AAAwB,aAAO,EAAEA;AAAjC,MAD2B;AA5FrC,GA4FS,CADH,CALF,CAtFJ,EAkGGmI,GAAG,CAACxM,KAAK,CAATwM,cAAG,CAAHA,IACC;AACE,QAAI,6BAAsBxM,KAAK,CAALA,eAAtB,QADN,GACM,CADN;AAEE,WAAO,EAAEA,KAAK,CAFhB;AAGE,QAAI,EAAC;AAHP,KAKE,uCACG,KAAK,CAAL,mBAAyB,aAAC;AAAA,WACzB;AAAa,SAAG,EAAEqE,CAAC,CAAnB;AAAwB,aAAO,EAAEA;AAAjC,MADyB;AAzGnC,GAyGS,CADH,CALF,CAnGJ,EA+GE;AAAQ,QAAI,EAAZ;AAAwB,WAAO,EAAErE,KAAK,CAAtC;AAAwD,QAAI,EAAC;AAA7D,KACE;AAAY,SAAK,EAAjB;AAAkB,YAAQ,EAAC;AAA3B,KACGA,KAAK,CAlHd,QAiHM,CADF,CA/GF,CADF;AAuHD;;AAED,IAAM4M,qBAAqB,GAAGlN,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qJAAGA,EASjB,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AATlB,CAA8BN,CAA9B;AAcA,IAAMmN,YAAY,GAAGnN,MAAM,CAAT,MAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,yKAAGA,EAIV,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAJhB,CAAqBN,CAArB;;AAeA,uBAAuB;AACrB,SACE;AAAuB,aAAS,EAAEM,KAAK,CAACoB;AAAxC,KACE;AAAc,YAAQ,EAAEpB,KAAK,CAA7B;AAAwC,SAAK,EAAEA,KAAK,CAAC8M;AAArD,KACG9M,KAAK,CAHZ,QAEI,CADF,CADF;AAOD;;AAED,wBAAwB;AACtB,SACE;AACE,aAAS,EAAEA,KAAK,CADlB;AAEE,UAAM,EAAEA,KAAK,CAFf;AAGE,SAAK,EAAC;AAHR,KAKE,gCAAOA,KAAK,CANhB,MAMI,CALF,CADF;AASD;;AAED,oBAAoB;AAClB,SACE;AAAe,aAAS,EAAEA,KAAK,CAA/B;AAA2C,UAAM,EAAEA,KAAK,CAAxD;AAA8D,SAAK,EAAC;AAApE,KACE,gCAAOA,KAAK,CAFhB,GAEI,CADF,CADF;AAKD;;AAED,IAAM+M,WAAW,GAAGrN,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,mCAAGA,EAEL,iBAAK;AAAA,SAAKM,KAAK,CAALA,2BAAL;AAFpB,CAAoBN,CAApB;AAKA,IAAMsN,UAAU,GAAGtN,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,qFAAgB,CAAGA,CAAnB;;AAOA,2BAA2B;AACzB,MAAMuN,KAAK,iCAASjN,KAAK,CAAd,mBAAgC,CAACA,KAAK,CAAjD,OAAW,CAAX;;AACA,SACE;AACE,SAAK,EADP;AAEE,aAAS,EAAEA,KAAK,CAFlB;AAGE,SAAK,YAAKA,KAAK,CAALA,mBAAL,oBAAwCA,KAAK,CAA7C;AAHP,KAKE,gCAAOA,KAAK,CALd,QAKE,CALF,EAME;AAAa,WAAO,EAAEA,KAAK,CAACkN;AAA5B,KAPJ,QAOI,CANF,CADF;AAUD;;AAED,IAAMC,iBAAiB,GAAGzN,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAvB,aAAuB,CAAGA,CAA1B;;AAIA,4BAA4B;AAC1B,SAAO,6CAAoBM,KAAK,CAAhC,QAAO,CAAP;AACD;;AAED,IAAMoN,iBAAiB,GAAG1N,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gEAAGA,EAEf,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAA0BN,CAA1B;;AAOA,4BAA4B;AAC1B,SACE;AACE,QAAI,oBAAaM,KAAK,CAALA,QADnB,EACM,CADN;AAEE,eAASA,KAAK,CAALA,QAAcqN;AAFzB,KAIE,gCAAOrN,KAAK,CAALA,iBALX,WAKI,CAJF,CADF;AAQD;;AAED,IAAMsN,YAAY,GAAG5N,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAlB,4DAAkB,CAAGA,CAArB;;AAOA,uBAAuB;AACrB,SACE,wCACE;AAAkB,QAAI,EAAEM,KAAK,CAA7B;AAAoC,WAAO,EAAEA,KAAK,CAACkN;AAAnD,KACGlN,KAAK,CAFV,IACE,CADF,EAIGA,KAAK,CAALA,WAAiB,4CAAmBA,KAAK,CAL9C,QAKsB,CAJpB,CADF;AAQD;;AAED,kBAAkB;AAChB,SAAO4C,KAAK,CAALA,gBAAsB2K,GAAG,CAAHA,SAA7B;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/bD,IAAM9N,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAM+N,SAAS,GAAG,mBAAO,CAAzB,0DAAyB,CAAzB;;AAEA,IAAMC,iBAAiB,GAAG;AACxBC,YAAU,EAAE,SAAS,CAAT,QACV,SAAS,CAAT,MAAgB;AACdC,UAAM,EAAEH,SAAS,CADH;AAEdvM,UAAM,EAAEuM,SAAS,CAACI;AAFJ,GAAhB,CADU;AADY,CAA1B;;IASMC,iB;;;;;;;;;;;;;sCACc;AAChB,aAAO;AAAEH,kBAAU,EAAE,WAAWA;AAAzB,OAAP;AACD;;;6BAEQ;AAAA,UACC1N,KADD;AAEP,aAAOP,KAAK,CAALA,cAAoBO,KAAK,CAAhC,QAAOP,CAAP;AACD;;;;EAR6BA,KAAK,CAAC2J,S;;AAWtCyE,iBAAiB,CAAjBA;;AAEA,8BAA8B;AAC5B,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,iBAAoB;AAC5C,QAAMJ,UAAU,GAAG9K,KAAK,CAALA,QAAcmL,OAAO,CAArBnL,cACfmL,OAAO,CADQnL,aAAnB;AAIA,QAAMoL,UAAU,GAAG,UAAU,CAAV,KAAgB,qBAAa;AAC9C,aACEpE,SAAS,CAATA,2BACAA,SAAS,CAATA,wBAFF;AADF,KAAmB,CAAnB;;AAOA,QAAI,CAAJ,YAAiB;AACf,aAAO,yCAA0B5J,KAAK,CAAtC,QAAO,CAAP;AACD;;AAED,QAAMiO,MAAM,GAAGD,UAAU,CAAzB;AACA,WAAO,mCAAoBhO,KAAK,CAAhC,QAAO,CAAP;AAjBF;;AAoBA8N,mBAAiB,CAAjBA;AACAA,mBAAiB,CAAjBA;AACA;AACD;;AAEDvO,MAAM,CAANA;AACAA,MAAM,CAANA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAME,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMqO,MAAM,GAAG,mBAAO,CAAP,oDAAO,CAAPvO,CAAf;;IAEMG,I;;;;;AACJ,kBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAANqO,IAAM;AAANA,UAAM,MAANA,GAAM,eAANA;AAAM;;AACnB;AACA,wBAAmB,qEAAnB,KAAmB,GAAnB;AAFmB;AAGpB;;;;gCAEWxB,C,EAAG;AACb,UAAI,OAAO,WAAP,YAAJ,YAA8C;AAC5C;AACD;AACF;;;6BAEQ;AAAA,UACC3M,KADD;AAEP,UAAM2N,MAAM,GAAGS,YAAY,CAA3B,KAA2B,CAA3B;AACA,aACE;AACE,cAAM,EADR;AAEE,WAAG,EAAET,MAAM,KAANA,mCAFP;AAGE,iBAAS,EAAE3N,KAAK,CAHlB;AAIE,YAAI,EAAEA,KAAK,CAJb;AAKE,eAAO,EAAE,KALX;AAME,mBAAW,EAAEA,KAAK,CANpB;AAOE,aAAK,EAAEA,KAAK,CAPd;AAQE,mBAASA,KAAK;AARhB,SAUE;AAAqB,YAAI,EAAEA,KAAK,CAAhC;AAAuC,gBAAQ,EAAEA,KAAK,CAACqO;AAAvD,SACE;AAAiB,YAAI,EAAErO,KAAK,CAACsO;AAA7B,SAAoCtO,KAAK,CAD3C,QACE,CADF,EAEGA,KAAK,CAALA,YAAkBA,KAAK,CAAvBA,QACC;AACE,cAAM,EADR;AAEE,YAAI,EAAEA,KAAK,CAALA,YAFR;AAGE,cAAM;AAHR,QAHJ,CAVF,CADF;AAuBD;;;;EAtCgBP,KAAK,CAAC2J,S;;AAyCzB7J,MAAM,CAANA,UAAiB2O,MAAM,CAAvB3O,IAAuB,CAAvBA;AACAA,MAAM,CAANA;AAEAO,IAAI,CAAJA,eAAoB;AAClBuO,UAAQ,EADU;AAElBE,SAAO,EAAE,mBAAM,CAAE;AAFC,CAApBzO;AAKA,IAAM0O,mBAAmB,GAAG9O,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gIAAGA,EAGb,iBAAK;AAAA,SAAIM,KAAK,CAALA,WAAJ;AAHK,CAAGN,EAMT,iBAAK;AAAA,SAAIM,KAAK,CAALA,wBAAJ;AANxB,CAA4BN,CAA5B;AAaA,IAAM+O,eAAe,GAAG/O,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,eAAGA,EACb,iBAAK;AAAA,SAAIM,KAAK,CAALA,6BAAJ;AADhB,CAAwBN,CAAxB;;AAIA,6BAA6B;AAC3B,MAAIM,KAAK,CAAT,QAAkB;AAChB,WAAOA,KAAK,CAAZ;AACD;;AACD,SAAOA,KAAK,CAALA,sBAAP;AACD;;AAAA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5ED,IAAMP,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAMG,IAAI,GAAG,mBAAO,CAApB,+CAAoB,CAApB;;AACA,IAAMD,IAAI,GAAG,mBAAO,CAApB,+CAAoB,CAApB;;AACA,IAAMuL,GAAG,GAAG,mBAAO,CAAnB,uCAAmB,CAAnB;;AAEA,IAAMsD,UAAU,GAAGhP,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,6DAAGA,EAKN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AALlB,CAAmBN,CAAnB;;IASMoK,I;;;;;;;;;;;;;6BACK;AAAA,UACC9J,KADD;;AAGP,UAAIA,KAAK,CAAT,QAAkB;AAChB,eACE;AAAK,mBAAS,EAAEA,KAAK,CAACoB;AAAtB,WACE;AACE,iCAAuB,EAAE;AAACuN,kBAAM,EAAE3O,KAAK,CAACiB;AAAf,WAD3B;AAEE,kBAAQ,EAFV;AAGE,cAAI,EAHN;AAIE,eAAK,EAJP;AAKE,gBAAM,EAAC;AALT,WAOE;AAAK,iCAAuB,EAAE;AAAC0N,kBAAM,EAAE3O,KAAK,CAACiB;AAAf;AAA9B,UAPF,CADF,CADF;AAaD;;AAED,aACE;AAAK,iBAAS,EAAEjB,KAAK,CAACoB;AAAtB,SACE;AAAY,gBAAQ,EAApB;AAA4B,YAAI,EAAhC;AAAqC,aAAK,EAA1C;AAAkD,cAAM,EAAC;AAAzD,SACE;AAAM,cAAM,EAAZ;AAA4B,YAAI,EAAC;AAAjC,QADF,CADF,CADF;AAOD;;;;EA3BgB3B,KAAK,CAAC2J,S;;AA8BzB7J,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,IAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,uJAAiBG,EASD,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AATrBT,CAAiBG,CAAjBH,C;;;;;;;;;;;;;;AC9CA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAME,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAN,MAAM,CAANA;;AAEA,2BAA2B;AACzB,SACE;AAAkB,aAAS,EAAES,KAAK,CAAlC;AAA8C,SAAK,EAAEA,KAAK,CAAC4O;AAA3D,KACG5O,KAAK,CADR,OAEGA,KAAK,CAALA,SAAe,uCAAcA,KAAK,CAHvC,KAGoB,CAFlB,CADF;AAMD;;AAED,IAAM6O,gBAAgB,GAAGnP,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,iEAAGA,EAGd,iBAAK;AAAA,SAAIM,KAAK,CAALA,MAAJ;AAHM,CAAGN,EAIH,iBAAK;AAAA,SAAIM,KAAK,CAALA,MAAJ;AAJL,CAAGN,EAKrB,iBAAK;AAAA,SACL,CAACM,KAAK,CAAN,6EAIOA,KAAK,CAALA,MAJP,QADK,+DACL,CADK;AALT,CAAyBN,CAAzB;AAgBA,IAAMoP,WAAW,GAAGpP,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qBAAGA,EACH,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AADtB,CAAoBN,CAApB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA,IAAMD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMG,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMiP,MAAM,GAAG,mBAAO,CAAtB,8DAAsB,CAAtB;;AACA,IAAM1E,cAAc,GAAG,mBAAO,CAA9B,sEAA8B,CAA9B;;AACA,IAAMD,iBAAiB,GAAG,mBAAO,CAAjC,4EAAiC,CAAjC;;AACA,IAAMD,eAAe,GAAG,mBAAO,CAA/B,wEAA+B,CAA/B;;AACA,IAAMtK,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;IAEMmP,U;;;;;AACJ,wBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAANb,IAAM;AAANA,UAAM,MAANA,GAAM,eAANA;AAAM;;AACnB;AACA,mBAAc,gEAAd,KAAc,GAAd;AACA,gCAA2B,6EAA3B,KAA2B,GAA3B;AAHmB;AAIpB;;;;wCAEmBxB,C,EAAG,CACrB;AACD;;;2BAEMsC,G,EAAK;AACV;AACD;;;6BAEQ;AAAA,UACCjP,KADD;AAEP,UAAM+C,QAAQ,GAAGtD,KAAK,CAALA,iBAAuBO,KAAK,CAA7C,QAAiBP,CAAjB;AACA,UAAMyP,OAAO,GAAG,QAAQ,CAAR,KAAc,iBAAK;AAAA,eAAIC,KAAK,CAALA,SAAJ;AAAnC,OAAgB,CAAhB;AACA,UAAMC,MAAM,GAAG,QAAQ,CAAR,KAAc,iBAAK;AAAA,eAAID,KAAK,CAALA,SAAJ;AAAlC,OAAe,CAAf;AAEA,aACE;AACE,iBAAS,EAAE,KAAKE;AADlB,SAGGD,MAAM,YAGL;AACE,aAAK,EAAEpP,KAAK,CADd;AAEE,cAAM,EAAC;AAFT,QANJ,EAWE;AAAsB,gBAAQ,EAAE,KAAKsP;AAArC,SACE;AACE,eAAO,EAAEtP,KAAK,CAALA,uBADX;AAEE,cAAM,EAAEA,KAAK,CAFf;AAGE,YAAI,EAAEA,KAAK,CAHb;AAIE,mBAAW,EAAEA,KAAK,CAJpB;AAKE,oBAAY,EAAEA,KAAK,CALrB;AAME,uBAAe,EAAE,KANnB;AAOE,aAAK,EAAEA,KAAK,CAACiN;AAPf,QADF,EAUE;AACE,eAAO,EAAEjN,KAAK,CAALA,6BADX;AAEE,eAAO,EAAEA,KAAK,CAFhB;AAGE,YAAI,EAHN;AAIE,iBAAS,EAJX;AAKE,eAAO,EAAEA,KAAK,CALhB;AAME,YAAI,EAAC;AANP,SAVF,YAUE,CAVF,EAoBE;AACE,YAAI,EADN;AAEE,eAAO,EAAEA,KAAK,CAALA,qBAA2BA,KAAK,CAALA,6BAFtC;AAGE,cAAM,EAAEA,KAAK,CAHf;AAIE,YAAI,EAAEA,KAAK,CAALA,WAJR;AAKE,mBAAW,EAAEA,KAAK,CALpB;AAME,uBAAe,EAAE,KANnB;AAOE,cAAM,EAPR;AAQE,aAAK,EAAEA,KAAK,CAACiN;AARf,QApBF,CAXF,EA0CGiC,OAAO,IACN,mDA5CN,OA4CM,CA3CJ,CADF;AAgDD;;;;EArEsBzP,KAAK,CAAC2J,S;;AAwE/B7J,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AAEAyP,UAAU,CAAVA,eAA0B;AACxBO,OAAK,EAAE;AADiB,CAA1BP;;AAIA,iCAAiC;AAC/B,SAAO,+CAAsBhP,KAAK,CAAlC,QAAO,CAAP;AACD;;AAED,IAAMwP,mBAAmB,GAAG9P,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,0DAAGA,EAGZ,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHrB,CAA4BN,CAA5B;;AAMA,wBAAwB;AACtB,MAAMuJ,KAAK,GAAGwG,MAAM,CAANA,qBAAd,IAAcA,CAAd;AACA,SAAO,qBAAS;AAAA,WACdC,QAAQ,CAACzG,KAAK,CAALA,mCAAD,SAACA,EAAD,EADM,EACN,CADM;AAAhB;AAED;;AAED,IAAM0G,YAAY,GAAGjQ,MAAM,CAAT,MAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAlB,kDAAkB,CAAGA,CAArB;AAMA,IAAMkQ,gBAAgB,GAAGlQ,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,yHAAGA,EAMH,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAN3B,CAAyBN,CAAzB;AASA,IAAMmQ,cAAc,GAApB;AAEA,IAAMC,oBAAoB,GAAGpQ,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,6WAAGA,EAAH,cAAGA,EAAH,cAAGA,EAA7B,cAA6BA,CAA7B;AA0BA,IAAMqQ,uBAAuB,GAAGrQ,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA7B,4BAA6B,CAAGA,CAAhC;;AAKA,8BAA8B;AAC5B,SACE;AACE,WAAO,EAAEM,KAAK,CADhB;AAEE,UAAM,EAAEA,KAAK,CAFf;AAGE,QAAI,EAAEA,KAAK,CAALA,KAHR;AAIE,eAAW,EAAEA,KAAK,CAJpB;AAKE,gBAAY,EAAEA,KAAK,CALrB;AAME,mBAAe,EAAEA,KAAK,CANxB;AAOE,UAAM,EAPR;AAQE,SAAK,EAAEA,KAAK,CAACiN;AARf,IADF;AAYD;;AAED,IAAM+C,uBAAuB,GAAGtQ,MAAM,CAAT,cAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA7B,uCAA6B,CAAGA,CAAhC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxKA,IAAMuQ,WAAW,GAAG,mBAAO,CAA3B,sEAA2B,CAA3B;;AACA,IAAMxQ,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMyQ,MAAM,GAAG,mBAAO,CAAtB,kDAAsB,CAAtB;;AACA,IAAMC,KAAK,GAAG,mBAAO,CAArB,kFAAqB,CAArB;;AACA,IAAMC,aAAa,GAAG,mBAAO,CAA7B,8DAA6B,CAA7B;;AACA,IAAM1Q,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAM0Q,EAAE,GAAG,mBAAO,CAAlB,qDAAkB,CAAlB;;AACA,IAAMC,OAAO,GAAG,mBAAO,CAAvB,kEAAuB,CAAvB;;AAEA,IAAMC,kBAAkB,GAAG,mBAAO,CAAlC,gFAAkC,CAAlC;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,oEAA4B,CAA5B;;AACA,IAAMC,iBAAiB,GAAG,mBAAO,CAAjC,gFAAiC,CAAjC;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,oEAA4B,CAA5B;;AACA,IAAMC,gBAAgB,GAAG,mBAAO,CAAhC,4EAAgC,CAAhC;;AACA,IAAMC,UAAU,GAAG,mBAAO,CAA1B,gEAA0B,CAA1B;;AACA,IAAMC,aAAa,GAAG,mBAAO,CAA7B,sEAA6B,CAA7B;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,oEAA4B,CAA5B;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,oEAA4B,CAA5B;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,oEAA4B,CAA5B;;IAEM/G,Q;;;;;;;;;;;;;0CACkBgH,I,EAAM;AAC1B,aAAO,sBAAsBA,IAAI,CAAjC;AACD;;;6BAEQ;AAAA,UACCjR,KADD;AAEP,UAAM2D,QAAQ,GAAGuN,IAAI,aAAalR,KAAK,CAAtBkR,QAAI,CAAJA,CAAjB,gBAAiBA,CAAjB;AAEA,aACE;AAAgB,iBAAS,EAAElR,KAAK,CAACoB;AAAjC,SACGpB,KAAK,CAALA,UACC,MAAM,GAAN,mBACsB;AAClBmR,gBAAQ,EADU;AAElBC,6BAAqB,EAAE;AACrBC,WAAC,EADoB;AAErBC,oBAAU,EAFW;AAGrBnQ,cAAI,EAHiB;AAIrBoQ,YAAE,EAAE3N,EAAE,CAAFA,IAAE,CAAFA,CAJiB,QAIjBA,CAJiB;AAKrB4N,YAAE,EAAE5N,EAAE,CAAFA,IAAE,CAAFA,CALiB,QAKjBA,CALiB;AAMrB6N,YAAE,EAAE7N,EAAE,CAAFA,IAAE,CAAFA,CANiB,QAMjBA,CANiB;AAOrB8N,YAAE,EAAE9N,EAAE,CAAFA,IAAE,CAAFA,CAPiB,QAOjBA,CAPiB;AAQrB+N,YAAE,EAAE/N,EAAE,CAAFA,IAAE,CAAFA,CARiB,QAQjBA,CARiB;AASrBgO,YAAE,EAAEhO,EAAE,CAAFA,IAAE,CAAFA,CATiB,QASjBA,CATiB;AAUrBiO,YAAE,EAVmB;AAWrBC,aAAG,EAXkB;AAYrBC,YAAE,EAZmB;AAarBpK,WAAC,EAboB;AAcrBqK,aAAG,EAAE,uBAAY;AAAA,oDACMC,QAAQ,CADd;AAAA;AAAA,gBACR9C,KADQ;;AAAA,+BAEkBA,KAFlB;AAAA,gBAED+C,UAFC;AAAA,wCAGUA,UAHV;AAAA,gBAGR9Q,SAHQ;AAIf,gBAAMnB,IAAI,GAAGmB,SAAS,CAATA,sBAAb,EAAaA,CAAb;;AAEA;AACE;AAAe;AACb,sBAAI,OAAOpB,KAAK,CAAZ,cAAJ,UAAyC;AACvC;AACD;;AAED,sBAAMmS,MAAM,GAAE,gEAIInS,KAAK,CAJT,2IASVoS,kBAAkB,CAAC,IAAI,CAAJ,UAAe;AAChCC,yBAAK,EAAErS,KAAK,CADoB;AAEhCmB,wBAAI,EAAE+Q,UAAU,CAAVA;AAF0B,mBAAf,CAAD,CATR,4CAAd,EAAc,CAAd;AAkBA,yBAAO;AACL,0BAAM,EADD;AAEL,uBAAG,EAAC;AAFC,oBAAP;AAID;;AACD;AACE,uBAAO,uCAAP,QAAO,CAAP;AA9BJ;AApBmB;AAqDrBI,YAAE,EAAE1O,EAAE,CAAFA,IAAE,CAAFA,CArDiB,YAqDjBA,CArDiB;AAsDrB2O,YAAE,EAAE3O,EAAE,CAAFA,IAAE,CAAFA;AAtDiB;AAFL,OADtB,yBA6DeqM,WAAW,CAACjQ,KAAK,CAAjBiQ,MAAW,CAAXA,CA7Df,MAHN,QACE,CADF;AAmED;;;;EA5EoBxQ,KAAK,CAAC2J,S;;IA+EvBoJ,W;;;;;;;;;;;;;wCACgB;AAClB,UAAI,YAAY,CAAC,KAAjB,SAA+B;AAC7BlC,eAAO,CAAPA,cAAsB;AACpBmC,wBAAc,EADM;AAEpBC,aAAG,EAAE;AAFe,SAAtBpC,EAGG,KAHHA;AAID;AACF;;;6BAEQ;AAAA;;AAAA,UACAtQ,KADA;AAEP,aAAO;AACL,gBAAQ,EAAE,uBAAG;AAAA,iBAAI,KAAI,CAAJ,MAAJ;AAAA;AADR,SAAP,KAAO,EAAP;AAID;;;;EAhBuBP,KAAK,CAAC2J,S;;AAmBhC,IAAMuJ,iBAAiB,GAAGjT,MAAM,CAAT,MAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAvB,yBAAuB,CAAGA,CAA1B;AAKA,IAAMkT,cAAc,GAAGlT,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,ifAAGA,EAcV,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAdE,CAAGN,EAeK,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAfb,CAAGN,EAmBL,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAnBH,CAAGN,EAuBC,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAvBT,CAAGN,EA4BC,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AA5B7B,CAAuBN,CAAvB;;AAgCA,gBAAgB;AACd,SAAO,qBAAS;AAAA,WAAI,iBAAK;AAAA,aAAI;AAAW,UAAE,EAAEkE;AAAf,SAAJ,KAAI,EAAJ;AAAT;AAAhB;AACD;;AAED,2BAA2B;AACzB,SAAO,qBAAS;AAAA,WAAI,iBAAK;AAAA,aAAI,6EAAJ,KAAI,GAAJ;AAAT;AAAhB;AACD;;AAEDrE,MAAM,CAANA,mB;;;;;;;;;;;;;;ACnKA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM8D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlE,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,kBAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,gHAAiBG,EAKY,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AALlCT,CAAiBG,EAMN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AANhBT,CAAiBG,CAAjBH;;AASA,mCAAmC;AACjC,SACE;AAAM,aAAS,EAAES,KAAK,CAAtB;AAAkC,MAAE,EAAC;AAArC,KACGA,KAAK,CAFV,QACE,CADF;AAKD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBD,IAAMP,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMoT,WAAW,GAAG,mBAAO,CAA3B,iHAA2B,CAA3B;;AACA,IAAMnT,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMc,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlB,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,iBAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,wGAAiBG,EACD,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AADrBT,CAAiBG,CAAjBH;;AASA,kCAAkC;AAChC,MAAMuT,KAAK,GAAGC,YAAY,CAAC/S,KAAK,CAAhC,QAA0B,CAA1B;AACA,MAAMmB,IAAI,GAAG0R,WAAW,CAAC7S,KAAK,CAA9B,QAAwB,CAAxB;AACA,SACE;AAAM,SAAK,EAAX;AAAY,aAAS,EAAEA,KAAK,CAA5B;AAAwC,YAAQ,EAAE8S,KAAK;AAAvD,KADF,IACE,CADF;AAKD;;AAED,gCAAgC;AAAA;AAAA,MACvB3D,KADuB;;AAE9B,MAAI,CAAJ,OAAY;AACV;AACD;;AACD,MAAM/N,SAAS,GAAG+N,KAAK,CAALA,MAAlB;;AACA,MAAI,CAAJ,WAAgB;AACd;AACD;;AACD,SAAO,SAAS,CAAT,eAEA,aAAC;AAAA,WAAI6D,CAAC,CAADA,qBAAJ,EAAIA,CAAJ;AAFD,UAGC,aAAC;AAAA,WAAI,yBAAyBA,CAAC,CAADA,SAA7B;AAHF,WAAP,GAAO,CAAP;AAKD,C;;;;;;;;;;;;;;ACtCD,IAAMtT,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMc,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlB,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,IAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,6GAAiBG,EAGD,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHrBT,CAAiBG,CAAjBH,C;;;;;;;;;;;;;;ACHA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM8D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlE,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,YAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,iEAAiBG,EAIN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAJhBT,CAAiBG,CAAjBH;;AAOA,6BAA6B;AAC3B,SACE;AAAM,MAAE,EAAR;AAAa,aAAS,EAAES,KAAK,CAACoB;AAA9B,KACGpB,KAAK,CAFV,QACE,CADF;AAKD,C;;;;;;;;;;;;;;AClBD,IAAMP,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAMgE,QAAQ,GAAG,mBAAO,CAAxB,wDAAwB,CAAxB;;AACA,IAAM9D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMC,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEA,IAAMmT,KAAK,GAAG;AACZ1B,IAAE,EADU;AAEZC,IAAE,EAFU;AAGZC,IAAE,EAHU;AAIZC,IAAE,EAJU;AAKZC,IAAE,EALU;AAMZC,IAAE,EAAE;AANQ,CAAd;AASA,IAAMsB,UAAU,GAAGxT,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,2GAAGA,EAMT,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AANf,CAAmBN,CAAnB;AAUA,IAAMgP,UAAU,GAAGhP,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,4DAAGA,EACR,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AADA,CAAGN,EAAnB,UAAmBA,CAAnB;AAQA,IAAMyT,YAAY,GAAGzT,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAlB,mBAAkB,CAAGA,CAArB;AAKA,IAAM0T,cAAc,GAAG1T,MAAM,CAAT,QAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qBAAGA,EACN,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AADtB,CAAuBN,CAAvB;AAIAH,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,gBAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,uFAAiBG,EAEN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhBT,CAAiBG,CAAjBH;;AAQA,iCAAiC;AAC/B,MAAMwD,QAAQ,GAAGH,KAAK,CAALA,QAAc5C,KAAK,CAAnB4C,YACb5C,KAAK,CAALA,cADa4C,EACb5C,CADa4C,GAEb5C,KAAK,CAFT;AAGA,MAAMqN,EAAE,GAAG+E,kBAAkB,CAC3B,CAACrP,QAAQ,IAAT,yBADF,WACE,EAD2B,CAA7B;AAOA,SACE;AAAgB,MAAE,EAAE/C,KAAK,CAAzB;AAA8B,SAAK,EAAEiT,KAAK,CAACjT,KAAK,CAAhD,EAA0C,CAA1C;AAAsD,aAAS,EAAEA,KAAK,CAAtE;AAAkF,MAAE,EAAEqN;AAAtF,KACGrN,KAAK,CAALA,WACC;AAAsB,QAAI,EAA1B;AAAsC,MAAE,EAAEqN;AAA1C,KACGrN,KAAK,CAFTA,QACC,CADDA,GAKCA,KAAK,CAPX,QACE,CADF;AAWD;;AAED,qCAAqC;AACnC,SACE;AAAY,SAAK,sBAAcA,KAAK,CAAnB,MAAjB,IAAiB,CAAjB;AAA8C,QAAI,EAAEA,KAAK,CAACqN;AAA1D,KACE;AAAc,MAAE,EAAErN,KAAK,CAACqN;AAAxB,IADF,EAEE;AAAY,UAAM,EAAlB;AAA0B,QAAI,EAAC;AAA/B,IAFF,EAGGrN,KAAK,CAJV,QACE,CADF;AAOD,C;;;;;;;;;;;;;;ACnFD,IAAMN,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEAJ,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,EAAiBG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,yEAAiBG,EAIK,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAJ3BT,CAAiBG,CAAjBH,C;;;;;;;;;;;;;;ACFA,IAAMG,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEAJ,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,GAAiBG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,+BAAiBG,CAAjBH,C;;;;;;;;;;;;;;ACFA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM8D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlE,MAAM,CAANA,UAAiBG,MAAM,CAAvBH,YAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,gEAAiBG,EAGN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHhBT,CAAiBG,CAAjBH;;AAOA,6BAA6B;AAC3B,SACE;AAAM,aAAS,EAAES,KAAK,CAAtB;AAAkC,MAAE,EAAC;AAArC,KACGA,KAAK,CAFV,QACE,CADF;AAKD,C;;;;;;;;;;;;;;AClBD,IAAMP,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM0T,GAAG,GAAG,mBAAO,CAAnB,0CAAmB,CAAnB;;AACA,IAAMC,WAAW,GAAG,mBAAO,CAA3B,8DAA2B,CAA3B;;AACA,IAAMxT,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAP,MAAM,CAANA;;AAEA,6BAA6B;AAC3B,MAAMgU,MAAM,GAAGF,GAAG,CAAHA,MAAUrT,KAAK,CAALA,QAAzB,IAAeqT,CAAf;AACA,MAAMG,GAAG,GAAGC,QAAQ,CAACzT,KAAK,CAA1B,IAAoB,CAApB;AACA,MAAM0T,IAAI,GAAGF,GAAG,GAAGxT,KAAK,CAAR,OAAgB,CAACuT,MAAM,CAAP,UAAkBA,MAAM,CAAxB,WAAhC,EAAgC,CAAhC;AACA,MAAMtG,KAAK,GAAGuG,GAAG,QAAQF,WAAW,CAAXA,MAAkBC,MAAM,CAAjD,KAAyBD,CAAzB;AAEA,SACE;AAAY,YAAQ,EAApB;AAA2B,QAAI,EAA/B;AAAgC,QAAI,EAApC;AAA4C,SAAK,EAAErG;AAAnD,KACGjN,KAAK,CAFV,QACE,CADF;AAKD;;AAED,IAAM0O,UAAU,GAAGhP,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,6IAAGA,EAGR,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHA,CAAGN,EAON,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAPlB,CAAmBN,CAAnB;;AAeA,wBAAwB;AACtB,MAAM6T,MAAM,GAAGF,GAAG,CAAHA,MAAUK,IAAI,IAA7B,IAAeL,CAAf;;AACA,MAAIE,MAAM,CAAV,UAAqB;AACnB;AACD;;AACD,MAAIG,IAAI,CAAJA,WAAJ,cAAIA,CAAJ,EAAqC;AACnC;AACD;AACF,C;;;;;;;;;;;;;;AC7CD,IAAMhU,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ;;AAEAJ,MAAM,CAANA,UAAiBG,MAAM,CAACE,GAAG,CAAHA,EAAG,CAAHA,CAAxBL,KAAwBK,CAAD,CAANF,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,wCAAiBG,CAAjBH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMG,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ;;AACA,IAAMuD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMxD,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMuQ,MAAM,GAAG,mBAAO,CAAtB,kDAAsB,CAAtB;;AACA,IAAMC,KAAK,GAAG,mBAAO,CAArB,kFAAqB,CAArB;;AAEA,IAAMtQ,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMC,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEA,IAAM6T,SAAS,GAAGzD,MAAM,GAANA,IAAlB,KAAkBA,CAAlB;;IAEMhG,c;;;;;AACJ,4BAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAANiE,IAAM;AAANA,UAAM,MAANA,GAAM,eAANA;AAAM;;AACnB;AACA,mBAAc,gEAAd,KAAc,GAAd;AAFmB;AAGpB;;;;2BAEMc,G,EAAK;AACV;AACD;;;wCAEmB;AAAA;;AAClB,UAAI,qBAAqB,KAAzB,KAAmC;AACjC2E,kBAAU,CAAC,YAAM;AACf,gBAAI,CAAJ,sBAA2B;AAAEjG,kBAAM,EAAE,MAAI,CAAd;AAAoB3N,iBAAK,EAAE,MAAI,CAACA;AAAhC,WAA3B;AADF4T,SAAU,CAAVA;AAGD;AACF;;;wCAEmB3C,I,EAAM;AACxB,UAAI,oBAAJ,UAAkC;AAChC;AACD;;AACD,UAAIA,IAAI,CAAJA,UAAe,KAAnB,KAA6B;AAC3B,mCAA2B;AAAEtD,gBAAM,EAAE,KAAV;AAAoB3N,eAAK,EAAEiR;AAA3B,SAA3B;AACD;AACF;;;6BAEQ;AAAA,UACCjR,KADD;AAEP,UAAM4O,KAAK,GAAG5O,KAAK,CAALA,+BAA8BA,KAAK,CAAnCA,kBAA4CA,KAAK,CAA/D,IAAcA,CAAd;AACA,UAAME,MAAM,GAAGF,KAAK,CAALA,SAAeA,KAAK,CAApBA,eAAoCA,KAAK,CAAxD;AACA,UAAM0M,IAAI,GAAGiH,SAAS,CAATA,YAAsB3T,KAAK,CAA3B2T,MAAb;AAEA,aACE;AACE,cAAM,EAAE3T,KAAK,CADf;AAEE,iBAAS,EAAEA,KAAK,CAFlB;AAGE,gBAAQ,EAAE,KAHZ;AAIE,YAAI,EAAEA,KAAK,CAACC;AAJd,SAME;AACE,cAAM,EAAED,KAAK,CADf;AAEE,gBAAQ,EAAEA,KAAK,CAFjB;AAGE,eAAO,EAAEA,KAAK,CAHhB;AAIE,YAAI,EAAEA,KAAK,CAJb;AAKE,cAAM,EAAEA,KAAK,CAALA,qBAA2BA,KAAK,CAL1C;AAME,YAAI,EAAEA,KAAK,CANb;AAOE,aAAK,EAPP;AAQE,cAAM,EAAEA,KAAK,CARf;AASE,gBAAQ,EATV;AAUE,YAAI,EAVN;AAWE,YAAI;AAXN,SAaGE,MAAM,IACL;AAAY,cAAM,EAAEF,KAAK,CAAzB;AAAkC,YAAI,EAAtC;AAA2C,cAAM,EAAEE;AAAnD,QAdJ,EAgBE,sCAAaF,KAAK,CAhBpB,IAgBE,CAhBF,EAiBGA,KAAK,CAALA,QACC;AAAY,cAAM,EAAEA,KAAK,CAAC6T;AAA1B,SAAmC7T,KAAK,CAxB9C,IAwBM,CAlBJ,CANF,EA2BGA,KAAK,CAALA,UAAgBA,KAAK,CA5B1B,QACE,CADF;AA+BD;;;;EAhE0BP,KAAK,CAAC2J,S;;AAmEnC7J,MAAM,CAANA;AAEA,IAAMiB,UAAU,GAAGd,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,yDAAGA,EAET,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFC,CAAGN,EAGf,iBAAK;AAAA,SAAIM,KAAK,CAALA,0BAAyBkD,KAAK,CAAClD,KAAK,CAALA,aAAnC,MAAkC,CAA9BA,CAAJ;AAHT,CAAmBN,CAAnB;AAOA,IAAM8L,UAAU,GAAG9L,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAhB,mDAAgB,CAAGA,CAAnB;AAMA,IAAMoU,UAAU,GAAGpU,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,yCAAGA,EAEL,iBAAK;AAAA,SAAKM,KAAK,CAALA,aAAL;AAFnB,CAAmBN,CAAnB;AAKA,IAAMqU,oBAAoB,GAAGrU,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA1B,mDAA0B,CAAGA,CAA7B;AAMA,IAAMsU,OAAO,GAAGpU,GAAG,CAAC,WAAJA,MAAI,CAAD,CAAHA,CAAhB,IAAgBA,CAAhB;AAEA,IAAMqU,oBAAoB,GAAGvU,MAAM,CAAT,OAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,kNAAGA,EAMd,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AANM,CAAGN,EAQZ,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AARI,CAAGN,EASZ,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AATI,CAAGN,EAUX,iBAAK;AAAA,SAAIM,KAAK,CAALA,cAAJ;AAVG,CAAGN,EAahB,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAbQ,CAAGN,EAcvB,iBAAK;AAAA,SAAIM,KAAK,CAALA,2BAA0BkD,KAAK,CAAClD,KAAK,CAALA,aAApC,MAAmC,CAA/BA,CAAJ;AAdX,CAA6BN,CAA7B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA,IAAMD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAME,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMC,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMoQ,MAAM,GAAG,mBAAO,CAAtB,kDAAsB,CAAtB;;AACA,IAAMC,KAAK,GAAG,mBAAO,CAArB,kFAAqB,CAArB;;AAEA,IAAMwD,SAAS,GAAGzD,MAAM,GAANA,IAAlB,KAAkBA,CAAlB;AAEA3Q,MAAM,CAANA;;AAEA,gCAAgC;AAC9B,SACE;AACE,wBAAkBS,KAAK,CADzB;AAEE,yBAAmBA,KAAK,CAF1B;AAGE,2BAAqBA,KAAK,CAH5B;AAIE,WAAO,EAAEA,KAAK,CAJhB;AAKE,aAAS,EAAEA,KAAK,CAACsC;AALnB,KAME;AACE,aAAS,EAAEtC,KAAK,CADlB;AAEE,WAAO,EAAEA,KAAK,CAFhB;AAGE,QAAI,EAAEA,KAAK,CAAC4I;AAHd,KAKE;AACE,aAAS,EAAE5I,KAAK,CADlB;AAEE,SAAK,YAAKA,KAAK,CAALA,oBAAL,sBAA2CA,KAAK,CAAhD,UAFP,OAEO,CAFP;AAGE,SAAK,gCAAOA,KAAK,CAAZ,mBAA8B,CAACA,KAAK,CAApC;AAHP,KAKI;AAAiB,WAAO,EAAEA,KAAK,CAACkN;AAAhC,KACE;AAAM,UAAM,EAAC;AAAb,IADF,CALJ,EAQKyG,SAAS,CAATA,YAAsB3T,KAAK,CAA3B2T,UApBX,QAYM,CALF,CANF,CADF;AAyBD;;AAED,IAAMpL,KAAK,GAAG;AACZ2L,GAAC,EADW;AAEZC,GAAC,EAAE;AAFS,CAAd;AAKA,IAAM/T,WAAW,GAAGV,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,kPAAGA,EAKH,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AALL,CAAGN,EAML;AAAA,MAAEkJ,IAAF;AAAA,MAAQxF,KAAR;AAAA,SAAmBmF,KAAK,CAALA,IAAK,CAALA,GAAcnF,KAAK,CAALA,MAAjC;AANE,CAAG1D,EAOT,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAPC,CAAGN,EAQE;AAAA,MAAEwN,OAAF;AAAA,MAAW9J,KAAX;AAAA,SAAsB8J,OAAO,GAAG9J,KAAK,CAALA,OAAH,qBAAqCA,KAAK,CAALA,OAAlE;AARL,CAAG1D,EAUE;AAAA,MAAEwN,OAAF;AAAA,MAAW9J,KAAX;AAAA,SAAsB8J,OAAO,GAAG9J,KAAK,CAALA,OAAH,sBAAsCA,KAAK,CAALA,OAAnE;AAVL,CAAG1D,EAWK,iBAAK;AAAA,SAAIM,KAAK,CAALA,0BAAgCA,KAAK,CAALA,aAApC;AAXb,CAAGN,EAYF,iBAAK;AAAA,SAAIM,KAAK,CAALA,gBAAJ;AAZvB,CAAoBN,CAApB;AAgBA,IAAM0U,eAAe,GAAG1U,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,wEAAGA,EAGF,iBAAK;AAAA,SAAIM,KAAK,CAALA,eAAJ;AAH3B,CAAwBN,CAAxB;AAMA,IAAM2U,oBAAoB,GAAG3U,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,yUAAGA,EAChB,iBAAK;AAAA,SAAIM,KAAK,CAALA,oBAAJ;AADQ,CAAGN,EAAH,WAAGA,EASH;AAAA,MAAE0D,KAAF;AAAA,SAAaA,KAAK,CAALA,OAAb;AATA,CAAG1D,EAUH;AAAA,MAAE0D,KAAF;AAAA,SAAaA,KAAK,CAALA,OAAb;AAVA,CAAG1D,EAAH,eAAGA,EAAH,WAAGA,EAqBH;AAAA,MAAE0D,KAAF;AAAA,SAAaA,KAAK,CAALA,OAAb;AArBA,CAAG1D,EAsBH;AAAA,MAAE0D,KAAF;AAAA,SAAaA,KAAK,CAALA,OAAb;AAtBA,CAAG1D,EAuBA,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAvBR,CAAGN,EAA7B,eAA6BA,CAA7B;AAgCA,IAAM4U,eAAe,GAAG5U,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,4EAAGA,EAEb,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAAwBN,CAAxB,C;;;;;;;;;;;;;;AClGA,IAAMD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEAJ,MAAM,CAANA;;AAEA,kCAAkC;AAChC,SAAO,mDAA0BS,KAAK,CAAtC,QAAO,CAAP;AACD;;AAEDoK,iBAAiB,CAAjBA,eAAiC;AAC/BrH,UAAQ,EAAE;AADqB,CAAjCqH;AAIA,IAAM2F,uBAAuB,GAAGrQ,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gJAAGA,EAMV,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAN3B,CAAgCN,CAAhC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbA,IAAMD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ;;AACA,IAAMwK,eAAe,GAAG,mBAAO,CAA/B,wEAA+B,CAA/B;;AACA,IAAMD,cAAc,GAAG,mBAAO,CAA9B,sEAA8B,CAA9B;;AACA,IAAMX,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAhK,MAAM,CAANA;;AAEA,+BAA+B;AAC7B,SACE;AACE,WAAO,EAAES,KAAK,CADhB;AAEE,wBAAkBA,KAAK,CAFzB;AAGE,2BAAqBA,KAAK,CAACuU;AAH7B,KAKGvU,KAAK,CALR,UAMG,CAACA,KAAK,CAALA,QAAD,WACS,gBAAI;AAAA,WAAI,QAAOgI,IAAI,CAAX,cAAJ;AADb,SAEM,uBAAiB;AACpB;AACA,QAAMwM,OAAO,GAAIxM,IAAI,CAAJA,oBAAjB;AACA,QAAMyM,MAAM,GAAGD,OAAO,CAAPA,UAAf;AACA,QAAME,IAAI,GAAGC,YAAY,CAAzB,IAAyB,CAAzB;AACA,QAAMC,UAAU,GAAGC,kBAAkB,CAArC,IAAqC,CAArC;AACA,QAAMnI,IAAI,GAAGoI,UAAU,CAAvB,IAAuB,CAAvB;AAEA,QAAM5H,OAAO,GAAG,CAAClN,KAAK,CAALA,SAAD,qCAAhB;;AAEA,YAAQgI,IAAI,CAAZ;AACE;AACE,eACE,oBAAC,KAAD;AAAgB,aAAG,EAAEA,IAAI,CAACqF;AAA1B,WACE;AACE,iBAAO,EAAE,CAACrF,IAAI,CAAJA,YAAD,aADX;AAEE,iBAAO,EAFT;AAGE,cAAI,EAHN;AAIE,mBAAS,EAJX;AAKE,cAAI,EAAC;AALP,WAOGA,IAAI,CAAJA,wBAA6BA,IAAI,CAAJA,SARlC,IACE,CADF,EAUE;AACE,8BADF;AAEE,iCAAqB,CAACA,IAAI,CAAJA,YAAD,kBAFvB;AAGE,iBAAO,EAAE,CAACA,IAAI,CAAJA,YAAD,kBAAoCkF;AAH/C,WAKI,CAAClF,IAAI,CAAJA,YAAD,QAA0B,wBAAkB;AAC1C,iBACE;AACE,eAAG,EAAEmH,KAAK,CADZ;AAEE,kBAAM,EAAEA,KAAK,CAFf;AAGE,gBAAI,EAAEA,KAAK,CAHb;AAIE,cAAE,EAAEA,KAAK,CAJX;AAKE,gBAAI,EAAE,CAACA,KAAK,CAALA,YAAD,QAA2B,mBAAO;AAAA,qBACtC;AAAgB,mBAAG,EAAE4F,OAAO,CAA5B;AAAoC,uBAAO,EAAEA;AAA7C,gBADsC;AAL1C,aAKQ,CALR;AAQE,gBAAI,EAAE5F,KAAK,CAALA,SARR;AASE,kBAAM,EATR;AAUE,mBAAO,EAAEnP,KAAK,CAVhB;AAWE,2BAAe,EAAEA,KAAK,CAXxB;AAYE,kBAAM,EAAEA,KAAK,CAZf;AAaE,kBAAM,EAAE2U,YAAY,CAbtB,KAasB,CAbtB;AAcE,wBAAY,EAAEE,kBAAkB,CAdlC,KAckC,CAdlC;AAeE,gBAAI,EAAE1F,KAAK,CAAClP;AAfd,YADF;AAjBV,SAgBQ,CALJ,CAVF,CADF;;AAyCF;AACE,eACE;AACE,aAAG,EAAE+H,IAAI,CADX;AAEE,gBAAM,EAAEA,IAAI,CAFd;AAGE,gBAAM,EAHR;AAIE,cAAI,EAAEwM,OAAO,CAAPA,QAAgBxM,IAAI,CAJ5B;AAKE,kBAAQ,EAAEgN,OAAO,CAACR,OAAO,CAL3B,IAKmB,CALnB;AAME,YAAE,EAAExM,IAAI,CANV;AAOE,cAAI,EAAE,CAACA,IAAI,CAAJA,YAAD,QAA0B,mBAAO;AAAA,mBACrC;AAAgB,iBAAG,EAAE+M,OAAO,CAA5B;AAAoC,qBAAO,EAAEA;AAA7C,cADqC;AAPzC,WAOQ,CAPR;AAUE,cAAI,EAAE/M,IAAI,CAAJA,SAVR;AAWE,iBAAO,EAAEhI,KAAK,CAXhB;AAYE,yBAAe,EAAEA,KAAK,CAZxB;AAaE,gBAAM,EAAEA,KAAK,CAbf;AAcE,gBAAM,EAdR;AAeE,sBAAY,EAfd;AAgBE,cAAI,EAAEgI,IAAI,CAAC/H;AAhBb,UADF;AA5CJ;AAnBR,GAOK,CANH,CADF;AAuFD;;AAED,IAAM6P,oBAAoB,GAAGpQ,MAAM,CAACE,GAAG,CAAC,CAAJA,SAAI,CAAD,CAAHA,CAAV,KAAUA,CAAD,CAANF,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,+GAAGA,EAChB,iBAAK;AAAA,SAAIM,KAAK,CAALA,oBAAJ;AADlB,CAA6BN,CAA7B;AAUA,IAAMuV,kBAAkB,GAAGvV,MAAM,CAACE,GAAG,CAAC,CAAJA,SAAI,CAAD,CAAHA,CAAV,KAAUA,CAAD,CAANF,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,+GAAGA,EACd,iBAAK;AAAA,SAAIM,KAAK,CAALA,oBAAJ;AADlB,CAA2BN,CAA3B;;AAUA,+BAA+B;AAC7B,UAAQM,KAAK,CAALA,QAAR;AACE;AACA;AACE,aAAO;AAAM,aAAK,EAAEA,KAAK,CAALA,QAAckV;AAA3B,SAAqClV,KAAK,CAALA,QAA5C,KAAO,CAAP;AAHJ;AAKD;;AAED,kCAAkC;AAChC,MAAIgI,IAAI,CAAJA,SAAJ,QAA0B;AACxB;AACD;;AAED,MAAIA,IAAI,CAAJA,iBAAJ,YAAsC;AACpC,WAAOA,IAAI,CAAJA,iBAAP;AACD;;AAED,MAAIA,IAAI,CAAJA,SAAJ,UAA4B;AAC1B;AACD;;AAED;AACD;;AAED,4BAA4B;AAC1B,MAAIA,IAAI,CAAJA,SAAJ,QAA0B;AACxB;AACD;;AAED,MAAIA,IAAI,CAAJA,iBAAJ,MAAgC;AAC9B,WAAOA,IAAI,CAAJA,iBAAP;AACD;;AAED,MAAIA,IAAI,CAAJA,SAAJ,UAA4B;AAC1B;AACD;;AAED;AACD;;AAED,0BAA0B;AACxB,MAAI,OAAOA,IAAI,CAAJA,SAAP,qBAA0CA,IAAI,CAAJA,SAA9C,MAAkE;AAChE,WAAOA,IAAI,CAAJA,SAAP;AACD;;AACD,MAAI,OAAOA,IAAI,CAAJA,SAAP,4BAAiDA,IAAI,CAAJA,SAArD,aAAgF;AAC9E,WAAOoK,kBAAkB,CAACpK,IAAI,CAAJA,4CAA1B,WAA0BA,EAAD,CAAzB;AACD;;AACD,SAAOoK,kBAAkB,CAACpK,IAAI,CAAJA,0BAA1B,WAA0BA,EAAD,CAAzB;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvKD,IAAMvI,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAME,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEA,IAAMsV,iBAAiB,GAAGzV,MAAM,CAAT,KAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAvB,gEAAuB,CAAGA,CAA1B;AAOA,IAAMc,UAAU,GAAGd,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,wCAAGA,EAGT,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHf,CAAmBN,CAAnB;AAMA,IAAM0V,WAAW,GAAG1V,MAAM,CAAT,KAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gMAAGA,EAQT,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AARhB,CAAoBN,CAApB;AAkBA,IAAM2V,oBAAoB,GAAG3V,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA1B,+FAA0B,CAAGA,CAA7B;AASA,IAAM4V,qBAAqB,GAAG5V,MAAM,CAAC,aAAC;AAAA,SAAI;AAAoB,YAAQ;AAA5B,KAAJ;AAAX,CAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA3B,uDAA2B,CAAGA,CAA9B;;IAQMoL,W;;;;;AACJ,yBAAc;AAAA;;AAAA;;AACZ;AACA,oBAAe,iEAAf,KAAe,GAAf;AAFY;AAGb;;;;4BAEOmE,G,EAAK;AACX;AACD;;;wCAEmB;AAClB,UAAI,wBAAwB,KAA5B,KAAsC;AACpC,YAAMnI,MAAM,GAAG,iBAAf;AACA;AACA;AACD;AACF;;;6BAEQ;AAAA,UACC9G,KADD;AAEP,aACE,6CACE;AAAY,cAAM,EAAC;AAAnB,QADF,EAEE,gDACE;AAAuB,aAAK,EAAEA,KAAK,CAALA,cAAoB;AAAlD,QADF,EAEE;AACE,oBAAY,EADd;AAEE,iBAAS,EAAEA,KAAK,CAFlB;AAGE,YAAI,EAAEA,KAAK,CAHb;AAIE,cAAM,EAAEA,KAAK,CAJf;AAKE,gBAAQ,EAAEA,KAAK,CALjB;AAME,eAAO,EAAEA,KAAK,CANhB;AAOE,iBAAS,EAAEA,KAAK,CAPlB;AAQE,mBAAW,EAAEA,KAAK,CARpB;AASE,aAAK,EAAEA,KAAK,CATd;AAUE,YAAI,EAVN;AAWE,aAAK,EAAEA,KAAK,CAXd;AAYE,uBAAaA,KAAK,CAZpB;AAaE,gBAAQ,EAAE,KAAKuV;AAbjB,QAFF,CAFF,EAoBGvV,KAAK,CArBV,QACE,CADF;AAwBD;;;;EA5CuBP,KAAK,CAAC2J,S;;AA+ChC7J,MAAM,CAANA,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnGA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMG,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMD,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAM4D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AACA,IAAMgG,aAAa,GAAG,mBAAO,CAAP,0DAAO,CAAP9J,CAAtB;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ,Q,CAEA;;;AAEA,IAAMgL,eAAe,GAAG,gCAAgC;AACtD,SAAO3K,KAAK,CAAZ;AADF;;AAGA,IAAM4K,eAAe,GAAG,gCAAgC;AACtD,SAAO5K,KAAK,CAAZ;AADF;;AAIA,IAAMwV,IAAI,GAAG,gBAAgB,CAA7B;;AAEA,uBAAuB;AACrB,MAAMzS,QAAQ,GAAGtD,KAAK,CAALA,iBAAuBO,KAAK,CAA7C,QAAiBP,CAAjB;AAEA,MAAMgW,gBAAgB,GAAG,QAAQ,CAAR,OAAgB,gBAAgB;AACvD,WAAOzN,IAAI,CAAJA,SAAP;AADF,GAAyB,CAAzB;AAIA,MAAM0N,qBAAqB,GAAG,QAAQ,CAAR,OAAgB,gBAAgB;AAC5D,WAAO1N,IAAI,CAAJA,SAAP;AADF,GAA8B,CAA9B;AAIA,MAAM2N,WAAW,GAAG,QAAQ,CAAR,OAAgB,gBAAgB;AAClD,WAAO3N,IAAI,CAAJA,SAAP;AADF,GAAoB,CAApB;AAIA,MAAM4N,WAAW,GAAG,QAAQ,CAAR,OAAgB,gBAAgB;AAClD,WAAO5N,IAAI,CAAJA,SAAP;AADF,GAAoB,CAApB;AAIA,SACE;AACE,WAAO,EAAEhI,KAAK,CADhB;AAEE,UAAM,EAAEA,KAAK,CAFf;AAGE,kBAAc,EAAEA,KAAK,CAALA,UAAgB,CAACA,KAAK,CAAtBA,iBAAwCA,KAAK,CAH/D;AAIE,WAAO,EAAEA,KAAK,CAALA,UAAgB,CAACA,KAAK,CAAtBA,UAAiCA,KAAK,CAAtCA,UAJX;AAKE,SAAK,EAAEA,KAAK,CAAC8M;AALf,KAOE;AACE,YAAQ,EAAE9M,KAAK,CADjB;AAEE,UAAM,EAAC;AAFT,KAIE;AACE,WAAO,EAAEA,KAAK,CAALA,SAAeA,KAAK,CAApBA,UAA+BwV;AAD1C,+BAKE,kCALF,IAKE,CALF,EAME,kCACMxV,KAAK,CAXf,MAUI,CANF,CAJF,EAcE,2DAtBN,qBAsBM,CAdF,CAPF,CADF;AA6BD;;AAED,IAAM6V,aAAa,GAAnB;AACA,IAAMC,mBAAmB,GAAzB;AACA,IAAMC,oBAAoB,GAA1B;AAEA,IAAMC,aAAa,GAAGtW,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,0GAAGA,EAMV,iBAAK;AAAA,SAAIM,KAAK,CAALA,0CAAJ;AANE,CAAGN,EAOT,iBAAK;AAAA,SAAIM,KAAK,CAALA,UAAgBA,KAAK,CAArBA,gBAAJ;AAPlB,CAAsBN,CAAtB;AAUA,IAAMuW,UAAU,GAAGvW,MAAM,CAAT,IAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,kGAAGA,EAAH,aAAGA,EAOf,iBAAK;AAAA,SAAIwW,QAAQ,CAAZ,KAAY,CAAZ;AAPT,CAAmBxW,CAAnB;AAUA,IAAMyW,oBAAoB,GAAGzW,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA1B,4CAA0B,CAAGA,CAA7B;AAMA,IAAM0W,aAAa,GAAG1W,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,kHAAGA,EAAH,aAAGA,EAAH,mBAAGA,EAAtB,oBAAsBA,CAAtB;AASA,IAAM2W,mBAAmB,GAAG3W,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAzB,yDAAyB,CAAGA,CAA5B;AAMA,IAAM4W,gBAAgB,GAAG5W,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,uFAAGA,EAIG,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAJjC,CAAyBN,CAAzB;AAOA,IAAM6W,mBAAmB,GAAG7W,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,8MAAGA,EAWV,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAXE,CAAGN,EAYjB,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAZS,CAAGN,EAaZ,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAbrB,CAA4BN,CAA5B;AAgBA,IAAMc,UAAU,GAAGd,MAAM,CAACE,GAAG,CAAC,CAAJA,QAAI,CAAD,CAAHA,CAAV,IAAUA,CAAD,CAANF,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,8CAAGA,EAET,iBAAK;AAAA,SAAIM,KAAK,CAALA,SAAeA,KAAK,CAALA,aAAfA,SAA2CA,KAAK,CAALA,aAA/C;AAFf,CAAmBN,CAAnB;AAMA,IAAM8W,QAAQ,GAAG5W,GAAG,CAAC,CAAJA,QAAI,CAAD,CAAHA,CAAjB,IAAiBA,CAAjB;AAEA,IAAM6W,iBAAiB,GAAG/W,MAAM,CAAT,QAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,4JAAGA,EAMf,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AANO,CAAGN,EASb,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AATlB,CAA0BN,CAA1B;AAcA,IAAMgX,gBAAgB,GAAGhX,MAAM,CAAT,QAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,4HAAGA,EAMZ,iBAAK;AAAA,SAAIM,KAAK,CAALA,SAAeA,KAAK,CAALA,aAAfA,SAA2CA,KAAK,CAALA,aAA/C;AANlB,CAAyBN,CAAzB;AAWA,IAAMiX,oBAAoB,GAAGjX,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,qDAAGA,EAElB,iBAAK;AAAA,SAAIM,KAAK,CAALA,SAAeA,KAAK,CAALA,aAAfA,SAA2CA,KAAK,CAALA,aAA/C;AAFhB,CAA6BN,CAA7B;AAMA,IAAMkX,YAAY,GAAGlX,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAlB,sQAAkB,CAAGA,CAArB;;IAcM6K,Y;;;;;AACJ,0BAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAAN4D,IAAM;AAANA,UAAM,MAANA,GAAM,eAANA;AAAM;;AACnB;AACA,mBAAc,gEAAd,KAAc,GAAd;AAFmB;AAGpB;;;;2BAEMc,G,EAAK;AACV;AACD;;;wCAEmBgC,I,EAAM;AACxB,UAAIA,IAAI,CAAJA,UAAe,KAAnB,KAA6B;AAC3B,mCAA2B;AAAEtD,gBAAM,EAAE,KAAKsB;AAAf,SAA3B;AACD;AACF;;;6BAEQ;AACP,UAAMjP,KAAK,GAAG,KAAd;AAEA,aACE;AACE,gBAAQ,EAAE,KADZ;AAEE,cAAM,EAAEA,KAAK,CAFf;AAGE,aAAK,kCAA2BA,KAAK,CAHvC,IAGO,CAHP;AAIE,mBAASA,KAAK,CAACqN;AAJjB,SAME;AACE,cAAM,EAAErN,KAAK,CADf;AAEE,YAAI,EAAEA,KAAK,CAFb;AAGE,aAAK,EAAE;AAAE,4BAAkB;AAApB;AAHT,SAKE;AACE,cAAM,EAAEA,KAAK,CADf;AAEE,YAAI,EAAC;AAFP,SAIGA,KAAK,CAfZ,IAWI,CALF,CANF,EAkBE;AACE,cAAM,EAAEA,KAAK,CADf;AAEE,aAAK,EAAE;AAAE,4BAAkBA,KAAK,CAAC6W;AAA1B;AAFT,SAIE;AACE,cAAM,EAAE7W,KAAK,CADf;AAEE,YAAI,EAAC;AAFP,SAvBN,aAuBM,CAJF,CAlBF,CADF;AAgCD;;;;EAnDwBP,KAAK,CAAC2J,S;;AAsDjCmB,YAAY,CAAZA,eAA4B;AAC1BuM,iBAAe,EAAE,2BAA2B,CAAG;AADrB,CAA5BvM;AAIA,IAAMwM,YAAY,GAAG,MAAM,CAAN,YAAmB;AACtC9W,MAAI,EAAE;AADgC,CAAnB,EAAH,UAAG,CAAH;AAAA;AAAA,CAAG,EAAH,CAAlB,eAAkB,CAAG,CAArB;AAMA,IAAM+W,WAAW,GAAGtX,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAAjB,4BAAiB,CAAGA,CAApB;AAKA,IAAMuX,eAAe,GAAGvX,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,cAAGA,EACd,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AADf,CAAwBN,CAAxB;;AAIA,sBAAsB;AACpB,MAAMwX,IAAI,GAAGlX,KAAK,CAALA,mBAAb;AACA,MAAMiN,KAAK,GAAG,KAAK,CAAL,SAAe;AAAEvH,UAAM,EAAE;AAAV,GAAf,GAAkC;AAAE,sBAAkB;AAApB,GAAhD;AACA,MAAMxF,MAAM,GAHQ,OAGpB,CAHoB,CAGI;;AACxB,SACE;AACE,SAAK,EADP;AAEE,SAAK,qCAAoBF,KAAK,CAALA,SAApB,QAAoBA,EAApB;AAFP,KAIE;AAAiB,QAAI,EAArB;AAA0B,UAAM,EAAEE;AAAlC,IAJF,EADF,IACE,CADF;AASD;;AAED,IAAM0S,cAAc,GAAGlT,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAApB,0BAAoB,CAAGA,CAAvB;AAKA,IAAMyX,kBAAkB,GAAGzX,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,wJAAGA,EAQL,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AARH,CAAGN,EAShB,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AATQ,CAAGN,EAUvB,iBAAK;AAAA,SAAIwW,QAAQ,CAAZ,KAAY,CAAZ;AAVT,CAA2BxW,CAA3B;AAaA,IAAM0X,qBAAqB,GAAG1X,MAAM,CAAT,GAAGA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,CAA3B,yIAA2B,CAAGA,CAA9B;AAYA,IAAM2X,WAAW,GAAG3X,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,6DAAGA,EAET,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAAoBN,CAApB;AAQA,IAAM4X,gBAAgB,GAAG5X,MAAM,CAAT,WAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,+EAAGA,EAGd,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAHhB,CAAyBN,CAAzB;AAOA,IAAM6X,eAAe,GAAG7X,MAAM,CAAT,IAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,mEAAGA,EAMX,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AANlB,CAAwBN,CAAxB;;AAUA,6BAA6B;AAC3B,SACE;AACE,aAAS,EAAEM,KAAK,CAACoB;AADnB,KAGGpB,KAAK,CAALA,QAAc,4CAAmBA,KAAK,CAHzC,IAGiB,CAHjB,EAIE,iDACG,CAACA,KAAK,CAALA,SAAD,QAAwB,aAAa;AACpC,YAAQ0I,CAAC,CAAT;AACE;AACA;AACE,eAAO,KAAK,CAAL,2BAEL;AAAE8O,aAAG,EAAE9O,CAAC,CAAC8O;AAAT,SAFK,EAGL,KAAK,CAAL,+BAEE;AACE5I,eAAK,EAAElG,CAAC,CADV;AAEEuE,eAAK,EAAE;AAAEvH,kBAAM,YAAKgD,CAAC,CAAN;AAAR;AAFT,SAFF,EAMEA,CAAC,CATL,GAGE,CAHK,CAAP;AAHJ;AAPR,GAMO,CADH,CAJF,CADF;AA4BD;;AAED,yBAAyB;AACvB,qOAWe1I,KAAK,CAALA,aAXf;AAeD;;AAEDT,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA;AACAA,MAAM,CAANA,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrYA,IAAMkY,CAAC,GAAG,mBAAO,CAAP,gDAAO,CAAP9X,CAAV;;AACA,IAAM+X,CAAC,GAAG,mBAAO,CAAjB,8CAAiB,CAAjB;;AACA,IAAMhY,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;eACqC,mBAAO,yD;IAApCgY,S,YAAAA,S;IAAWC,a,YAAAA,a;;gBACG,mBAAO,qD;IAArBC,S,aAAAA,S;;AAER,IAAMC,MAAM,GAAG,IAAf,SAAe,EAAf;AACA,IAAMC,UAAU,GAAG,IAAnB,aAAmB,EAAnB;AAEA;;;;;;;;;;AASA,IAAMC,iBAAiB,GAAG,6BAA1B,cAA0B,CAA1B;AAEA,IAAMC,UAAU,GAAG;AACjBC,MAAI,EAAMF,iBAAN,CADa,MACPA,EADO;AAEjB9X,QAAM,EAAE,CAFS,IAET,CAFS;AAGjBiY,gBAAc,EAAMH,iBAAN,OAAMA,CAAN,yBAHG,IAGH,CAAMA,CAHH;AAIjBI,MAAI,EAAE,WAJW,YAIX,CAJW;AAKjBC,QAAM,EAAML,iBAAN,OAAMA,CAAN,kBALW,OAKX,CAAMA,CALK;AAMjBM,GAAC,EAAMN,iBAAN,OAAMA,CAAN,MANgB,GAMhB,CAAMA,CANU;AAOjBpQ,MAAI,EAAMoQ,iBAAN,OAAMA,CAAN,MAPa,OAOb,CAAMA,CAPO;AAQjBO,SAAO,EAAMP,iBAAN,OAAMA,CAAN,CARU,QAQV,CAAMA,CARI;AASjBvQ,MAAI,EAAMuQ,iBAAN,OAAMA,CAAN,8BATa,OASb,CAAMA,CATO;AAUjB5M,KAAG,EAAE;AAVY,CAAnB;AAaA,IAAMoN,SAAS,GAAG1Q,MAAM,CAANA,KAAlB,UAAkBA,CAAlB;;AAEA,+BAA+B;AAC7B,SAAO,CAACmQ,UAAU,CAACQ,IAAI,CAAfR,OAAU,CAAVA,IAAD,WACL,uBAAiB;AACf,QAAMS,SAAS,GAAGD,IAAI,CAAJA,wBAAlB,IAAkBA,CAAlB;AACA,QAAME,SAAS,GAAGd,SAAS,CAA3B,IAA2B,CAA3B;;AACA,QAAIa,SAAS,IAAIA,SAAS,CAA1B,WAAsC;AACpC1Y,WAAK,CAALA,SAAK,CAALA,GAAmB0Y,SAAS,CAA5B1Y;AACD;;AACD;AAPG,KASL;AAAEwX,OAAG,EAAHA;AAAF,GATK,CAAP;AAWD;;AAEM,sBAAsB;AAC3B,6CAAoCE,CAAC,CAArC,MAAqC,CAArC;AACD;;AAEM,uBAAuB;AAC5B,MAAM7Q,GAAG,GAAGiR,MAAM,CAANA,wBAAZ,eAAYA,CAAZ;AACA,MAAMvE,MAAM,GAAG,KAAK,CAAL,qBAA2B1M,GAAG,CAA9B,iBAAgD,gBAAI;AAAA,WAAI4R,IAAI,CAAJA,YAAJ;AAAnE,GAAe,CAAf;AACAlF,QAAM,CAANA;AACA;AACD;;AAEM,qBAAqB;AAC1B,SAAO,YAAY,2BAAqB;AACtC,QAAMzB,GAAG,GAAG,IAAIrC,MAAM,CAAtB,KAAY,EAAZ;AACA,QAAMmJ,MAAM,GAAGnJ,MAAM,CAANA,uBAAf,QAAeA,CAAf;AACA,QAAMoJ,KAAK,GAAGpJ,MAAM,CAANA,oBAAd;AAEAmJ,UAAM,CAANA,QAAe,KAAfA;AACAA,UAAM,CAANA,SAAgB,KAAhBA;AAEA,QAAM7K,OAAO,GAAG6K,MAAM,CAANA,WAAhB,IAAgBA,CAAhB;;AAEA9G,OAAG,CAAHA,SAAa,YAAM;AACjB/D,aAAO,CAAPA;AACA+K,aAAO,CAACF,MAAM,CAANA,UAARE,WAAQF,CAAD,CAAPE;AAFFhH;;AAKAA,OAAG,CAAHA,MAAUiH,IAAI,CAAdjH,MAAc,CAAdA;AAfF,GAAO,CAAP;AAiBD;;AAEM,uBAAuB;AAC5B,SAAO,KAAK,CAAL,oCACG,gBAAI;AAAA,WAAI0G,SAAS,CAATA,SAAmBC,IAAI,CAA3B,OAAID,CAAJ;AADP,SAEA,gBAAQ;AACXC,QAAI,CAAJA,aAAkBO,KAAK,CAACP,IAAI,CAA5BA,UAAuB,CAAvBA;AAEA,QAAMQ,UAAU,GAAGhB,UAAU,CAACQ,IAAI,CAAfR,OAAU,CAAVA,IAAnB;;AAEA,SAAK,IAAI7Q,CAAC,GAAV,GAAgBA,CAAC,GAAGqR,IAAI,CAAJA,WAApB,QAA4CrR,CAA5C,IAAiD;AAC/C,UAAMsR,SAAS,GAAGD,IAAI,CAAJA,WAAlB,CAAkBA,CAAlB;;AACA,UAAI,CAACQ,UAAU,CAAVA,SAAoBP,SAAS,CAAlC,IAAKO,CAAL,EAA0C;AACxCR,YAAI,CAAJA,gBAAqBC,SAAS,CAA9BD;AACD;AACF;;AAED;AAdJ,GAAO,CAAP;AAgBD;;AAEM,yBAAyB;AAAA;AAAA,MACvB3V,OADuB;AAAA,MACd9C,KADc;AAAA;AAAA,MACP+C,QADO;;AAAA,MAEtBkG,KAFsB,GAEHjJ,KAFG;AAAA,MAEZkZ,IAFY;;AAG9B,MAAMtZ,GAAG,GAAGF,MAAM,CAAT,OAAS,CAANA,CAAH,UAAGA,CAAH;AAAA;AAAA,GAAGA,EAAH,SAAGA,EAAZ,KAAYA,CAAZ;AAGA,SAAO+X,CAAC,YAAY,QAAQ,CAAR,IAAa,aAAC;AAAA,WAAI0B,MAAM,CAAV,CAAU,CAAV;AAAlC,GAAoB,CAAZ,CAAR;AACD;;AAEM,0BAA0B;AAC/B,SAAO,+BAAgB;AAAA,WAAa,CAClCV,IAAI,CAD8B,SAElCQ,UAAU,OAFwB,CAExB,CAFwB,EAGlC9H,QAAQ,CAACsH,IAAI,CAHQ,UAGb,CAH0B,CAAb;AAAvB,GAAO,CAAP;AAKD;;AAEM,yBAAyB;AAC9B,SAAOV,UAAU,CAAVA,kBAAP,IAAOA,CAAP;AACD,C;;;;;;;;;;;;;;;ACtHD,IAAMtY,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AAEA,IAAM8D,IAAI,GAAG,mBAAO,CAApB,gDAAoB,CAApB;;AAEAlE,MAAM,CAANA,UAAiBG,MAAM,CAAC,iBAAK;AAAA,SAAI;AAAM,aAAS,EAAEM,KAAK,CAACoB;AAAvB,KAAmCpB,KAAK,CAA5C,QAAI,CAAJ;AAA7BT,CAAuB,CAANG,CAAjBH,UAAiBG,CAAjBH;AAAAA;AAAAA,CAAiBG,EAAjBH,6NAAiBG,EAKN,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AALhBT,CAAiBG,EAMK,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAN3BT,CAAiBG,EAYJ,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAZlBT,CAAiBG,CAAjBH,C;;;;;;;;;;;;;;ACLA,IAAME,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;AACA,IAAMC,MAAM,GAAG,mBAAO,CAAP,oGAAO,CAAPC,CAAf;;AACA,IAAMC,GAAG,GAAG,mBAAO,CAAP,uDAAO,CAAPD,CAAZ;;AAEAJ,MAAM,CAANA;;AAEA,qBAAqB;AACnB,SACE;AAAY,MAAE,EAAES,KAAK,CAArB;AAA0B,aAAS,EAAEA,KAAK,CAACoB;AAA3C,KACGpB,KAAK,CAFV,QACE,CADF;AAKD;;AAED,IAAMiD,UAAU,GAAGvD,MAAM,CAACE,GAAG,CAAC,CAAJA,MAAI,CAAD,CAAHA,CAAV,KAAUA,CAAD,CAANF,CAAH,UAAGA,CAAH;AAAA;AAAA,CAAGA,EAAH,gCAAGA,EACF,iBAAK;AAAA,SAAIM,KAAK,CAALA,YAAJ;AADN,CAAGN,EAER,iBAAK;AAAA,SAAIM,KAAK,CAALA,aAAJ;AAFhB,CAAmBN,CAAnB,C;;;;;;;;;;;;;;ACdA,IAAMwD,KAAK,GAAG,mBAAO,CAArB,gDAAqB,CAArB;;eACkB,mBAAO,qD;IAAjBa,K,YAAAA,K;;AACR,IAAMqV,KAAK,GAAG,mBAAO,CAArB,kDAAqB,CAArB;;AAEA7Z,MAAM,CAANA,UAAiB,qBAA4B;AAAA,MAAT8Z,EAAS,uEAAJ,EAAI;AAC3C,MAAMC,gBAAgB,GAAGpW,KAAK,CAALA,aAAzB,GAAyBA,CAAzB;AACA,MAAMqW,YAAY,GAAGrW,KAAK,CAALA,UAArB,GAAqBA,CAArB;AAEA,MAAMsW,WAAW,GAAG;AAClBC,aAAS,EAAE;AACT,WAAKH,gBAAgB,CAAhBA,OADI,GACJA,CADI;AAET,WAAKA,gBAAgB,CAAhBA;AAFI,KADO;AAKlBI,UAAM,EAAE;AACN,WAAKJ,gBAAgB,CAAhBA,uBADC,GACDA,CADC;AAEN,WAAKA,gBAAgB,CAAhBA,uBAFC,GAEDA,CAFC;AAGN,WAAKA,gBAAgB,CAAhBA,uBAHC,IAGDA,CAHC;AAIN,WAAKA,gBAAgB,CAAhBA;AAJC,KALU;AAWlBK,QAAI,EAAE;AACJ,UAAIJ,YAAY,CAAZA,OADA,IACAA,CADA;AAEJ,WAAKA,YAAY,CAAZA,OAFD,IAECA,CAFD;AAGJ,WAAKA,YAAY,CAAZA,OAHD,GAGCA,CAHD;AAIJ,WAAKA,YAAY,CAAZA;AAJD;AAXY,GAApB;AAmBA,MAAM1F,MAAM,GAAGwF,EAAE,CAAFA,cACXnW,KAAK,CAACmW,EAAE,CADGA,WACN,CADMA,GAAf;AAIA,MAAMO,KAAK,GAAGP,EAAE,CAAFA,aACVnW,KAAK,CAACmW,EAAE,CADEA,UACL,CADKA,GAEVnW,KAAK,CAALA,aAFJ,EAEIA,CAFJ;AAIA,MAAM6R,OAAO,GAAGsE,EAAE,CAAFA,eACZnW,KAAK,CAACmW,EAAE,CADIA,YACP,CADOA,GAEZnW,KAAK,CAALA,cAFJ,EAEIA,CAFJ;AAIA,MAAM2W,IAAI,GAAGR,EAAE,CAAFA,YACTnW,KAAK,CAACmW,EAAE,CADCA,SACJ,CADIA,GAETnW,KAAK,CAALA,aAFJ,GAEIA,CAFJ;AAIA,MAAM4W,OAAO,GAAGT,EAAE,CAAFA,eACZnW,KAAK,CAACmW,EAAE,CADIA,YACP,CADOA,GAEZnW,KAAK,CAALA,aAFJ,EAEIA,CAFJ;AAIA,MAAM6W,UAAU,GAAGV,EAAE,CAAFA,sBACfnW,KAAK,CAACmW,EAAE,CADOA,mBACV,CADUA,GAEfG,WAAW,CAAXA,OAFJ,GAEIA,CAFJ;AAIA,MAAMQ,mBAAmB,GAAGX,EAAE,CAAFA,+BACxBnW,KAAK,CAACmW,EAAE,CADgBA,4BACnB,CADmBA,GAExBG,WAAW,CAAXA,OAFJ,GAEIA,CAFJ;AAIA,MAAMS,kBAAkB,GAAGZ,EAAE,CAAFA,8BACvBnW,KAAK,CAACmW,EAAE,CADeA,2BAClB,CADkBA,GAEvBG,WAAW,CAAXA,OAFJ,GAEIA,CAFJ;AAIA,MAAMU,MAAM,GAAGb,EAAE,CAAFA,kBACXnW,KAAK,CAACmW,EAAE,CADGA,eACN,CADMA,GAEXG,WAAW,CAAXA,OAFJ,GAEIA,CAFJ;AAIA,MAAMW,SAAS,GAAGd,EAAE,CAAFA,gBACdnW,KAAK,CAACmW,EAAE,CADMA,aACT,CADSA,GAEdG,WAAW,CAAXA,KAFJ,EAEIA,CAFJ;AAIA,MAAMY,gBAAgB,GAAGf,EAAE,CAAFA,uBACrBnW,KAAK,CAACmW,EAAE,CADaA,oBAChB,CADgBA,GAErBG,WAAW,CAAXA,KAFJ,GAEIA,CAFJ;AAIA,MAAMa,MAAM,GAAGhB,EAAE,CAAFA,kBACXnW,KAAK,CAACmW,EAAE,CADGA,eACN,CADMA,GAEXG,WAAW,CAAXA,KAFJ,GAEIA,CAFJ;AAIA,MAAMc,eAAe,GAAGjB,EAAE,CAAFA,uBACpBnW,KAAK,CAACmW,EAAE,CADYA,oBACf,CADeA,GAEpBnW,KAAK,CAALA,YAFJ,GAEIA,CAFJ;AAIA,MAAMqX,wBAAwB,GAAGlB,EAAE,CAAFA,gCAC7BnW,KAAK,CAACmW,EAAE,CADqBA,6BACxB,CADwBA,GAE7BnW,KAAK,CAALA,cAFJ,GAEIA,CAFJ;AAIA,MAAMsX,uBAAuB,GAAGnB,EAAE,CAAFA,+BAC5BnW,KAAK,CAACmW,EAAE,CADoBA,4BACvB,CADuBA,GAE5BnW,KAAK,CAALA,cAFJ,GAEIA,CAFJ;AAIA,MAAMuX,WAAW,GAAGpB,EAAE,CAAFA,mBAChBnW,KAAK,CAACmW,EAAE,CADQA,gBACX,CADWA,GAEhBnW,KAAK,CAALA,cAFJ,GAEIA,CAFJ;AAIA,MAAMwX,UAAU,GAAGrB,EAAE,CAAFA,iBACfnW,KAAK,CAACmW,EAAE,CADOA,cACV,CADUA,GAEfnW,KAAK,CAALA,gBAFJ,CAEIA,CAFJ;AAIA,MAAMyX,iBAAiB,GAAGtB,EAAE,CAAFA,wBACtBnW,KAAK,CAACmW,EAAE,CADcA,qBACjB,CADiBA,GAEtBnW,KAAK,CAALA,cAFJ,GAEIA,CAFJ;AAIA,MAAM0X,gBAAgB,GAAGvB,EAAE,CAAFA,mBACrBnW,KAAK,CAACmW,EAAE,CADaA,gBAChB,CADgBA,GAErBnW,KAAK,CAALA,mBAFJ,CAEIA,CAFJ;AAIA,MAAM2X,SAAS,GAAGzB,KAAlB;AAEA,MAAM0B,MAAM,GAAG;AACbC,UAAM,EAAE;AACNlH,YAAM,EAAEA,MAAM,CADR,MACEA,EADF;AAEN+F,WAAK,EAAEA,KAAK,CAFN,MAECA,EAFD;AAGN7E,aAAO,EAAEA,OAAO,CAHV,MAGGA,EAHH;AAIN8E,UAAI,EAAEA,IAAI,CAJJ,MAIAA,EAJA;AAKNC,aAAO,EAAEA,OAAO,CAAPA;AALH,KADK;AAQbV,SAAK,EAAE;AACL4B,gBAAU,EADL;AAELC,cAAQ,EAFH;AAGLzX,aAAO,EAAE6V,EAAE,CAAFA,eAAkBwB,SAAS,CAH/B;AAIL1Z,UAAI,EAAEkY,EAAE,CAAFA,YAAewB,SAAS,CAJzB;AAKLK,cAAQ,EAAE7B,EAAE,CAAFA,gBAAmBwB,SAAS,CAACrX;AALlC;AARM,GAAf;AAiBA,MAAMlC,IAAI,GAAGyC,KAAK,aAAa;AAC7B2I,QAAI,EADyB;AAE7BqO,UAAM,EAAE;AACNhB,gBAAU,EAAEA,UAAU,CADhB,MACMA,EADN;AAENC,yBAAmB,EAAEA,mBAAmB,CAFlC,MAEeA,EAFf;AAGNC,wBAAkB,EAAEA,kBAAkB,CAHhC,MAGcA,EAHd;AAINC,YAAM,EAAEA,MAAM,CAJR,MAIEA,EAJF;AAKNhX,WAAK,EAAEiX,SAAS,CALV,MAKCA,EALD;AAMNgB,kBAAY,EAAEf,gBAAgB,CANxB,MAMQA,EANR;AAONC,YAAM,EAAEA,MAAM,CAANA;AAPF;AAFqB,GAAb,CAAlB;AAaA,MAAMnY,KAAK,GAAG6B,KAAK,aAAa;AAC9B2I,QAAI,EAD0B;AAE9BqO,UAAM,EAAE;AACNhB,gBAAU,EAAEO,eAAe,CADrB,MACMA,EADN;AAENN,yBAAmB,EAAEO,wBAAwB,CAFvC,MAEeA,EAFf;AAGNN,wBAAkB,EAAEO,uBAAuB,CAHrC,MAGcA,EAHd;AAINN,YAAM,EAAEO,WAAW,CAJb,MAIEA,EAJF;AAKNvX,WAAK,EAAEwX,UAAU,CALX,MAKCA,EALD;AAMNS,kBAAY,EAAER,iBAAiB,CANzB,MAMQA,EANR;AAONN,YAAM,EAAEO,gBAAgB,CAAhBA;AAPF;AAFsB,GAAb,CAAnB;AAaA,SAAO;AACLtZ,QAAI,EADC;AAELY,SAAK,EAALA;AAFK,GAAP;AAhJF3C,E;;;;;;;;;;;;;;ACJAA,MAAM,CAACC,OAAP,GAAiB,mBAAO,CAAC,2DAAD,CAAxB,C;;;;;;;;;;;;;;ACAA,IAAM4b,KAAK,GAAG,mBAAO,CAArB,uCAAqB,CAArB;;AACA,IAAMC,QAAQ,GAAG,mBAAO,CAAxB,6CAAwB,CAAxB;;AACA,IAAM/Q,MAAM,GAAG,mBAAO,CAAtB,yCAAsB,CAAtB;;AACA,IAAMgR,IAAI,GAAG,mBAAO,CAApB,qCAAoB,CAApB;;AAEA/b,MAAM,CAANA,UAAiB;AACfgc,cADe,EACfA,YADe;AAEfH,OAFe,EAEfA,KAFe;AAGfE;AAHe,CAAjB/b;;AAMA,6BAA6B;AAC3B,MAAMmG,MAAM,GAAG4E,MAAM,CAANA,OAAf,KAAeA,CAAf;AACA,MAAMkR,QAAQ,GAAGH,QAAQ,CAARA,OAAjB,KAAiBA,CAAjB;AAEA,SAAO,oCAAoC;AACzC,QAAMpO,KAAK,GAAGmO,KAAK,CAALA,MAAd,WAAcA,CAAd;AACA,WAAO,KAAK,CAAL,eAAqBK,oBAAU,EAAI;AACxC,UAAMC,IAAI,GAAGJ,IAAI,CAAJA,MAAb,UAAaA,CAAb;;AAEA,UAAII,IAAI,CAAR,OAAgB;AACd,eAAOF,QAAQ,CAARA,OAAP,IAAOA,CAAP;AACD;;AAED,aAAO9V,MAAM,CAANA,OAAcgW,IAAI,CAAzB,GAAOhW,CAAP;AAPF,KAAO,CAAP;AAFF;AAYD,C;;;;;;;;;;;;;;;;;;;;;;AC3BD,IAAMiW,OAAO,GAAG,mBAAO,CAAvB,kEAAuB,CAAvB;;AACA,IAAMC,YAAY,GAAG,mBAAO,CAA5B,4EAA4B,CAA5B;;AACA,IAAMC,CAAC,GAAG,mBAAO,CAAjB,8EAAiB,CAAjB;;AAEAtc,MAAM,CAANA,UAAiB;AACfuc,OADe,EACfA,KADe;AAEfC;AAFe,CAAjBxc;;AAKA,4BAA4B;AAC1B,MAAMyc,MAAM,GAAG,kCAAkC,CAAlC,WAAkC,CAAlC,GAAf;;AAEA,MAAI;AACF,QAAMzI,MAAM,GAAGsI,CAAC,CAADA,MAAf,WAAeA,CAAf;AACA,QAAM5O,KAAK,GAAG4O,CAAC,CAADA,4BAAd,MAAcA,CAAd;;AAEA,QAAI5O,KAAK,CAAT,MAAgB;AACd;AACD;;AAED,WAAO;AAAEhN,UAAI,EAAN;AAAe+b;AAAf,KAAP;AARF,IASE,YAAY;AACZ,WAAO;AAAE/b,UAAI,EAAN;AAAe+b;AAAf,KAAP;AACD;AACF;;AAED,mCAAmC;AACjC,MAAI,iBAAJ,UAA+B;AAC7B,WAAOC,SAAS,CAAhB,KAAgB,CAAhB;AACD;;AAED,MAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,WAAMjP,KAAK,CAALA,WAAiBH,eAAK;AAAA,aAAIiP,OAAO,QAArD,SAAqD,CAAX;AAAA,KAAtB9O,CAAN;AAAA,GAAd;;AACA,MAAMH,KAAK,GAAG,OAAOG,KAAK,CAAZ,qBAAkCA,KAAK,CAAvC,QAAd;;AAEA,UAAQA,KAAK,CAAb;AACE;AAAY;AACV,eAAO2O,YAAY,MAAZA,4BAAgBM,KAAvB,EAAON,EAAP;AACD;;AACD;AAAW;AACT,eAAOD,OAAO,MAAPA,4BAAWO,KAAlB,EAAOP,EAAP;AACD;;AACD;AAAe;AACb,eAAOM,SAAS,CAAhB,KAAgB,CAAhB;AACD;;AACD;AAAS;AACP,cAAM,qEAA8DE,IAAI,CAAJA,UAApE,KAAoEA,CAA9D,EAAN;AACD;AAZH;AAcD,C;;;;;;;;;;;;;;;;AChDD,IAAM9Q,MAAM,GAAG,mBAAO,CAAtB,uDAAsB,CAAtB;;AAEA9L,MAAM,CAANA,UAAiB;AACf6c;AADe,CAAjB7c;AAIA,IAAM8c,KAAK,GAAG;AACZC,YAAU,EADE;AAEZC,OAAK,EAFO;AAGZC,MAAI,EAHQ;AAIZC,IAAE,EAJU;AAKZC,QAAM,EAAE;AALI,CAAd,C,CAQA;;AACA,uBAAuB;AACrB,SAAO;AACLhX,UADK,kBACC,IADD,EACQ;AACX,UAAMiX,OAAO,GAAGC,UAAU,CAAClB,IAAI,CAAL,OAAaA,IAAI,CAAjB,OAA1B,IAA0B,CAA1B;AACA,aAAOQ,KAAK,CAALA,OACGlU,cAAI;AAAA,eAAI,QAAOA,IAAI,CAAX,cADXkU,QACO;AAAA,OADPA,SAEGlU,cAAI;AAAA,eAAK0T,IAAI,CAAJA,UAAe,CAACiB,OAAO,CAAvBjB,IAAuB,CAAvBA,GAAgCiB,OAAO,CAFnDT,IAEmD,CAA5C;AAAA,OAFPA,MAGA9U,WAAC;AAAA,eAAIA,CAAC,CAHb,EAGQ;AAAA,OAHD8U,CAAP;AAID;AAPI,GAAP;AASD;;AAED,2CAA2C;AACzC,MAAMW,OAAO,GAAGC,YAAY,QAA5B,OAA4B,CAA5B;AACA,MAAMtQ,GAAG,GAAGuQ,QAAQ,QAApB,OAAoB,CAApB;AACA,MAAMC,QAAQ,GAAGC,aAAa,QAA9B,OAA8B,CAA9B;AACA,MAAM1Q,IAAI,GAAG2Q,SAAS,QAAtB,OAAsB,CAAtB;AACA,MAAMC,IAAI,GAAGC,SAAS,QAAtB,OAAsB,CAAtB;AACA,MAAM9Q,OAAO,GAAG+Q,YAAY,QAA5B,OAA4B,CAA5B;AACA,MAAMzZ,EAAE,GAAG0Z,OAAO,CAAlB,KAAkB,CAAlB;AAEA,SAAOtV,cAAI,EAAI;AACb;AACE;AACE,eAAO6U,OAAO,CAAd,IAAc,CAAd;;AACF;AACE,eAAOU,WAAW,CAAlB,IAAkB,CAAlB;;AACF;AACE,eAAOhR,IAAI,CAAX,IAAW,CAAX;;AACF;AACE,eAAOC,GAAG,CAAV,IAAU,CAAV;;AACF;AACE,eAAO5I,EAAE,CAAT,IAAS,CAAT;;AACF;AACE,eAAOoZ,QAAQ,CAAf,IAAe,CAAf;;AACF;AACA;AACE,eAAOG,IAAI,CAAX,IAAW,CAAX;;AACF;AACE,eAAO7Q,OAAO,CAAd,IAAc,CAAd;;AACF;AACE,eAAOC,IAAI,CAAX,IAAW,CAAX;;AACF;AACE,eAAOvE,IAAI,CAAJA,KAAI,CAAJA,cAAyBA,IAAI,CAAJA,oBAAhC;AArBJ;AADF;AAyBD;;AAGD,IAAMwV,QAAQ,GAAGxV,SAAXwV,QAAWxV,KAAI;AAAA,SAAIA,IAAI,CAA7B,QAAqB;AAAA,CAArB;;AACA,IAAMuE,IAAI,GAAGvE,SAAPuE,IAAOvE,KAAI;AAAA,SAAIwV,QAAQ,CAARA,IAAQ,CAARA,CAArB,IAAiB;AAAA,CAAjB;;AACA,IAAM3G,KAAK,GAAG7O,SAAR6O,KAAQ7O,KAAI;AAAA,SAAIqU,KAAK,CAAC9P,IAAI,CAAV8P,IAAU,CAAL,CAALA,IAAtB,CAAkB;AAAA,CAAlB;;AACA,IAAM/P,OAAO,GAAGtE,SAAVsE,OAAUtE,KAAI;AAAA,SAAIwV,QAAQ,CAARA,IAAQ,CAARA,CAAxB,OAAoB;AAAA,CAApB;;AACA,IAAML,IAAI,GAAGnV,SAAPmV,IAAOnV,KAAI;AAAA,SAAIwV,QAAQ,CAARA,IAAQ,CAARA,SAArB,EAAiB;AAAA,CAAjB;;AACA,IAAMX,OAAO,GAAG7U,SAAV6U,OAAU7U,KAAI;AAAA,SAClB,CAACA,IAAI,CAAJA,gBAAD,WAAiCZ,WAAC;AAAA,WAAI,aADxC,QACoC;AAAA,GAAlC,CADkB;AAAA,CAApB;;AAEA,IAAMqW,UAAU,GAAGzV,SAAbyV,UAAazV,KAAI;AAAA,SACrB,CAACA,IAAI,CAAJA,cAAD,WAA+BZ,WAAC;AAAA,WAAI,aADtC,QACkC;AAAA,GAAhC,CADqB;AAAA,CAAvB;;AAGA,yBAAyB;AACvB,SAAOY,cAAI,EAAI;AACb;AACE;AACE,eAAO,CAACA,IAAI,CAAJA,gBAAD,aAAP;;AACF;AACE,eAAO,CAACA,IAAI,CAAJA,cAAD,aAAP;;AACF;AACE,eAAOgN,OAAO,CAAChN,IAAI,CAAJA,SAAf,WAAc,CAAd;;AACF;AACE,eAAOgN,OAAO,CAAC,CAAChN,IAAI,CAAJA,eAAD,IAAf,WAAc,CAAd;;AACF;AACA;AACE,eAAOA,IAAI,CAAJA,6BAAkCgN,OAAO,CAAChN,IAAI,CAArD,QAAgD,CAAhD;;AACF;AACE,eAAOgN,OAAO,CAAC,CAAChN,IAAI,CAAJA,eAAD,IAAf,IAAc,CAAd;;AACF;AACA;AACE,eAAO,CAACA,IAAI,CAAJA,iBAAD,aAAP;;AACF;AACE,eAAOgN,OAAO,CAAC,CAAChN,IAAI,CAAJA,eAAD,IAAf,OAAc,CAAd;;AACF;AACE;AApBJ;AADF;AAwBD;;AAED,wBAAwB;AACtB,SAAOA,cAAI;AAAA,WAAIA,IAAI,CAAJA,gBAAf,KAAW;AAAA,GAAX;AACD;;AAED,sCAAsC;AACpC,MAAIwM,OAAO,CAAX,YAAwB;AACtB,WAAOxM,cAAI;AAAA,aACT6U,OAAO,CAAPA,IAAO,CAAPA,eAA4BA,OAAO,CAAPA,IAAO,CAAPA,MAAmBxY,WAAC;AAAA,eAAIA,CAAC,CAADA,WADtD,KACsDA,CAAJ;AAAA,OAApBwY,CADnB;AAAA,KAAX;AAED;;AAED,MAAIrI,OAAO,CAAX,UAAsB;AACpB,WAAOxM,cAAI;AAAA,aACT6U,OAAO,CAAPA,IAAO,CAAPA,eAA4BA,OAAO,CAAPA,IAAO,CAAPA,MAAmBxY,WAAC;AAAA,eAAIA,CAAC,CAADA,SADtD,KACsDA,CAAJ;AAAA,OAApBwY,CADnB;AAAA,KAAX;AAED;;AAED,SAAO7U,cAAI;AAAA,WAAI6U,OAAO,CAAPA,IAAO,CAAPA,UAAf,KAAeA,CAAJ;AAAA,GAAX;AACD;;AAED,mCAAmC;AACjC,MAAMzV,CAAC,GAAGiV,KAAK,CAALA,KAAK,CAALA,IAAV;;AAEA,MAAI7H,OAAO,CAAX,OAAmB;AACjB,WAAOxM,cAAI;AAAA,aAAKwM,OAAO,CAAPA,SAAiBqC,KAAK,CAALA,IAAK,CAALA,IAAjBrC,IAAoCqC,KAAK,CAALA,IAAK,CAALA,GAApD,CAAW;AAAA,KAAX;AACD;;AACD,MAAIrC,OAAO,CAAX,SAAqB;AACnB,WAAOxM,cAAI;AAAA,aAAKwM,OAAO,CAAPA,SAAiBqC,KAAK,CAALA,IAAK,CAALA,IAAjBrC,IAAoCqC,KAAK,CAALA,IAAK,CAALA,GAApD,CAAW;AAAA,KAAX;AACD;;AACD,MAAIrC,OAAO,CAAX,YAAwB;AACtB,WAAOxM,cAAI;AAAA,aAAIuE,IAAI,CAAJA,IAAI,CAAJA,YAAf,KAAeA,CAAJ;AAAA,KAAX;AACD;;AACD,MAAIiI,OAAO,CAAX,UAAsB;AACpB,WAAOxM,cAAI;AAAA,aAAIuE,IAAI,CAAJA,IAAI,CAAJA,UAAf,KAAeA,CAAJ;AAAA,KAAX;AACD;;AACD,SAAOvE,cAAI;AAAA,WAAIuE,IAAI,CAAJA,IAAI,CAAJA,KAAf,KAAW;AAAA,GAAX;AACD;;AAED,uCAAuC;AACrC,MAAIiI,OAAO,CAAX,YAAwB;AACtB,WAAOxM,cAAI;AAAA,aACTyV,UAAU,CAAVA,IAAU,CAAVA,eACAA,UAAU,CAAVA,IAAU,CAAVA,MAAsBpZ,WAAC;AAAA,eAAIA,CAAC,CAADA,WAF7B,KAE6BA,CAAJ;AAAA,OAAvBoZ,CAFS;AAAA,KAAX;AAGD;;AAED,MAAIjJ,OAAO,CAAX,UAAsB;AACpB,WAAOxM,cAAI;AAAA,aACTyV,UAAU,CAAVA,IAAU,CAAVA,eACAA,UAAU,CAAVA,IAAU,CAAVA,MAAsBpZ,WAAC;AAAA,eAAIA,CAAC,CAADA,SAF7B,KAE6BA,CAAJ;AAAA,OAAvBoZ,CAFS;AAAA,KAAX;AAGD;;AAED,SAAOzV,cAAI;AAAA,WAAIyV,UAAU,CAAVA,IAAU,CAAVA,UAAf,KAAeA,CAAJ;AAAA,GAAX;AACD;;AAED,mCAAmC;AACjC,MAAIjJ,OAAO,CAAX,YAAwB;AACtB,WAAOxM,cAAI;AAAA,aACTmV,IAAI,CAAJA,IAAI,CAAJA,eAAyBA,IAAI,CAAJA,IAAI,CAAJA,MAAgBvd,aAAG;AAAA,eAAIA,GAAG,CAAHA,WADlD,KACkDA,CAAJ;AAAA,OAAnBud,CADhB;AAAA,KAAX;AAED;;AAED,MAAI3I,OAAO,CAAX,UAAsB;AACpB,WAAOxM,cAAI;AAAA,aACTmV,IAAI,CAAJA,IAAI,CAAJA,eAAyBA,IAAI,CAAJA,IAAI,CAAJA,MAAgBvd,aAAG;AAAA,eAAIA,GAAG,CAAHA,SADlD,KACkDA,CAAJ;AAAA,OAAnBud,CADhB;AAAA,KAAX;AAED;;AAED,SAAOnV,cAAI;AAAA,WAAImV,IAAI,CAAJA,IAAI,CAAJA,UAAf,KAAeA,CAAJ;AAAA,GAAX;AACD;;AAED,sCAAsC;AACpC,MAAMO,QAAQ,GACZlJ,OAAO,CAAPA,SAAiBA,OAAO,CAAxBA,WAAoCA,OAAO,CAA3CA,cAA0DA,OAAO,CADnE;;AAEA,MAAMmJ,KAAK,GAAG3V,SAAR2V,KAAQ3V,KAAI;AAAA,WAAIqD,MAAM,CAANA,MAAaiB,OAAO,CAA1C,IAA0C,CAApBjB,CAAJ;AAAA,GAAlB;;AAEA,gBAAc;AACZ,WAAOrD,cAAI;AAAA,aACT2V,KAAK,CAALA,IAAK,CAALA,GACItS,MAAM,CAANA,UACEiB,OAAO,CADTjB,IACS,CADTA,YAEKmJ,OAAO,CAACoJ,SAFbvS,SAEyBmJ,OAAO,CAHpCmJ,KACItS,EADJsS,GADF,KAAW;AAAA,KAAX;AAOD;;AAED,SAAO3V,cAAI;AAAA,WACT2V,KAAK,CAALA,IAAK,CAALA,GAActS,MAAM,CAANA,UAAiBiB,OAAO,CAAxBjB,IAAwB,CAAxBA,EAAgCmJ,OAAO,CAArDmJ,KAActS,CAAdsS,GADF,KAAW;AAAA,GAAX;AAED,C;;;;;;;;;;;;;;ACxLD,IAAME,IAAI,GAAG,mBAAO,CAApB,4DAAoB,CAApB;;AAEAte,MAAM,CAANA,UAAiB;AACf6c;AADe,CAAjB7c;;AAIA,uBAAuB;AACrB,SAAO,gBAAgB;AACrB8N,MAAE,EADmB;AAErByQ,QAAI,EAAE;AAFe,GAAhB,CAAP;AAaD,C;;;;;;;;;;;;;;;;;;;;;;ACpBDve,MAAM,CAANA,UAAiB;AACfuc;AADe,CAAjBvc;AAIA,IAAMwe,SAAS,GAAf;;AAEA,2BAA2B;AACzB,MAAM1V,KAAK,GAAGoT,UAAU,CAAVA,oBAAd;;AADyB,8BAEzB,KAFyB;AAAA,MAEnB,GAFmB;AAAA,MAEnB,KAFmB;AAAA,MAEnB,OAFmB;AAAA,MAEnB,QAFmB;AAAA,MAEnB,QAFmB;AAAA,MAEnB,KAFmB;;AAIzB,SAAO;AACLvU,SADK,EACLA,KADK;AAEL4F,SAFK,EAELA,KAFK;AAGLkR,OAHK,EAGLA,GAHK;AAILJ,aAAS,EAAE,0BAJN,EAIM,CAJN;AAKLK,WAAO,EAAEC,OAAO,KALX;AAMLC,WAAO,EAAEC,QAAQ,KANZ;AAOLC,SAAK,EAAED,QAAQ,KAPV;AAQLE,cAAU,EAAEC,QAAQ,KAARA,OAAoBH,QAAQ,KARnC;AASLtd,YAAQ,EAAEyd,QAAQ,KAARA,OAAoBH,QAAQ,KATjC;AAULI,UAAM,EAAED,QAAQ,KAVX;AAWLZ,SAAK,EAAE3I,OAAO,CACZ9N,KAAK,IAALA,UAEG,gCAAgC,oBAHvB,QACZA,CADY;AAXT,GAAP;AAiBD,C;;;;;;;;;;;;;;AC3BD3H,MAAM,CAACC,OAAP,GAAiB,mBAAO,CAAC,+CAAD,CAAxB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;elCAuB,mBAAO,CAA9B,mDAA8B,C;IAAvBif,Y,YAAAA,Y;;AAEPlf,MAAM,CAANA;AAAAA;AAAAA;AACEmf,iCAAwC;AAAA,QAA5B,GAA4B,QAA5B,GAA4B;AAAA,QAA5B,SAA4B,QAA5B,SAA4B;AAAA,QAAXC,QAAW,QAAXA,QAAW;;AAAA;;AACtC;AACA;AACA;AACA;AACA;AACA,cAAU,IAAV,YAAU,EAAV;AACD;;AARHpf;AAAAA;AAAAA,2BAUS;AAAA;;AACL,UAAMqf,IAAI,GAAG,SAAPA,IAAO;AAAA,eAAgB,iCAAgClW,WAAC;AAAA,iBAAIA,CAAC,MAADA,4BAAlE,IAAkEA,EAAJ;AAAA,SAAjC,CAAhB;AAAA,OAAb;;AAEA,UAAMmW,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,yBAAgB,IAAIpP,MAAM,CAAV,UAAqB,MADpB,GACD,CAAhB,CADiB,CAGjB;AACA;;AACAA,cAAM,CAANA,iCAAwC,MAAxCA;;AAEA,gDAAuC,YAAa;AAClD;;AADkD,4CAAb,IAAa;AAAb,gBAAa;AAAA;;AAElDmP,cAAI,SAAJA,IAAI,CAAJA;AAFF;;AAKA,iDAAwC,YAAa;AACnDnP,gBAAM,CAANA,oCAA2C,MAA3CA;AACA;;AAFmD,6CAAb,IAAa;AAAb,gBAAa;AAAA;;AAGnDmP,cAAI,UAAJA,IAAI,CAAJA;AAHF;;AAMA,iDAAwC,YAAa;AACnDnP,gBAAM,CAANA,oCAA2C,MAA3CA;AACA;;AAFmD,6CAAb,IAAa;AAAb,gBAAa;AAAA;;AAGnDmP,cAAI,UAAJA,IAAI,CAAJA;AAHF;;AAMA,mDAA0C,YAAa;AAAA,6CAAb,IAAa;AAAb,gBAAa;AAAA;;AACrDA,cAAI,YAAJA,IAAI,CAAJA;AADF;AAxBF;;AA6BAC,UAAI;;AAEJ,UAAI,KAAJ,WAAoB;AAClB,oBAAYC,WAAW,CAAC,YAAM;AAC5B,cAAI,eAAe,MAAnB,QAAgC;AAC9B;AACD;;AACDD,cAAI;AAJiB,WAKpB,KALH,QAAuB,CAAvB;AAMD;AACF;AApDHtf;AAAAA;AAAAA,4BAsDU;AACN;;AACA,UAAI,KAAJ,QAAiB;AACf;AACD;AACF;AA3DHA;AAAAA;AAAAA,2BA6DQ,OA7DRA,EA6DkB;AACd;AACD;AA/DHA;AAAAA;AAAAA,4BAiES,OAjETA,EAiEmB;AACf;AACA;AACD;AApEHA;AAAAA;AAAAA,4BAsES,OAtETA,EAsEmB;AACf;AACA;AACD;AAzEHA;AAAAA;AAAAA,8BA2EW,OA3EXA,EA2EqB;AACjB;AACA;AACD;AA9EHA;;AAAAA;AAAAA,I;;;;;;;;;;;;;;;;;;;;AmCFA;;eAEewf,Y;;AACR,IAAM9e,IAAI,GAAG,eAAb;;;AAEP,SAAS8e,YAAT,CAAsB1R,EAAtB,EAA0B;AACxB,SAAO,UAAA2R,QAAQ,EAAI;AACjBA,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACL,uBAAeI;AADV;AADK,KAAd,CADM,CAAR;AAOD,GARD;AASD;;AAED0R,YAAY,CAACvH,GAAb,GAAmB,EAAnB;AACAuH,YAAY,CAACE,QAAb,GAAwB,EAAxB;AACAF,YAAY,CAAC9e,IAAb,GAAoBA,IAApB,C;;;;;;;;;;;;;;;;;;eCnBeif,U;;AACR,IAAMjf,IAAI,GAAG,eAAb;;;AAEP,SAASif,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,SAAO;AACLlf,QAAI,EAAJA,IADK;AAELkf,WAAO,EAAPA;AAFK,GAAP;AAID,C;;;;;;;;;;;;;;;;;;;ACRD;;AACA;;AACA;;;;eAEeC,K;;AACR,IAAMnf,IAAI,GAAG,OAAb;;AAEP,IAAMof,OAAO,GAAG;AACdC,IAAE,EAAE,CAAC,CADS;AAEdC,MAAI,EAAE,CAFQ;AAGd/b,SAAO,EAAE;AAHK,CAAhB;;AAMA,SAAS4b,KAAT,CAAeD,OAAf,EAAwB;AACtB,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB,CAD6B,CAG7B;;AACA,QAAInN,KAAK,CAACoN,aAAV,EAAyB;AACvB;AACD;;AAED,YAAQN,OAAR;AACE,WAAK,OAAL;AAAc;AACZ,cAAI9M,KAAK,CAACqN,iBAAV,EAA6B;AAC3B,mBAAOV,QAAQ,CAAC,gCAAD,CAAf;AACD;;AACD;AACD;;AACD,WAAK,MAAL;AAAa;AACX,cAAI,CAAC3M,KAAK,CAACqN,iBAAX,EAA8B;AAC5B,mBAAOV,QAAQ,CAAC,gCAAD,CAAf;AACD;;AACD;AACD;;AACD,WAAK,IAAL;AACA,WAAK,MAAL;AACA;AAAS;AACP,cAAI,CAAC3M,KAAK,CAACqN,iBAAX,EAA8B;AAC5B;AACD;;AAED,cAAMzY,MAAM,GAAGkY,OAAO,IAAIE,OAAX,GAAqBA,OAAO,CAACF,OAAD,CAA5B,GAAwCE,OAAO,CAAC7b,OAA/D;AACA,cAAMmc,IAAI,GAAG,gBAAWtN,KAAX,CAAb;AACA,cAAMwE,KAAK,GAAG8I,IAAI,CAACC,SAAL,CAAe,UAAC5X,IAAD;AAAA,mBAAU,UAAGA,IAAI,CAAC6X,WAAR,cAAuB7X,IAAI,CAACqF,EAA5B,MAAqCgF,KAAK,CAAChF,EAA3C,IAAiDgF,KAAK,CAAChF,EAAN,KAAa,GAAb,IAAoBrF,IAAI,CAACqF,EAAL,KAAY,OAA3F;AAAA,WAAf,CAAd;AACA,cAAM4D,IAAI,GAAG0O,IAAI,CAAC9I,KAAK,GAAG5P,MAAT,CAAjB;;AACA,cAAIgK,IAAJ,EAAU;AACR6O,cAAE,CAACd,QAAD,CAAF,CAAa/N,IAAI,CAACyC,IAAlB;AACD;AACF;AA3BH;AA6BD,GArCD;AAsCD;;AAED,SAASoM,EAAT,CAAYd,QAAZ,EAAsB;AACpB,SAAO,UAAA/N,IAAI;AAAA,WAAI+N,QAAQ,CAAC,4BAAK/N,IAAL,CAAD,CAAZ;AAAA,GAAX;AACD,C;;;;;;;;;;;;;;;;;;;ACxDD;;AACA;;AACA;;;;;;;;eAEe8O,a;;AACR,IAAM9f,IAAI,GAAG,gBAAb;;;AAEP,SAAS8f,aAAT,CAAuBC,OAAvB,EAAgC;AAC9B,SAAO,UAAChB,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;AACA,QAAMS,QAAQ,GAAG5N,KAAK,CAAC6N,OAAN,CAAcC,yBAA/B;;AACA,QAAM5M,MAAM,GAAG6M,kBAAStE,KAAT,CAAemE,QAAQ,CAAChT,KAAT,CAAehM,MAA9B,CAAf;;AACA,QAAMof,QAAQ,GAAG9M,MAAM,CAAC+M,QAAxB;;AACA,QAAMC,GAAG,GAAG3Y,cAAK4Y,OAAL,CAAaH,QAAb,CAAZ;;AAEA,QAAMI,OAAO,GAAGpO,KAAK,CAACjN,OAAN,CAAcsb,KAAd,CAAoBC,IAApB,CAAyB,UAAAC,IAAI,EAAI;AAC/C,aAAOA,IAAI,CAACZ,OAAL,KAAiB,MAAjB,IAA2BY,IAAI,CAAC3gB,IAAL,KAAcsgB,GAAG,CAACM,KAAJ,CAAU,CAAV,CAAhD;AACD,KAFe,CAAhB;AAIA,QAAM5gB,IAAI,GAAG+f,OAAO,KAAK,OAAZ,IAAuBS,OAAvB,GAAiC,QAAjC,GAA4ClN,MAAM,CAACtG,KAAP,CAAahN,IAAtE;;AAEA,QAAMgB,MAAM,GAAGmf,kBAASU,MAAT,CAAgB;AAC7BR,cAAQ,YAAK1Y,cAAKmZ,OAAL,CAAaV,QAAb,CAAL,cAA+BL,OAA/B,SAAyCO,GAAzC,CADqB;AAE7BtT,WAAK,oBACAsG,MAAM,CAACtG,KADP;AAEHhN,YAAI,EAAJA;AAFG;AAFwB,KAAhB,CAAf;;AAQA+e,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACLhM,cAAM,EAANA;AADK;AADK,KAAd,CADM,CAAR;AAOD,GA5BD;AA6BD;;AAED8e,aAAa,CAAC9f,IAAd,GAAqBA,IAArB,C;;;;;;;;;;;;;;;;;;;ACvCA;;AACA;;AACA;;AACA;;;;;;eAEe+gB,U;;AACR,IAAM/gB,IAAI,GAAG,aAAb;;;AAEP,SAAS+gB,UAAT,CAAoBC,KAApB,EAA2B;AACzBC,kBAAOC,KAAP,SACSF,KADT,GAEE,QAFF,EAGE,oDAHF;;AAMA,SAAO,UAACjC,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMS,QAAQ,GAAGT,QAAQ,GAAGU,OAAX,CAAmBC,yBAApC;;AACA,QAAM5M,MAAM,GAAG6M,kBAAStE,KAAT,CAAemE,QAAQ,CAAChT,KAAT,CAAehM,MAAf,IAAyB,EAAxC,CAAf;;AACA,QAAMhB,IAAI,GAAG,sBAAS,CAAC,QAAD,EAAW,aAAX,CAAT,EAAoCghB,KAApC,IAA6CA,KAA7C,GAAqD,QAAlE;AACA,QAAMhU,KAAK,GAAG;AAAEhN,UAAI,EAAJA;AAAF,KAAd;;AACA,QAAMgB,MAAM,GAAGmf,kBAASU,MAAT,CAAgB,mBAAM,EAAN,EAAUvN,MAAV,EAAkB;AAAEtG,WAAK,EAALA;AAAF,KAAlB,CAAhB,CAAf;;AACA+R,YAAQ,CAAC,qBAAc;AAAE/R,WAAK,EAAE;AAAEhM,cAAM,EAANA;AAAF;AAAT,KAAd,CAAD,CAAR;AACD,GAPD;AAQD;;AAED+f,UAAU,CAAC/gB,IAAX,GAAkBA,IAAlB,C;;;;;;;;;;;;;;;;;;;ACzBA;;eAEemhB,iB;;AACR,IAAMnhB,IAAI,GAAG,sBAAb;;;AAEP,SAASmhB,iBAAT,GAA6B;AAC3B,SAAO,UAAApC,QAAQ,EAAI;AACjBA,YAAQ,CAAC,2BAAD,CAAR;AACAA,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACL9G,aAAK,EAAE,IADF;AAELkb,gBAAQ,EAAE,IAFL;AAGL,wBAAgB,IAHX;AAIL,2BAAmB,IAJd;AAKL,0BAAkB,IALb;AAMLpgB,cAAM,EAAE,IANH;AAOL,2BAAmB;AAPd;AADK,KAAd,CADM,CAAR;AAaD,GAfD;AAgBD;;AAEDmgB,iBAAiB,CAACnhB,IAAlB,GAAyBA,IAAzB,C;;;;;;;;;;;;;;;;;;;ACxBA;;eAEe,gCAAa,qBAAb,EAAoC;AAAA,MAAGuG,KAAH,QAAGA,KAAH;AAAA,MAAUC,MAAV,QAAUA,MAAV;AAAA,SAAwB;AACzED,SAAK,EAALA,KADyE;AAEzEC,UAAM,EAANA;AAFyE,GAAxB;AAAA,CAApC,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,gCAAa,sBAAb,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,gCAAa,iBAAb,C;;;;;;;;;;;;;;;;;;;;;ACFf;;AACA;;AACA;;;;;;;;;;;;eAEe6a,sB;;;AAEf,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,SAAO,UAAAC,QAAQ,EAAI;AACjB,WAAO,qBAAQA,QAAR,EAAkBC,MAAlB,CAAyB,UAAClG,QAAD,EAAWmG,KAAX,EAAqB;AAAA,kCAChCA,KADgC;AAAA,UAC5CjV,IAD4C;AAAA,UACtCkV,EADsC;;AAEnDpG,cAAQ,CAAC9O,IAAD,CAAR,GAAiB,UAAC2F,KAAD,EAAQwP,MAAR,EAAmB;AAClC,eAAOD,EAAE,CAACvP,KAAD,EAAQwP,MAAR,EAAgBL,IAAhB,CAAT;AACD,OAFD;;AAGA,aAAOhG,QAAP;AACD,KANM,EAMJ,EANI,CAAP;AAOD,GARD;AASD;;AAED,SAAS8F,sBAAT,CAAgCQ,cAAhC,EAAgDtN,OAAhD,EAAyD;AACvD0M,kBAAOa,EAAP,CACEnf,KAAK,CAACof,OAAN,CAAcxN,OAAO,CAAChQ,YAAtB,CADF,EAEE,uCAFF;;AAKA,MAAMyd,OAAO,GAAG,SAAVA,OAAU,GAAa;AAAA,sCAAT9T,IAAS;AAATA,UAAS;AAAA;;AAAA,iBACKA,IADL;AAAA,QAChB3J,YADgB,uBACD,EADC;;AAG3B,QAAIsD,MAAM,CAACgW,IAAP,CAAYtZ,YAAZ,EAA0BsC,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,UAAMob,OAAO,GAAG1N,OAAO,CAAChQ,YAAR,CAAqB2d,MAArB,CACd,UAAAC,UAAU;AAAA,eAAI,EAAEA,UAAU,IAAI5d,YAAhB,CAAJ;AAAA,OADI,CAAhB;;AAGA0c,sBAAOa,EAAP,CACEG,OAAO,CAACpb,MAAR,KAAmB,CADrB,6BAEsBgB,MAAM,CAACgW,IAAP,CAAYgE,cAAZ,EAA4BO,IAA5B,CAClB,IADkB,CAFtB,iDAI0CH,OAAO,CAACG,IAAR,CACtC,GADsC,CAJ1C,0BAMmBva,MAAM,CAACgW,IAAP,CAAYtZ,YAAZ,CANnB;AAQD;;AAED,QAAMgd,IAAI,GAAG,kBAAKhd,YAAL,EAAmBgQ,OAAO,CAAChQ,YAA3B,CAAb;AACA,QAAMid,QAAQ,GAAGF,aAAa,CAACC,IAAD,CAAb,CAAoBM,cAApB,CAAjB;AACA,QAAMQ,OAAO,GAAG,iCAAcb,QAAd,EAAwBjN,OAAO,CAAC+N,YAAhC,CAAhB;AACA,WAAOD,OAAO,MAAP,SAAWnU,IAAX,CAAP;AACD,GArBD;;AAsBA8T,SAAO,CAACzd,YAAR,GAAuBgQ,OAAO,CAAChQ,YAA/B;AACA,SAAOyd,OAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;ACtCA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;eAEe,kDACb,QADa,EAEb,UAAC9C,OAAD,EAAUH,QAAV,EAAoBQ,QAApB,EAAiC;AAAA,gBACT/P,MADS;AAAA,MACvB+S,SADuB,WACvBA,SADuB;;AAG/B,MAAI,CAACA,SAAL,EAAgB;AACd;AACD;;AAED,MAAMnQ,KAAK,GAAGmN,QAAQ,EAAtB;AAEAiD,QAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,UAAAC,QAAQ,EAAI;AAC7C,QAAI,OAAOA,QAAQ,CAACC,IAAhB,KAAyB,QAA7B,EAAuC;AACrC;AACD;;AAED,QAAID,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsB,eAAtB,MAA2C,CAA/C,EAAkD;AAChD;AACD;;AAED,QAAM3N,OAAO,GAAG4N,SAAS,CAACH,QAAQ,CAACC,IAAV,CAAzB;;AACA,QAAI1N,OAAO,CAACjV,IAAR,KAAiB,UAArB,EAAiC;AAC/B+e,cAAQ,CACN,qBAAc;AACZsB,gBAAQ,EAAE,CAACpL,OAAO,CAAC6N,QAAT,EAAmB7N,OAAO,CAAC7H,EAA3B,EAA+BgV,IAA/B,CAAoC,GAApC;AADE,OAAd,CADM,CAAR;AAKD;AACF,GAjBD;;AAmBA,MAAIhQ,KAAK,CAAC2Q,QAAV,EAAoB;AAClB;AACD;;AAED,MAAM/hB,MAAM,GAAGoS,aAAIyF,OAAJ,CAAYzG,KAAK,CAAC4Q,IAAlB,EAAwB9D,OAAO,CAAC9L,GAAhC,CAAf;;AAEA,MAAM6P,EAAE,GAAG,IAAIC,gCAAJ,CAAoB;AAC7BC,OAAG,iBAAU3T,MAAM,CAACwQ,QAAP,CAAgBoD,IAA1B,SAAiCpiB,MAAjC,MAD0B;AAE7BqiB,aAAS,EAAE,IAFkB;AAG7B3E,YAAQ,EAAE;AAHmB,GAApB,CAAX;AAMAuE,IAAE,CAACrE,IAAH;AAEAqE,IAAE,CAACK,MAAH,CAAU;AAAA,WAAMvE,QAAQ,CAAC;AAAE/e,UAAI,EAAE,kBAAR;AAA4Bkf,aAAO,EAAE;AAArC,KAAD,CAAd;AAAA,GAAV;AACA+D,IAAE,CAACM,OAAH,CAAW;AAAA,WAAMxE,QAAQ,CAAC;AAAE/e,UAAI,EAAE,iBAAR;AAA2Bkf,aAAO,EAAE;AAApC,KAAD,CAAd;AAAA,GAAX;AACA+D,IAAE,CAACO,OAAH,CAAW;AAAA,WAAMzE,QAAQ,CAAC;AAAE/e,UAAI,EAAE,iBAAR;AAA2Bkf,aAAO,EAAE;AAApC,KAAD,CAAd;AAAA,GAAX;AAEA+D,IAAE,CAACQ,SAAH,CAAa,gBAAMf,QAAN,EAAkB;AAC7B,QAAMzN,OAAO,GAAGyO,eAAM7H,KAAN,CAAY6G,QAAQ,CAACC,IAArB,CAAhB;;AAD6B,QAErB3iB,IAFqB,GAEHiV,OAFG,CAErBjV,IAFqB;AAAA,QAEfkf,OAFe,GAEHjK,OAFG,CAEfiK,OAFe;;AAI7B,YAAQlf,IAAR;AACE,WAAK,OAAL;AACE,eAAO+e,QAAQ,CAAC;AACd/e,cAAI,EAAE,iBADQ;AAEdkf,iBAAO,EAAPA;AAFc,SAAD,CAAf;;AAIF,WAAK,OAAL;AAAc;AACZH,kBAAQ,CAAC,0BAAD,CAAR,CADY,CAEZ;;AACA,iBAAOA,QAAQ,CAAC,8BAAgB;AAAE4E,iBAAK,EAAE;AAAT,WAAhB,CAAD,CAAf;AACD;;AACD,WAAK,MAAL;AAAa;AACX,iBAAO5E,QAAQ,CAAC;AACd/e,gBAAI,EAAE,kBADQ;AAEdkf,mBAAO,EAAE;AAFK,WAAD,CAAf;AAID;;AACD,WAAK,QAAL;AAAe;AACb,iBAAOH,QAAQ,CAAC,0BAAD,CAAf;AACD;;AACD;AAAS;AACP,gBAAM,IAAI6E,SAAJ,4CAAkD5jB,IAAlD,EAAN;AACD;AAtBH;AAwBD,GA5BD;AA6BD,CA7EY,C;;;;AAgFf,SAAS6iB,SAAT,CAAmBF,IAAnB,EAAyB;AACvB,MAAI;AACF,WAAOzG,IAAI,CAACL,KAAL,CAAW8G,IAAX,CAAP;AACD,GAFD,CAEE,OAAOkB,GAAP,EAAY;AACZ,WAAO,EAAP;AACD;AACF,C;;;;;;;;;;;;;;;;;;;;AC/FD;;AACA;;;;;;eAEe,kBAAC3E,OAAD,EAAa;AAC1B,SAAO,gBAAOH,QAAP,EAAiBQ,QAAjB,EAA8B;AACnC,QAAMuE,MAAM,GAAGX,GAAG,CAAC5D,QAAD,CAAlB;AACA,QAAMwE,GAAG,GAAGD,MAAM,EAAlB;;AAEA,QAAI,CAACC,GAAL,EAAU;AACR;AACD;;AAEDhF,YAAQ,CAAC;AACP/e,UAAI,EAAE,yBADC;AAEPkf,aAAO,EAAE;AAAE9R,UAAE,EAAE2W;AAAN;AAFF,KAAD,CAAR;AAKA,QAAMC,QAAQ,GAAG,MAAM,8BAAMD,GAAN,EAAW;AAChCE,aAAO,EAAE;AAAEC,cAAM,EAAE;AAAV;AADuB,KAAX,CAAvB,CAbmC,CAiBnC;;AACA,QAAIH,GAAG,KAAKD,MAAM,EAAlB,EAAsB;AACpB;AACD;;AAED,QAAMK,IAAI,GAAG,MAAMH,QAAQ,CAACjhB,IAAT,EAAnB,CAtBmC,CAwBnC;;AACA,QAAIghB,GAAG,KAAKD,MAAM,EAAlB,EAAsB;AACpB;AACD;;AAED,QAAIE,QAAQ,CAACI,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,aAAOrF,QAAQ,CAAC;AACd/e,YAAI,EAAE,yBADQ;AAEdkf,eAAO,EAAE;AAAE9R,YAAE,EAAE2W,GAAN;AAAWpK,eAAK,EAAEwK;AAAlB;AAFK,OAAD,CAAf;AAID;;AAEDpF,YAAQ,CAAC;AACP/e,UAAI,EAAE,2BADC;AAEPkf,aAAO,EAAE;AAAE9R,UAAE,EAAE2W,GAAN;AAAWM,gBAAQ,EAAEF,IAArB;AAA2BR,aAAK,EAAEzE,OAAO,CAACyE;AAA1C;AAFF,KAAD,CAAR;AAID,GAxCD;AAyCD,C;;;;AAED,SAASR,GAAT,CAAa5D,QAAb,EAAuB;AACrB,SAAO;AAAA,WAAM+E,IAAI,CAACC,SAAL,CAAehF,QAAQ,EAAvB,CAAN;AAAA,GAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACjDD;;AACA;;AACA;;;;eAEe,kDACb,aADa,EAEb,gBAAOiF,CAAP,EAAUC,EAAV,EAAclF,QAAd,EAA2B;AACzB,MAAMyE,QAAQ,GAAG,MAAM,8BAASU,MAAM,CAACnF,QAAQ,GAAGyD,IAAZ,CAAf,qBAAvB;AACA,SAAOgB,QAAQ,CAACW,IAAT,EAAP;AACD,CALY,C;;;;AAQf,SAASD,MAAT,CAAgB1B,IAAhB,EAAsB;AACpB,SAAOA,IAAI,CAAC4B,MAAL,CAAY5B,IAAI,CAACnc,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACHmc,IAAI,CAACpC,KAAL,CAAW,CAAX,EAAcoC,IAAI,CAACnc,MAAL,GAAc,CAA5B,CADG,GAEHmc,IAFJ;AAGD,C;;;;;;;;;;;;;;;;;;;AChBD;;eAEe,gCAAa,YAAb,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe6B,iB;;AACR,IAAM7kB,IAAI,GAAG,oBAAb;;;AAEP,SAAS6kB,iBAAT,GAA6B;AAC3B,SAAO,UAAC9F,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;AACA,QAAMc,QAAQ,GAAGjO,KAAK,CAAC4Q,IAAvB;AACAjE,YAAQ,CAAC,qBAAc;AAAEsB,cAAQ,EAARA;AAAF,KAAd,CAAD,CAAR;AACD,GAJD;AAKD;;AAEDwE,iBAAiB,CAACtN,GAAlB,GAAwB,EAAxB;AACAsN,iBAAiB,CAAC7F,QAAlB,GAA6B,EAA7B;AACA6F,iBAAiB,CAAC7kB,IAAlB,GAAyBA,IAAzB,C;;;;;;;;;;;;;;;;;;;ACfA;;AACA;;;;eAEe8kB,c;;AACR,IAAM9kB,IAAI,GAAG,iBAAb;;;AAEP,SAAS8kB,cAAT,GAA0B;AACxB,SAAO,UAAC/F,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAI,CAAC/P,MAAM,CAACoP,IAAZ,EAAkB;AAChB;AACD;;AAED,QAAMxM,KAAK,GAAGmN,QAAQ,EAAtB;AACA,QAAMK,WAAW,GAAG,6BAAkBxN,KAAlB,CAApB;;AAEA,QAAIwN,WAAW,KAAK,SAApB,EAA+B;AAC7B;AACD;;AAED,QAAMxS,EAAE,GAAG,oBAASgF,KAAT,CAAX;;AAEA,QAAI,CAAChF,EAAL,EAAS;AACP;AACD;;AAED,QAAMqG,IAAI,GAAG0M,kBAASU,MAAT,CAAgB;AAC3BR,cAAQ,YAAKjO,KAAK,CAAC4Q,IAAX,sBAA2B5V,EAA3B;AADmB,KAAhB,CAAb;;AAIAoC,UAAM,CAACoP,IAAP,CAAYnL,IAAZ,EAAkB,QAAlB;AACD,GAvBD;AAwBD;;AAEDqR,cAAc,CAACvN,GAAf,GAAqB,EAArB;AACAuN,cAAc,CAAC9F,QAAf,GAA0B,EAA1B;AACA8F,cAAc,CAAC9kB,IAAf,GAAsBA,IAAtB,C;;;;;;;;;;;;;;;;;;;;ACnCA;;AACA;;AACA;;;;eAEe+kB,a;;AACR,IAAM/kB,IAAI,GAAG,gBAAb;;;AAEP,SAAS+kB,aAAT,CAAuB7F,OAAvB,EAAgC;AAC9B,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;AACA,QAAMS,QAAQ,GAAG5N,KAAK,CAAC6N,OAAN,CAAcC,yBAA/B;;AAEA,QAAIhB,OAAO,CAAC8F,cAAR,CAAuB,UAAvB,CAAJ,EAAwC;AACtC9F,aAAO,CAACmB,QAAR,GAAmBnB,OAAO,CAACmB,QAAR,CAAiBuC,OAAjB,CAAyBxQ,KAAK,CAAC4Q,IAA/B,MAAyC,CAAzC,GACf9D,OAAO,CAACmB,QADO,aAEZqE,MAAM,CAACtS,KAAK,CAAC4Q,IAAP,CAFM,cAEU9D,OAAO,CAACmB,QAFlB,CAAnB;AAGD;;AAEDtB,YAAQ,CAAC,4BAAK,mBAAM,EAAN,EAAUiB,QAAV,EAAoBd,OAApB,CAAL,CAAD,CAAR;AACD,GAXD;AAYD;;AAED6F,aAAa,CAAC/kB,IAAd,GAAqBA,IAArB;;AAEA,SAAS0kB,MAAT,CAAgB1B,IAAhB,EAAsB;AACpB,SAAOA,IAAI,CAAC4B,MAAL,CAAY5B,IAAI,CAACnc,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACHmc,IAAI,CAACpC,KAAL,CAAW,CAAX,EAAcoC,IAAI,CAACnc,MAAL,GAAc,CAA5B,CADG,GAEHmc,IAFJ;AAGD,C;;;;;;;;;;;;;;;;;;;;AC5BD;;AACA;;;;;;AAEA,IAAMiC,KAAK,GAAG,SAARA,KAAQ,CAAA9d,CAAC;AAAA,SAAIA,CAAJ;AAAA,CAAf;;AACA,IAAM+d,UAAU,GAAG,eAAbA,UAAa,CAAM/d,CAAN;AAAA,SAAWA,CAAX;AAAA,CAAnB;;AAEO,SAASge,wBAAT,CAAkC1Y,IAAlC,EAAwC2Y,UAAxC,EAAoD;AACzD,MAAMxc,OAAO,GAAGwc,UAAU,IAAIF,UAA9B;;AAEA,MAAMvD,EAAE,GAAG,SAALA,EAAK,CAAAzC,OAAO,EAAI;AACpB,QAAMmG,aAAa,GAAG,0CAAgB5Y,IAAhB,cAAtB;AACA,QAAM6Y,aAAa,GAAG,0CAAgB7Y,IAAhB,cAAtB;AACA,QAAM8Y,WAAW,GAAG,0CAAgB9Y,IAAhB,YAApB;AACA,QAAM+Y,YAAY,GAAG,0CAAgB/Y,IAAhB,aAArB;AAEA,WAAO,gBAAOsS,QAAP,EAAiBQ,QAAjB,EAA8B;AACnCR,cAAQ,CAACwG,WAAW,CAACrG,OAAD,EAAU+F,KAAV,EAAiB1F,QAAjB,CAAZ,CAAR;AACA,UAAMkG,YAAY,GAAGjW,MAAM,CAACmE,UAAP,CAAkB,YAAM;AAC3CoL,gBAAQ,CAACsG,aAAa,CAACnG,OAAD,EAAU+F,KAAV,EAAiB1F,QAAjB,CAAd,CAAR;AACD,OAFoB,EAElB,IAFkB,CAArB;;AAGA,UAAI;AACF,YAAMmG,MAAM,GAAG,MAAMC,OAAO,CAAC9M,OAAR,CACnBjQ,OAAO,CAACsW,OAAD,EAAUH,QAAV,EAAoBQ,QAApB,CADY,CAArB;AAGA/P,cAAM,CAACoW,YAAP,CAAoBH,YAApB;AACA1G,gBAAQ,CAACuG,aAAa,CAACI,MAAD,CAAd,CAAR;AACA,eAAOA,MAAP;AACD,OAPD,CAOE,OAAO/L,KAAP,EAAc;AACdkM,eAAO,CAAClM,KAAR,CAAcA,KAAd;AACAnK,cAAM,CAACoW,YAAP,CAAoBH,YAApB;AACA1G,gBAAQ,CAACyG,YAAY,CAAC7L,KAAD,CAAb,CAAR;AACA,eAAOA,KAAP;AACD;AACF,KAlBD;AAmBD,GAzBD;;AA0BAgI,IAAE,CAACmE,MAAH,GAAYrZ,IAAZ;AACA,SAAOkV,EAAP;AACD;;AAEM,SAASoE,wBAAT,CAAkCC,OAAlC,EAA2ChE,OAA3C,EAAkE;AAAA;;AAAA,MAAdzN,OAAc,uEAAJ,EAAI;AACvE,MAAM9H,IAAI,GAAGuZ,OAAO,CAACF,MAAR,IAAkBE,OAA/B;AACAzR,SAAO,CAAChQ,YAAR,GAAuBgQ,OAAO,CAAChQ,YAAR,IAAwB,EAA/C;AACA,MAAM8d,OAAO,GAAG,mHAER5V,IAFQ,aAEOuV,OAAO,CAACiE,KAAR,IAAiBhB,KAFxB,oDAGRxY,IAHQ,eAGSuV,OAAO,CAACkE,OAAR,IAAmBjB,KAH5B,oDAIRxY,IAJQ,eAISuV,OAAO,CAACnI,OAAR,IAAmBoL,KAJ5B,oDAKRxY,IALQ,cAKQuV,OAAO,CAACmE,MAAR,IAAkBlB,KAL1B,2BAOd1Q,OAPc,CAAhB;AASA,SAAO8N,OAAP;AACD,C;;;;;;;;;;;;;;;;;;;;ACpDD;;eAEe9c,M;;;AAEf,SAASA,MAAT,GAAkB;AAChB,SAAO,gBAAMwZ,QAAN,EAAkB;AACvB,QAAMqH,OAAO,GAAG,CACd;AAAA,aAAYrH,QAAQ,EAAC,MAAM4G,OAAO,CAAC9M,OAAR,CAAgB,mBAAhB,CAAP,EAApB;AAAA,KADc,EAEd,uBAAgB;AAAE8K,WAAK,EAAE;AAAT,KAAhB,CAFc,CAAhB;AAKA,UAAMgC,OAAO,CAACU,GAAR,CAAYD,OAAO,CAACE,GAAR,CAAYvH,QAAZ,CAAZ,CAAN;AACD,GAPD;AAQD;;AAEDxZ,MAAM,CAACvF,IAAP,GAAc,QAAd;AACAuF,MAAM,CAACgS,GAAP,GAAa,EAAb;AACAhS,MAAM,CAACyZ,QAAP,GAAkB,EAAlB,C;;;;;;;;;;;;;;;;;;;ACjBA;;eAEeuH,U;;AACR,IAAMvmB,IAAI,GAAG,aAAb;;;AAEP,SAASumB,UAAT,CAAoBrH,OAApB,EAA6B;AAC3B,SAAO,UAAAH,QAAQ,EAAI;AACjBA,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACLzG,aAAK,EAAE2Y,OAAO,CAAC7Y,CADV;AAELG,cAAM,EAAE0Y,OAAO,CAAC5Y;AAFX;AADK,KAAd,CADM,CAAR;AAQD,GATD;AAUD;;AAEDigB,UAAU,CAACvmB,IAAX,GAAkBA,IAAlB,C;;;;;;;;;;;;;;;;;;eClBewmB,U;;AACR,IAAMxmB,IAAI,GAAG,aAAb;;AAEP,IAAIymB,IAAJ;AACA,IAAIC,KAAJ;;AAEA,SAASF,UAAT,CAAoBtH,OAApB,EAA6B;AAC3B,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,aAASoH,GAAT,GAAe;AACbF,UAAI,GAAGjX,MAAM,CAACoX,qBAAP,CAA6B,YAAM;AACxC,YAAMxU,KAAK,GAAGmN,QAAQ,EAAtB;;AAEA,YAAInN,KAAK,CAACyU,WAAN,CAAkBxgB,CAAlB,KAAwBqgB,KAAK,CAACrgB,CAAlC,EAAqC;AACnC0Y,kBAAQ,CAAC;AACP/e,gBAAI,EAAE,eADC;AAEPkf,mBAAO,EAAEwH,KAAK,CAACrgB;AAFR,WAAD,CAAR;AAID;;AACD,YAAI+L,KAAK,CAAC0U,WAAN,CAAkBxgB,CAAlB,KAAwBogB,KAAK,CAACpgB,CAAlC,EAAqC;AACnCyY,kBAAQ,CAAC;AACP/e,gBAAI,EAAE,eADC;AAEPkf,mBAAO,EAAEwH,KAAK,CAACpgB;AAFR,WAAD,CAAR;AAID;;AACDqgB,WAAG;AACJ,OAhBM,CAAP;AAiBD;;AAED,QAAI,CAACF,IAAL,EAAW;AACTE,SAAG;AACJ;;AAEDD,SAAK,GAAGxH,OAAR;AACD,GA1BD;AA2BD;;AAEDsH,UAAU,CAACxmB,IAAX,GAAkBA,IAAlB,C;;;;;;;;;;;;;;;;;;;;ACpCA;;;;eAEe+mB,Q;;AACR,IAAM/mB,IAAI,GAAG,WAAb;;;AAEP,IAAMuV,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAE,CAArB;;AAEA,SAASwR,QAAT,CAAkBC,EAAlB,EAAsB;AAAA,gBACCxX,MADD;AAAA,MACZrH,QADY,WACZA,QADY;;AAGpB,MAAI,CAACA,QAAL,EAAe;AACb,WAAOoN,IAAP;AACD;;AAED,MAAM7H,MAAM,GAAGuZ,SAAS,CAACD,EAAD,CAAxB;;AAEA,MAAI,CAACtZ,MAAL,EAAa;AACX,WAAO6H,IAAP;AACD;;AAED,MAAM2R,MAAM,GAAG,2BAAaxZ,MAAb,CAAf;;AAEA,MAAI,CAACwZ,MAAL,EAAa;AACX,WAAO3R,IAAP;AACD;;AAED2R,QAAM,CAACC,SAAP,GAAmBzZ,MAAM,CAAC0Z,YAAP,CAAoBC,SAAvC;AAEA,SAAO,UAAAtI,QAAQ,EAAI;AACjBA,YAAQ,CAAC;AACP/e,UAAI,EAAE,aADC;AAEPkf,aAAO,EAAE8H;AAFF,KAAD,CAAR;AAID,GALD;AAMD;;AAED,SAASC,SAAT,CAAmBD,EAAnB,EAAuB;AACrB,MAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;AAC1B,WAAO7e,QAAQ,CAACmf,cAAT,CAAwBN,EAAxB,CAAP;AACD;;AAED,SAAOA,EAAP;AACD;;AAEDD,QAAQ,CAAC/mB,IAAT,GAAgBA,IAAhB,C;;;;;;;;;;;;;;;;;;;;AC5CA;;eAEeunB,a;;AACR,IAAMvnB,IAAI,GAAG,gBAAb;;AAEP,IAAMwnB,SAAS,GAAG;AAChBnI,IAAE,EAAE,CAAC,CADW;AAEhBC,MAAI,EAAE;AAFU,CAAlB;;AAKA,SAASiI,aAAT,CAAuBrI,OAAvB,EAAgC;AAC9B,MAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAO,UAAAH,QAAQ,EAAI;AACjBA,cAAQ,CACN,qBAAc;AACZ/R,aAAK,EAAE;AACL,4BAAkBkS;AADb;AADK,OAAd,CADM,CAAR;AAOD,KARD;AASD;;AAED,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;AACA,QAAMkI,KAAK,GAAGD,SAAS,CAACtI,OAAD,CAAT,IAAsB,CAApC;AAEAH,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACL,0BAAkBoF,KAAK,CAACmV,aAAN,GAAsBE;AADnC;AADK,KAAd,CADM,CAAR;AAOD,GAXD;AAYD;;AAEDF,aAAa,CAACvnB,IAAd,GAAqBA,IAArB,C;;;;;;;;;;;;;;;;;;;ACrCA;;AACA;;;;eAEeyF,M;;AACR,IAAMzF,IAAI,GAAG,QAAb;;;AAEP,SAASyF,MAAT,CAAgByZ,OAAhB,EAAyB;AACvB,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;AAEAR,YAAQ,CAAC;AACP/e,UAAI,EAAE,YADC;AAEPkf,aAAO,EAAEA,OAAO,CAACrS;AAFV,KAAD,CAAR;AAKA,sBAAI,YAAM;AACR,UAAIqS,OAAO,CAACwI,OAAZ,EAAqB;AACnB3I,gBAAQ,CACN,qBAAc;AACZ/R,eAAK,EAAE;AACLvH,kBAAM,EAAEyZ,OAAO,CAACrS,KADX;AAEL,8BACEuF,KAAK,CAAC3M,MAAN,KAAiByZ,OAAO,CAACrS,KAAzB,GAAiCuF,KAAK,CAACmV,aAAvC,GAAuD;AAHpD;AADK,SAAd,CADM,CAAR;AASD,OAVD,MAUO,IAAIrI,OAAO,CAACpD,OAAZ,EAAqB;AAC1BiD,gBAAQ,CAAC;AACP/e,cAAI,EAAE,gBADC;AAEPkf,iBAAO,EAAEA,OAAO,CAACrS;AAFV,SAAD,CAAR;AAID;AACF,KAjBD;AAkBD,GA1BD;AA2BD;;AAEDpH,MAAM,CAACzF,IAAP,GAAcA,IAAd,C;;;;;;;;;;;;;;;;;;;ACpCA;;eAEe,gCAAa,cAAb,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,cAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,oBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,iBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,sBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,oBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,aAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,cAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,cAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,WAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,kBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,oBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,iBAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,SAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe,oBAAO,QAAP,C;;;;;;;;;;;;;;;;;;;;;ACFf;;eAEe2nB,Y;;AAER,IAAM3nB,IAAI,GAAG,uBAAb;;;AAEP,SAAS2nB,YAAT,GAAoC;AAAA,MAAdzI,OAAc,uEAAJ,EAAI;AAClC,SAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMnN,KAAK,GAAGmN,QAAQ,EAAtB;;AAEA,QAAIL,OAAO,CAAC0I,IAAZ,EAAkB;AAChBC,WAAK,CAACzV,KAAK,CAACoN,aAAP,CAAL;AACA;AACD;;AAED,QAAMxO,IAAI,GAAG,WAAWkO,OAAX,GAAqBA,OAAO,CAAC2I,KAA7B,GAAqC,CAACzV,KAAK,CAACoN,aAAzD;;AAEA,QAAI,CAACxO,IAAL,EAAW;AACT+N,cAAQ,CAAC,cAAO;AAAE2I,eAAO,EAAE,IAAX;AAAiB7a,aAAK,EAAEA,KAAK;AAA7B,OAAP,CAAD,CAAR;AACD;;AAEDkS,YAAQ,CACN,qBAAc;AAAE/R,WAAK,EAAE;AAAE,0BAAkBgE,IAApB;AAA0B,0BAAkB;AAA5C;AAAT,KAAd,CADM,CAAR;AAGD,GAjBD;AAkBD;;AAED2W,YAAY,CAAC3nB,IAAb,GAAoBA,IAApB;AACA2nB,YAAY,CAACpQ,GAAb,GAAmB,gBAAnB;AACAoQ,YAAY,CAAC3I,QAAb,GAAwB,eAAxB;;AAEA,SAAS6I,KAAT,CAAe7W,IAAf,EAAqB;AACnB,MAAI,CAACA,IAAL,EAAW;AACT;AACD;;AAED,MAAI,EAAE,cAAcxB,MAAhB,CAAJ,EAA6B;AAC3B;AACD;;AAEDmE,YAAU,CAAC,YAAM;AACf,QAAMmU,EAAE,GAAGtY,MAAM,CAACrH,QAAP,CAAgB4f,aAAhB,CAA8B,oBAA9B,CAAX;;AAEA,QAAI,CAACD,EAAL,EAAS;AACP;AACD;;AAED,QAAItY,MAAM,CAACrH,QAAP,CAAgB6f,aAAhB,KAAkCF,EAAtC,EAA0C;AACxCA,QAAE,CAACD,KAAH;AACD;;AAED,QAAMI,KAAK,GAAGH,EAAE,CAACjb,KAAH,CAAShG,MAAvB;AACAihB,MAAE,CAACI,iBAAH,CAAqBD,KAArB,EAA4BA,KAA5B;AACD,GAbS,EAaP,GAbO,CAAV;AAcD;;AAED,SAASpb,KAAT,GAAiB;AACf,MAAI,EAAE,cAAc2C,MAAhB,CAAJ,EAA6B;AAC3B;AACD;;AAED,MAAMsY,EAAE,GAAGtY,MAAM,CAACrH,QAAP,CAAgB4f,aAAhB,CAA8B,oBAA9B,CAAX;;AAEA,MAAI,CAACD,EAAL,EAAS;AACP;AACD;;AAED,SAAOA,EAAE,CAACjb,KAAV;AACD,C;;;;;;;;;;;;;;;;;;;;ACpED;;eAEesb,W;;AACR,IAAMnoB,IAAI,GAAG,cAAb;;;AAEP,SAASmoB,WAAT,CAAqBC,MAArB,EAA6B;AAC3B,SAAO,UAACrJ,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,QAAMpc,KAAK,GAAGilB,MAAM,GAChBA,MADgB,GAEhB7I,QAAQ,GAAGpc,KAAX,KAAqB,MAArB,GAA8B,OAA9B,GAAwC,MAF5C;AAGA4b,YAAQ,CACN,qBAAc;AACZ/R,WAAK,EAAE;AACL7J,aAAK,EAALA;AADK;AADK,KAAd,CADM,CAAR;AAOD,GAXD;AAYD;;AAEDglB,WAAW,CAACnoB,IAAZ,GAAmBA,IAAnB,C;;;;;;;;;;;;;;;;;;;ACpBA;;AACA;;;;AAEO,SAASqoB,MAAT,CAAgB9Q,GAAhB,EAAqB;AAC1B,MAAMyH,QAAQ,GAAG,uBAAUzH,GAAV,CAAjB;;AAEA,MAAMoK,EAAE,GAAG,SAALA,EAAK,GAAkB;AAAA,QAAjBzC,OAAiB,uEAAP,EAAO;AAC3B,WAAO,UAACH,QAAD,EAAWQ,QAAX,EAAwB;AAC7B,UAAMvO,IAAI,GAAG,YAAYkO,OAAZ,GAAsBA,OAAO,CAACkJ,MAA9B,GAAuC,CAAC7I,QAAQ,GAAGP,QAAH,CAA7D;AACAD,cAAQ,CAAC,qBAAc;AAAE/R,aAAK,sBAAKuK,GAAL,EAAWvG,IAAX;AAAP,OAAd,CAAD,CAAR;AACD,KAHD;AAID,GALD;;AAOA2Q,IAAE,CAAC3hB,IAAH,oBAAoB,uBAAUuX,GAAV,EAAe+Q,WAAf,EAApB;AACA3G,IAAE,CAAC3C,QAAH,GAAcA,QAAd;AACA2C,IAAE,CAACpK,GAAH,GAASA,GAAT;AACA,SAAOoK,EAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACjBD;;eAEe,gCAAa,eAAb,EAA8B;AAAA,MAAGpb,KAAH,QAAGA,KAAH;AAAA,MAAUC,MAAV,QAAUA,MAAV;AAAA,SAAwB;AACnED,SAAK,EAALA,KADmE;AAEnEC,UAAM,EAANA;AAFmE,GAAxB;AAAA,CAA9B,C;;;;;;;;;;;;;;;;;;;;;;ACFf;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,SAAS+hB,SAAT,CAAmBpf,SAAnB,EAA8B;AACnC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,4CACsB;AAClB,cAAI,OAAO,KAAKpJ,KAAL,CAAWyoB,OAAlB,KAA8B,UAAlC,EAA8C;AAC5C,iBAAKzoB,KAAL,CAAWyoB,OAAX;AACD;AACF;AALH;AAAA;AAAA,iCAMW;AAAA,4BACsB,KAAKzoB,KAD3B;AAAA,cACCyoB,OADD,eACCA,OADD;AAAA,cACavP,IADb;;AAEP,iBAAO,6BAAC,SAAD,EAAeA,IAAf,CAAP;AACD;AATH;;AAAA;AAAA,MAAwCzZ,eAAM2J,SAA9C;AAAA;AAWD;;AAEM,SAASsf,SAAT,CAAmBtf,SAAnB,EAA+C;AAAA,MAAjB8H,IAAiB,uEAAV,QAAU;AACpD,SAAO,UAAAlR,KAAK;AAAA,WAAKA,KAAK,CAACkR,IAAD,CAAL,KAAgB,IAAhB,GAAuB,6BAAC,SAAD,EAAelR,KAAf,CAAvB,GAAkD,IAAvD;AAAA,GAAZ;AACD,C;;;;;;;;;;;;;;;;;;;AClBD;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;AAEe,kBAAS4iB,IAAT,EAAemF,EAAf,EAAmB;AAChC,MAAMY,KAAK,GAAG,oBAAeC,2BAAf,EAA+BhG,IAA/B,CAAd;AACA,MAAMiG,OAAO,GAAG,4CAAqBD,2BAArB,EAAqCD,KAArC,CAAhB;;AAEA,MAAMG,MAAM,GACV,6BAAC,oBAAD;AAAU,SAAK,EAAEH;AAAjB,KACE,6BAAC,mBAAD;AAAQ,WAAO,EAAEE;AAAjB,KAA2B,qBAAOF,KAAP,CAA3B,CADF,CADF;;AAMA,SAAO,uBAAQG,MAAR,EAAgBf,EAAhB,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACpBD;;AACA;;;;;;eAEegB,Y;;;AAEf,SAASA,YAAT,CAAsB/oB,KAAtB,EAA6B;AAC3B,MAAM4O,KAAK,GACT5O,KAAK,CAAC4O,KAAN,cACG5O,KAAK,CAACgpB,QAAN,CAAezL,WAAf,CAA2Bvd,KAA3B,CADH,cACwCA,KAAK,CAACgpB,QAAN,CAAeC,QAAf,EADxC,CADF;;AAIA,MAAIjpB,KAAK,CAAC6T,MAAN,KAAiB,KAArB,EAA4B;AAC1B,WACE,6BAAC,OAAD;AAAS,eAAS,EAAE7T,KAAK,CAACoB,SAA1B;AAAqC,WAAK,EAAEwN;AAA5C,OACG5O,KAAK,CAAC+C,QADT,CADF;AAKD;;AAED,SACE,6BAAC,gBAAD;AACE,aAAS,EAAE/C,KAAK,CAACoB,SADnB;AAEE,SAAK,EAAEwN,KAFT;AAGE,SAAK,sBAAK5O,KAAK,CAACgpB,QAAN,CAAexR,GAApB,EAA0B,CAACxX,KAAK,CAACkN,OAAjC;AAHP,KAKGlN,KAAK,CAAC+C,QALT,CADF;AASD;;AAED,IAAMmmB,OAAO,GAAGxpB,mBAAOypB,GAAV;AAAA;AAAA,kCAAb,C;;;;;;;;;;;;;;;;;;;AC7BA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;IAEqBC,a;;;;;;;;;;;;;wCACCC,S,EAAW;AAAA,UACtBrpB,KADsB,GACb,IADa,CACtBA,KADsB;AAE7B,UAAMspB,OAAO,GAAGtpB,KAAK,CAACigB,QAAN,CAAeK,QAAf,KAA4B+I,SAAS,CAACpJ,QAAV,CAAmBK,QAA/D;;AACA,UAAIgJ,OAAO,IAAI,OAAOtpB,KAAK,CAACupB,aAAb,KAA+B,UAA9C,EAA0D;AACxDvpB,aAAK,CAACupB,aAAN,CAAoB,2BAAY,KAAKta,GAAjB,CAApB;AACD;AACF;;;6BAES;AAAA;;AAAA,UACDjP,KADC,GACQ,IADR,CACDA,KADC;AAER,aACE,6BAAC,mBAAD;AAAqB,WAAG,EAAE,aAAAiP,IAAG;AAAA,iBAAI,KAAI,CAACA,GAAL,GAAWA,IAAf;AAAA;AAA7B,SACE;AAAK,UAAE,EAAC;AAAR,QADF,EAEE,6BAAC,oBAAD;AACE,aAAK,EAAEjP,KAAK,CAACwpB;AADf,QAFF,EAKE,6BAAC,iBAAD;AACE,gBAAQ,MADV;AAEE,cAAM,EAAExpB,KAAK,CAAC6G;AAFhB,QALF,CADF;AAYD;;;;EAvBwCpH,eAAM2J,S;;;;AA0BjD,IAAMqgB,mBAAmB,GAAG/pB,mBAAOypB,GAAV;AAAA;AAAA,qJAAzB,C;;;;;;;;;;;;;;;;;;;AChCA;;AACA;;AACA;;AACA;;AAQA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMO,MAAM,GAAG,yBAAf;AAEA,IAAMC,mBAAmB,GAAG,CAAC,SAAD,CAA5B;;IAEMC,O;;;;;AACJ,qBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAANzb,IAAM;AAANA,UAAM;AAAA;;AACnB,sIAASA,IAAT;AACA,UAAKkE,KAAL,GAAa,EAAb;AAFmB;AAGpB;;;;wCAEmB;AAAA;;AAClB,UAAIsX,mBAAmB,CAAC9G,OAApB,CAA4BgH,kBAASnd,IAArC,IAA6C,CAAC,CAAlD,EAAqD;AACnD;AACD;;AAEDtB,sBACG0e,GADH,CACOC,SAAS,CAAC,KAAK/pB,KAAN,CADhB,EAEGgqB,IAFH,CAEQ,UAAAC,OAAO;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AAC7BD,iBAAO,EAAPA;AAD6B,SAAd,CAAJ;AAAA,OAFf,EAKGE,KALH,CAKS,UAAArG,GAAG,EAAI;AACZgC,eAAO,CAAClM,KAAR,CAAckK,GAAd;;AACA,cAAI,CAACoG,QAAL,CAAc;AACZD,iBAAO,EAAE;AADG,SAAd;AAGD,OAVH;AAWD;;;8CAEyBhZ,I,EAAM;AAAA;;AAC9B,UAAI0Y,mBAAmB,CAAC9G,OAApB,CAA4BgH,kBAASnd,IAArC,IAA6C,CAAC,CAAlD,EAAqD;AACnD;AACD;;AAEDtB,sBACG0e,GADH,CACOC,SAAS,CAAC9Y,IAAD,CADhB,EAEG+Y,IAFH,CAEQ,UAAAC,OAAO;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AAC7BD,iBAAO,EAAPA;AAD6B,SAAd,CAAJ;AAAA,OAFf,EAKGE,KALH,CAKS,UAAArG,GAAG,EAAI;AACZgC,eAAO,CAAClM,KAAR,CAAckK,GAAd;;AACA,cAAI,CAACoG,QAAL,CAAc;AACZD,iBAAO,EAAE;AADG,SAAd;AAGD,OAVH;AAWD;;;6BAEQ;AACP,UAAMhpB,MAAM,GAAG8oB,SAAS,CAAC,KAAK/pB,KAAN,CAAxB;;AACA,UAAMoqB,OAAO,GAAGhf,gBAAI2N,IAAJ,CAAS9X,MAAT,CAAhB;;AAEA,aACE,6BAAC,oBAAD;AACE,YAAI,qBACE,KAAKoR,KAAL,CAAW4X,OAAX,GAAqB,CAAC;AAAEI,aAAG,EAAE,MAAP;AAAe3W,cAAI,EAAE,KAAKrB,KAAL,CAAW4X,OAAhC;AAAyChqB,cAAI,EAAE;AAA/C,SAAD,CAArB,GAAsF,EADxF,UAEF;AACEoqB,aAAG,EAAE,MADP;AAEE3W,cAAI,EAAE0W,OAFR;AAGEnqB,cAAI,EAAE;AAHR,SAFE;AADN,QADF;AAYD;;;;EA1DmBR,eAAM2J,S;;eA6Db,wBAAOwgB,OAAP,C;;qEAGH,UAAA5pB,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,C,EAEP,UAAAlD,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,C;;;;AAGf,SAAS6mB,SAAT,CAAmB/pB,KAAnB,EAA0B;AACxB,MAAI,CAACA,KAAK,CAACiB,MAAX,EAAmB;AACjB,WAAO,kCACL;AAAK,WAAK,EAAC,4BAAX;AAAwC,aAAO,EAAC;AAAhD,OACE,6BAAC,kBAAD;AACE,gBAAU,EAAEuI,4BAAgBnE,YAD9B;AAEE,UAAI,MAFN;AAGE,WAAK,EAAE;AAAEilB,YAAI,EAAEC,OAAO,CAACvqB,KAAD;AAAf;AAHT,MADF,CADK,CAAP;AASD;;AAXuB,mBAaPoL,gBAAI4N,KAAJ,CAAU,CAAC5N,gBAAI0Q,KAAJ,CAAU9b,KAAK,CAACiB,MAAhB,CAAD,CAAV,CAbO;AAAA;AAAA,MAajBupB,MAbiB;;AAcxB,SAAOpf,gBAAIqf,SAAJ,CAAcD,MAAd,CAAP;AACD;;AAED,SAASD,OAAT,CAAiBvqB,KAAjB,EAAwB;AACtB,MAAIA,KAAK,CAAC4Z,KAAV,EAAiB;AACf,WAAO8P,MAAM,CAACpoB,IAAP,CAAYsY,KAAnB;AACD;;AACD,SAAO8P,MAAM,CAACpoB,IAAP,CAAYuS,MAAnB;AACD,C;;;;;;;;;;;;;;;;;;;AC5GD;;AACA;;;;eAEe6W,S;;;AAEf,SAASA,SAAT,CAAmB1qB,KAAnB,EAA0B;AACxB,SACE,6BAAC,eAAD;AACE,WAAO,EAAEA,KAAK,CAAC2qB,OADjB;AAEE,SAAK,EACHC,OAAO,CAAC5qB,KAAK,CAACqkB,MAAP,CAAP,wBAAsCrkB,KAAK,CAACgpB,QAAN,CAAeC,QAAf,EAAtC,IAAoE;AAHxE,KAME,6BAAC,WAAD;AAAa,QAAI,EAAC,GAAlB;AAAsB,UAAM,EAAEjpB,KAAK,CAACqkB;AAApC,KACGwG,QAAQ,CAAC7qB,KAAD,CADX,CANF,EASE,6BAAC,SAAD;AAAW,UAAM,EAAEA,KAAK,CAACqkB;AAAzB,IATF,CADF;AAaD;;AAED,IAAMyG,SAAS,GAAGprB,mBAAOypB,GAAV;AAAA;AAAA,2NAQC,UAAAnpB,KAAK;AAAA,SACjBA,KAAK,CAACqkB,MAAN,KAAiB,OAAjB,IAA4BrkB,KAAK,CAACqkB,MAAN,KAAiB,SAA7C,GACI,kBADJ,GAEIrkB,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBlH,MAHN;AAAA,CARN,EAaF,UAAA7T,KAAK;AAAA,SAAKA,KAAK,CAACqkB,MAAN,GAAe,CAAf,GAAmB,CAAxB;AAAA,CAbH,EAcH,UAAArkB,KAAK;AAAA,SAAKA,KAAK,CAACqkB,MAAN,GAAe,SAAf,GAA2B,EAAhC;AAAA,CAdF,EAeX,UAAArkB,KAAK;AAAA,SAAI+qB,OAAO,CAAC/qB,KAAD,CAAX;AAAA,CAfM,CAAf;;AAkBA,IAAMgrB,eAAe,GAAGtrB,mBAAOypB,GAAV;AAAA;AAAA,yEAArB;;AAOA,IAAM/oB,WAAW,GAAG,wBAAOqD,gBAAP,CAAH;AAAA;AAAA,sDAGN,UAAAzD,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,CAHC,EAIb,UAAAlD,KAAK;AAAA,SAAIirB,MAAM,CAACjrB,KAAD,CAAV;AAAA,CAJQ,CAAjB;;AAOA,SAAS+qB,OAAT,CAAiB/qB,KAAjB,EAAwB;AACtB,0RAYGkrB,QAAQ,CAAClrB,KAAD,CAZX;AAeD;;AAED,IAAMmrB,GAAG,OAAGthB,qBAAH,qBAAT;;AAMA,SAASohB,MAAT,CAAgBjrB,KAAhB,EAAuB;AACrB,MAAIA,KAAK,CAACqkB,MAAN,KAAiB,QAArB,EAA+B;AAC7B;AACD;;AAED,aAAO/a,eAAP,6DACe6hB,GADf;AAID;;AAED,SAASN,QAAT,CAAkB7qB,KAAlB,EAAyB;AACvB,UAAQA,KAAK,CAACqkB,MAAd;AACE,SAAK,OAAL;AACE,aAAO,OAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF;AACE,aAAO,EAAP;AAVJ;AAYD;;AAED,IAAM+G,KAAK,OAAGvhB,qBAAH,gLAAX;;AAeA,SAASqhB,QAAT,CAAkBlrB,KAAlB,EAAyB;AACvB,MAAIA,KAAK,CAACqkB,MAAN,KAAiB,SAArB,EAAgC;AAC9B;AACD;;AAED,aAAO/a,eAAP,mCACe8hB,KADf;AAGD;;AAED,SAASR,OAAT,CAAiBvG,MAAjB,EAAyB;AACvB,SAAO,CAAC,SAAD,EAAY,QAAZ,EAAsBvjB,QAAtB,CAA+BujB,MAA/B,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;AClID;;AACA;;;;eAEegH,O;;;AAEf,SAASA,OAAT,CAAiBrrB,KAAjB,EAAwB;AACtB,SACE,6BAAC,aAAD,QACE,6BAAC,oBAAD,QACGA,KAAK,CAACkV,OADT,EAEGlV,KAAK,CAACsrB,OAAN,IACC,6BAAC,aAAD,QACGtrB,KAAK,CAACurB,OAAN,IAAiB,6BAAC,aAAD,QAAgBvrB,KAAK,CAACurB,OAAtB,CADpB,EAEGvrB,KAAK,CAACsrB,OAFT,CAHJ,CADF,CADF;AAaD;;AAED,IAAME,aAAa,GAAG9rB,mBAAOypB,GAAV;AAAA;AAAA,4EACH,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBnB,KAAvB;AAAA,CADF,CAAnB;;AAOA,IAAM6R,oBAAoB,GAAG/rB,mBAAOsS,GAAV;AAAA;AAAA,kEAA1B;;AAMA,IAAM0Z,aAAa,GAAGhsB,mBAAO4rB,OAAV;AAAA;AAAA,sBAAnB;;AAIA,IAAMK,aAAa,GAAGjsB,mBAAO6rB,OAAV;AAAA;AAAA,qDAAnB,C;;;;;;;;;;;;;;;;;;;ACtCA;;;;;;;;;;;;;;;;;;;;;;IAEqBK,Y;;;;;AACnB,wBAAY5rB,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;AACA,UAAK6rB,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,uDAAd;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AAHiB;AAIlB;;;;iCAEY7c,G,EAAK;AAChB,WAAK+c,SAAL,GAAiB/c,GAAjB;AACD;;;6BAEQ;AACP,aACE;AAAK,iBAAS,EAAE,KAAKjP,KAAL,CAAWoB,SAA3B;AAAsC,WAAG,EAAE,KAAK2qB;AAAhD,SACG,KAAK/rB,KAAL,CAAW+C,QADd,CADF;AAKD;;;wCAEmB;AAClB0M,YAAM,CAACrH,QAAP,CAAgBsa,gBAAhB,CAAiC,OAAjC,EAA0C,KAAKmJ,MAA/C,EAAuD,IAAvD;AACD;;;2CAEsB;AACrBpc,YAAM,CAACrH,QAAP,CAAgB6jB,mBAAhB,CAAoC,OAApC,EAA6C,KAAKJ,MAAlD,EAA0D,IAA1D;AACD;;;2BAEMlf,C,EAAG;AAAA,UACA3M,KADA,GACU,IADV,CACAA,KADA;AAER,UAAM+nB,EAAE,GAAG,KAAKiE,SAAhB;;AACA,UAAI,CAACjE,EAAE,CAACmE,QAAH,CAAYvf,CAAC,CAACgB,MAAd,CAAL,EAA4B;AAC1B3N,aAAK,CAACmsB,cAAN,CAAqBxf,CAArB;AACD;AACF;;;;EAjCuCvD,gB;;;;;;;;;;;;;;;;;;;;;;ACF1C;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAM2P,IAAI,GAAGtJ,MAAM,CAACsJ,IAAP,GAActJ,MAAM,CAACsJ,IAArB,GAA4B,UAAAkI,KAAK;AAAA,SAAImL,MAAM,CAACC,IAAP,CAAYpL,KAAZ,EAAmBgI,QAAnB,CAA4B,QAA5B,CAAJ;AAAA,CAA9C;;AAEA,IAAMqD,UAAU,GAAG,SAAbA,UAAa,CAAAtsB,KAAK;AAAA,SAAKA,KAAK,CAAC4G,QAAN,GAAiB,OAAjB,GAA2B,MAAhC;AAAA,CAAxB;;AACA,IAAM2lB,OAAO,GAAG,SAAVA,OAAU,CAAAvsB,KAAK;AAAA,SAAI+Y,IAAI,yKAAR;AAAA,CAArB;;AAMA,IAAMyT,GAAG,GAAG,SAANA,GAAM,CAAAxsB,KAAK;AAAA,SAAIA,KAAK,CAACysB,MAAN,GAAe,EAAf,GAAoB,CAAxB;AAAA,CAAjB;;AACA,IAAMC,GAAG,GAAG,SAANA,GAAM,CAAA1sB,KAAK;AAAA,SAAIA,KAAK,CAAC0f,iBAAN,GAA0B,GAA1B,GAAgC,CAApC;AAAA,CAAjB;;AACA,IAAMiN,MAAM,GAAG,SAATA,MAAS,CAAA3sB,KAAK;AAAA,SAAIwsB,GAAG,CAACxsB,KAAD,CAAH,GAAa0sB,GAAG,CAAC1sB,KAAD,CAApB;AAAA,CAApB;;AAEA,IAAM4sB,aAAa,GAAG,wBAAO,qBAAI,CAAC,UAAD,EAAa,mBAAb,EAAkC,QAAlC,CAAJ,EAAiD,KAAjD,CAAP,CAAH;AAAA;AAAA,oYAEI,UAAA5sB,KAAK;AAAA,SAAI2sB,MAAM,CAAC3sB,KAAD,CAAN,GAAgBwsB,GAAG,CAACxsB,KAAD,CAAvB;AAAA,CAFT,EAGVwsB,GAHU,EAIT,UAAAxsB,KAAK;AAAA,SAAI2sB,MAAM,CAAC3sB,KAAD,CAAV;AAAA,CAJI,EAKRwsB,GALQ,EAMPA,GANO,EAWJF,UAXI,EAoBoCC,OApBpC,CAAnB;;AA2BA,IAAMM,mBAAmB,GAAGntB,mBAAOypB,GAAV;AAAA;AAAA,+BAAzB;;AAKA,IAAM2D,gBAAgB,GAAGptB,mBAAOypB,GAAV;AAAA;AAAA,oFAAtB;;AAQA,IAAM4D,iBAAiB,GAAGrtB,mBAAOypB,GAAV;AAAA;AAAA,0FAAvB;;AASA,IAAM6D,mBAAmB,GAAGttB,mBAAOypB,GAAV;AAAA;AAAA,uNAOrB,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAACyU,MAAN,GAAe,gBAAf,GAAkC,EAAtC;AAAA,CAPgB,EAgBP,UAAAzU,KAAK;AAAA,SACjBA,KAAK,CAAC4Z,KAAN,GAAc5Z,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBnB,KAAjC,GAAyC5Z,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBlH,MAD3C;AAAA,CAhBE,EAmBP,UAAA7T,KAAK;AAAA,SAAKA,KAAK,CAAC4Z,KAAN,GAAc,MAAd,GAAuB,0BAA5B;AAAA,CAnBE,EAoBnB,UAAA5Z,KAAK,EAAI;AACT,UAAQA,KAAK,CAACqkB,MAAd;AACE,SAAK,UAAL;AACE;;AAGF,SAAK,SAAL;AACE,uBAAU,UAAArkB,KAAK;AAAA,eACbA,KAAK,CAAC4Z,KAAN,GAAc,EAAd,GAAmB,8BADN;AAAA,OAAf;;AAEF,SAAK,SAAL;AACE;;AAIF,SAAK,QAAL;AACA;AACE;AAfJ;AAoBD,CAzCoB,CAAzB;;AA6CA,IAAMqT,gBAAgB,GAAGvtB,mBAAOypB,GAAV;AAAA;AAAA,yCAEJ,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAAC0f,iBAAN,GAA0B,CAA1B,GAA8B,EAAlC;AAAA,CAFD,CAAtB;;IAKqBwN,O;;;;;AACnB,qBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAAN/e,IAAM;AAANA,UAAM;AAAA;;AACnB,sIAASA,IAAT;AACA,UAAKkE,KAAL,GAAa;AAAEF,YAAM,EAAE;AAAV,KAAb;AAFmB;AAGpB;;;;6BAEQ;AAAA,UACCnS,KADD,GACW,IADX,CACCA,KADD;;AAGP,UAAIA,KAAK,CAAC6f,WAAN,KAAsB,SAA1B,EAAqC;AACnC,eAAO,IAAP;AACD;;AAED,UAAI7f,KAAK,CAACC,IAAN,KAAe,QAAnB,EAA6B;AAC3B,eACE,6BAAC,mBAAD,QACE,6BAAC,gBAAD,QACE,6BAAC,oBAAD;AAAU,gBAAM,EAAED,KAAK,CAACmtB;AAAxB,UADF,CADF,CADF;AAOD;;AAED,aACE,6BAAC,cAAD,CAAO,QAAP,QACE,6BAAC,aAAD;AACE,cAAM,EAAEntB,KAAK,CAACotB,UADhB;AAEE,gBAAQ,EAAEptB,KAAK,CAACqtB,OAFlB;AAGE,yBAAiB,EAAErtB,KAAK,CAAC0f;AAH3B,SAKE,6BAAC,oBAAD;AACE,aAAK,EAAE,CAAC4N,SAAS,CAACttB,KAAD,CAAV,EAAmBA,KAAK,CAACwpB,WAAzB,EACJrH,MADI,CACGnN,OADH,EAEJqN,IAFI,CAEC,IAFD;AADT,QALF,EAUE,6BAAC,mBAAD;AACE,UAAE,EAAEriB,KAAK,CAACutB,OAAN,IAAiBvtB,KAAK,CAAC4Z,KAD7B;AAEE,eAAO,EAAE;AAAE4T,eAAK,EAAE,IAAT;AAAeC,cAAI,EAAE;AAArB;AAFX,SAIG,UAAApJ,MAAM;AAAA,eACL,6BAAC,mBAAD;AACE,gBAAM,EAAErkB,KAAK,CAACotB,UADhB;AAEE,gBAAM,EAAE/I,MAFV;AAGE,eAAK,EAAErkB,KAAK,CAAC4Z;AAHf,UADK;AAAA,OAJT,CAVF,EAsBE,6BAAC,iBAAD,QACE,6BAAC,gBAAD;AAAkB,yBAAiB,EAAE5Z,KAAK,CAAC0f;AAA3C,SACE,6BAAC,oBAAD;AACE,WAAG,EAAE1f,KAAK,CAACojB,GADb;AAEE,gBAAQ,EAAEpjB,KAAK,CAACskB,QAFlB;AAGE,eAAO,EAAEtkB,KAAK,CAACutB,OAHjB;AAIE,eAAO,EAAEvtB,KAAK,CAAC0tB;AAJjB,QADF,CADF,CAtBF,CADF,EAkCE,6BAAC,qBAAD,OAlCF,CADF;AAsCD;;;;EA7DkCjuB,eAAM2J,S;;;;AAgE3C,SAASkkB,SAAT,CAAmBttB,KAAnB,EAA0B;AACxB,MAAIA,KAAK,CAACutB,OAAV,EAAmB;AACjB,WAAO,MAAP;AACD;;AACD,MAAIvtB,KAAK,CAAC4Z,KAAV,EAAiB;AACf,WAAO,OAAP;AACD;;AACD,SAAO,EAAP;AACD,C;;;;;;;;;;;;;;;;;;;;ACjMD;;AACA;;;;AAEA,IAAM+T,UAAU,GAAGjuB,mBAAOkuB,MAAV;AAAA;AAAA,qDAAhB;;AAMA,SAASC,WAAT,CAAqB7tB,KAArB,EAA4B;AAC1B,MAAMojB,GAAG,GAAG,OAAOpjB,KAAK,CAAC0tB,OAAb,KAAyB,QAAzB,aACL1tB,KAAK,CAACojB,GADD,qBACepjB,KAAK,CAAC0tB,OADrB,IAER1tB,KAAK,CAACojB,GAFV;AAIA,SAAO,6BAAC,UAAD;AACL,OAAG,EAAEA,GADA;AAEL,kBAAc,EAAC;AAFV,IAAP;AAID;;eAEcyK,W;;;;;;;;;;;;;;;;;;;;ACpBf;;AACA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;;;;;;;AAEA,IAAMla,SAAS,GAAG,uBAASma,GAAT,CAAa3d,4BAAb,CAAlB;;eAEe,yBAAQ4d,QAAR,EAAkBC,YAAlB,C;;;;AAEf,SAASA,YAAT,CAAsBhuB,KAAtB,EAA6B;AAC3B,SACE,6BAAC,kBAAD;AAAoB,cAAU,EAAEA,KAAK,CAACotB;AAAtC,KACE,6BAAC,2BAAD,QACI,6BAAC,iBAAD,QACE,6BAAC,UAAD,QACGptB,KAAK,CAAC0M,IADT,EAEE,6BAAC,aAAD,aAAiB1M,KAAK,CAACsM,OAAvB,CAFF,CADF,EAKE,6BAAC,yBAAD;AAAe,SAAK,EAAE,0BAAShL;AAA/B,KACE,6BAAC,kBAAD;AAAoB,UAAM,EAAC;AAA3B,KACE,6BAAC,kBAAD,QACE,6BAAC,sBAAD,OADF,CADF,EAIE,6BAAC,kBAAD,QACE,6BAAC,0BAAD,OADF,CAJF,CADF,CALF,CADJ,EAiBKtB,KAAK,CAACud,WAAN,IACC,6BAAC,iBAAD,QACG5J,SAAS,CAACsa,WAAV,CAAsBjuB,KAAK,CAACud,WAA5B,EAAyC+G,QAD5C,CAlBN,EAsBI,6BAAC,aAAD,QACE,6BAAC,aAAD;AAAe,SAAK,EAAC,MAArB;AAA4B,UAAM,EAAEtkB,KAAK,CAACuM;AAA1C,KACE,6BAAC,gBAAD,QAAOvM,KAAK,CAACuM,IAAb,CADF,CADF,EAIE,6BAAC,aAAD,QAEIvM,KAAK,CAACmd,IAAN,CAAWoJ,GAAX,CAAe,UAAC3mB,GAAD,EAAMiX,KAAN;AAAA,WACb,6BAAC,aAAD;AAAe,SAAG,YAAKjX,GAAL,cAAYiX,KAAZ,CAAlB;AAAuC,WAAK,EAAC,MAA7C;AAAoD,YAAM,EAAEjX;AAA5D,OACE,6BAAC,eAAD,QAAMA,GAAN,CADF,CADa;AAAA,GAAf,CAFJ,CAJF,CAtBJ,EAoCK,OAAOI,KAAK,CAAC6G,GAAb,KAAqB,QAArB,IACC,6BAAC,iBAAD,QACE,6BAAC,oBAAD;AACE,YAAQ,EAAE,IADZ;AAEE,UAAM,EAAE7G,KAAK,CAAC6G;AAFhB,IADF,CArCN,CADF,CADF;AAiDD;;AAGD,IAAMqnB,mBAAmB,GAAGxuB,mBAAOyuB,IAAV;AAAA;AAAA,8CAAzB;;AAMA,IAAMzf,UAAU,GAAG,wBAAO5O,gBAAP,CAAH;AAAA;AAAA,6BAAhB;;AAIA,SAASsuB,aAAT,CAAuBpuB,KAAvB,EAA8B;AAC5B,SACE,6BAAC,mBAAD,QACE,6BAAC,UAAD;AACE,aAAS,EAAEA,KAAK,CAACoB,SADnB;AAEE,SAAK,EAAE;AACL,wBAAkB,IADb;AAELsE,YAAM,YAAK1F,KAAK,CAACkH,KAAX,cAAoBlH,KAAK,CAAC0F,MAA1B;AAFD,KAFT;AAME,SAAK,uCAAgC1F,KAAK,CAACkH,KAAtC,gBAAgDlH,KAAK,CAAC0F,MAAtD;AANP,KAQG1F,KAAK,CAAC+C,QART,CADF,CADF;AAcD;;AAED,SAASgrB,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,SAAO;AACLxL,OAAG,EAAEmB,IAAI,CAACqmB,cAAL,CAAoBhc,KAApB,CADA;AAELkL,eAAW,EAAEvV,IAAI,CAACsmB,iBAAL,CAAuBjc,KAAvB,CAFR;AAGLhF,MAAE,EAAEgF,KAAK,CAAChF,EAHL;AAILqH,QAAI,EAAE1M,IAAI,CAACumB,UAAL,CAAgBlc,KAAhB,CAJD;AAKLpS,QAAI,EAAE+H,IAAI,CAACwmB,UAAL,CAAgBnc,KAAhB,CALD;AAML3F,QAAI,EAAE1E,IAAI,CAAC8M,UAAL,CAAgBzC,KAAhB,CAND;AAOL9F,QAAI,EAAEvE,IAAI,CAACymB,UAAL,CAAgBpc,KAAhB,CAPD;AAQL8K,QAAI,EAAEnV,IAAI,CAAC0mB,UAAL,CAAgBrc,KAAhB,CARD;AASL/F,WAAO,EAAEtE,IAAI,CAAC2mB,aAAL,CAAmBtc,KAAnB,CATJ;AAUL+a,cAAU,EAAE/a,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwClT,KAAxC,CAA8CmgB,UAA9C,KAA6D;AAVpE,GAAP;AAYD;;AAED,IAAMwB,cAAc,GAAG,EAAvB;AAEA,IAAMpjB,UAAU,GAAG,wBAAO,UAAAxL,KAAK;AAAA,SAAI,6BAAC,oBAAD,eAAcA,KAAd;AAAqB,MAAE,EAAC,IAAxB;AAA6B,SAAK,EAAE;AAApC,KAAJ;AAAA,CAAZ,CAAH;AAAA;AAAA,0BAAhB;AAIA,IAAMiM,aAAa,GAAG,wBAAO,UAAAjM,KAAK;AAAA,SAAI,6BAAC,oBAAD,eAAcA,KAAd;AAAqB,MAAE,EAAC,OAAxB;AAAgC,SAAK,EAAE;AAAvC,KAAJ;AAAA,CAAZ,CAAH;AAAA;AAAA,kDAER,UAAAA,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,CAFG,CAAnB;AAMA,IAAM2rB,iBAAiB,GAAG,wBAAOprB,gBAAP,CAAH;AAAA;AAAA,uCACZ,UAAAzD,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBV,MAAvB;AAAA,CADO,CAAvB;;AAKA,IAAMyU,kBAAkB,GAAGpvB,mBAAOypB,GAAV;AAAA;AAAA,kKAQE,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBb,MAAvB;AAAA,CARP,EASR,UAAAla,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UAAvB;AAAA,CATG,CAAxB;;AAYA,IAAMgV,WAAW,GAAG,SAAdA,WAAc,CAAA/uB,KAAK,EAAI;AAC3B,MAAMgvB,SAAS,GAAGhvB,KAAK,CAACivB,MAAN,KAAiB,OAAjB,GAA2B,MAA3B,GAAoC,OAAtD;AACA,0BAAiBD,SAAjB;AACD,CAHD;;AAKA,IAAME,2BAA2B,GAAGxvB,mBAAOypB,GAAV;AAAA;AAAA,uCAAjC;;AAKA,IAAMgG,kBAAkB,GAAGzvB,mBAAOypB,GAAV;AAAA;AAAA,2BAEpB4F,WAFoB,CAAxB;;AAKA,IAAMK,iBAAiB,GAAG1vB,mBAAOypB,GAAV;AAAA;AAAA,yHAAvB;;AAUA,IAAMkG,kBAAkB,GAAG3vB,mBAAOypB,GAAV;AAAA;AAAA,iCAAxB;;AAMA,IAAMmG,aAAa,GAAG5vB,mBAAOypB,GAAV;AAAA;AAAA,2FAIQ,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBb,MAAvB;AAAA,CAJb,CAAnB;;AAOA,IAAMqV,aAAa,GAAG7vB,mBAAOypB,GAAV;AAAA;AAAA,wDAAnB;;AAMA,IAAMqG,iBAAiB,GAAG9vB,mBAAOypB,GAAV;AAAA;AAAA,wBAAvB,C;;;;;;;;;;;;;;;;;;;ACvLA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;IAEMre,W;;;;;AACJ,yBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAANqD,IAAM;AAANA,UAAM;AAAA;;AACnB,0IAASA,IAAT;AACA,UAAKshB,YAAL,GAAoB,MAAKA,YAAL,CAAkB3D,IAAlB,uDAApB;AACA,UAAKzc,aAAL,GAAqB,MAAKA,aAAL,CAAmByc,IAAnB,uDAArB;AACA,UAAK4D,UAAL,GAAkB,sBAAS,MAAK1vB,KAAL,CAAW2vB,MAApB,EAA4B,GAA5B,EAAiC;AAAEC,cAAQ,EAAE;AAAZ,KAAjC,CAAlB;AACA,UAAKC,KAAL,GAAa,IAAb;AALmB;AAMpB;;;;iCAEYljB,C,EAAG;AACdA,OAAC,CAACgb,OAAF;AACA,WAAK3nB,KAAL,CAAW8vB,QAAX,CAAoBnjB,CAApB;AACA,WAAK+iB,UAAL,CAAgB/iB,CAAhB;AACD;;;kCAEaA,C,EAAG;AAAA,UACPgB,MADO,GACIhB,CADJ,CACPgB,MADO;AAEf,UAAMoiB,QAAQ,GAAGpiB,MAAM,CAACb,KAAP,CAAahG,MAAb,GAAsB,CAAvC;AACA,UAAMkpB,KAAK,GAAGD,QAAQ,IAAIpiB,MAAM,CAACsiB,cAAP,KAA0BtiB,MAAM,CAACb,KAAP,CAAahG,MAAjE;;AAEA,UAAI6F,CAAC,CAACujB,KAAF,KAAY,EAAZ,IAAkBvjB,CAAC,CAACwjB,MAApB,IAA8BxjB,CAAC,CAACyjB,OAApC,EAA6C;AAC3CzjB,SAAC,CAAC0jB,cAAF;AACA,aAAKrwB,KAAL,CAAWwjB,OAAX;AACD;;AACD,UAAI7W,CAAC,CAACujB,KAAF,KAAY,EAAhB,EAAoB;AAClBvjB,SAAC,CAAC2jB,eAAF;AACD;;AACD,UAAI3jB,CAAC,CAACujB,KAAF,KAAY,EAAZ,IAAkBH,QAAtB,EAAgC;AAC9BpjB,SAAC,CAAC0jB,cAAF;AACA,aAAKrwB,KAAL,CAAWuwB,OAAX;AACD;;AACD,UAAI5jB,CAAC,CAACujB,KAAF,KAAY,EAAhB,EAAoB;AAClB,aAAKlwB,KAAL,CAAWwwB,IAAX,CAAgB7jB,CAAhB;AACD;;AACD,UAAIA,CAAC,CAACujB,KAAF,KAAY,EAAZ,IAAkBF,KAAlB,IAA2B,KAAKhwB,KAAL,CAAWywB,UAA1C,EAAsD;AACpD9jB,SAAC,CAAC0jB,cAAF;AACA,aAAKrwB,KAAL,CAAW0wB,UAAX,CAAsB,KAAK1wB,KAAL,CAAWywB,UAAjC;AACD;;AACD,UAAI9jB,CAAC,CAACujB,KAAF,KAAY,EAAZ,IAAkBF,KAAtB,EAA6B;AAC3BrjB,SAAC,CAAC0jB,cAAF;AACA,aAAKrwB,KAAL,CAAW2wB,MAAX,CAAkBhkB,CAAlB;AACD;AACF;;;6BAEQ;AACP,UAAM3M,KAAK,GAAG,KAAKA,KAAnB;AAEA,aACE,6BAAC,uBAAD;AACE,iBAAS,EAAEA,KAAK,CAAC4wB,SADnB;AAEE,YAAI,EAAE5wB,KAAK,CAAC0M,IAFd;AAGE,cAAM,EAAE1M,KAAK,CAAC6wB,MAHhB;AAIE,gBAAQ,EAAE,KAAKpB,YAJjB;AAKE,eAAO,EAAEzvB,KAAK,CAAC8wB,OALjB;AAME,iBAAS,EAAE,KAAKzhB,aANlB;AAOE,mBAAW,EAAErP,KAAK,CAACqG,WAPrB;AAQE,kBAAU,EAAErG,KAAK,CAACywB,UARpB;AASE,aAAK,EAAEzwB,KAAK,CAAC4O,KATf;AAUE,aAAK,EAAE5O,KAAK,CAAC8M,KAVf;AAWE,uBAAa9M,KAAK,CAAC+wB;AAXrB,SAaG/wB,KAAK,CAAC+C,QAbT,CADF;AAiBD;;;;EAhEuBtD,eAAM2J,S;;AAmEhC0B,WAAW,CAACkmB,YAAZ,GAA2B;AACzBC,MAAI,EAAE,gBAAM,CAAE,CADW;AAEzBnB,UAAQ,EAAE,oBAAM,CAAE,CAFO;AAGzBgB,SAAO,EAAE,mBAAM,CAAE,CAHQ;AAIzBN,MAAI,EAAE,gBAAM,CAAE,CAJW;AAKzBG,QAAM,EAAE,kBAAM,CAAE,CALS;AAMzBE,QAAM,EAAE,kBAAM,CAAE,CANS;AAOzBlB,QAAM,EAAE,kBAAM,CAAE,CAPS;AAQzB7iB,OAAK,EAAE;AARkB,CAA3B;eAWehC,W;;;;;;;;;;;;;;;;;;;;ACnFf;;AACA;;AACA;;AACA;;AASA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMpB,QAAQ,GAAG,+BAAiBD,yBAAjB,CAAjB;IAEUynB,e,GAQNC,kB,CARF7mB,M;IACAC,Y,GAOE4mB,kB,CAPF5mB,Y;IACAC,gB,GAME2mB,kB,CANF3mB,gB;IACAC,mB,GAKE0mB,kB,CALF1mB,mB;IACAC,mB,GAIEymB,kB,CAJFzmB,mB;IACAC,e,GAGEwmB,kB,CAHFxmB,e;IACOymB,W,GAELD,kB,CAFFtmB,K;IACiBwmB,qB,GACfF,kB,CADFvmB,e;;AAGF,IAAM4K,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAG,CAAtB;;IAEqBlL,M;;;;;AACnB,oBAAqB;AAAA;;AAAA;;AAAA;;AAAA,sCAAN6D,IAAM;AAANA,UAAM;AAAA;;AACnB,qIAASA,IAAT;;AADmB,8FAgCH,UAACnG,IAAD,EAAO/H,IAAP;AAAA,aAChB,6BAAC,YAAD;AACE,cAAM,EAAE,CAAC,MAAKD,KAAL,CAAWsxB,UAAX,IAAyB,EAA1B,EAA8BjkB,EAA9B,KAAqCrF,IAAI,CAACqF,EADpD;AAEE,YAAI,EAAE,CAACrF,IAAI,CAAC6X,WAAN,EAAmB7X,IAAI,CAACqF,EAAxB,EAA4BgV,IAA5B,CAAiC,GAAjC,CAFR;AAGE,UAAE,EAAEra,IAAI,CAACqF,EAHX;AAIE,aAAK,EAAErF,IAAI,CAAC6O,KAJd;AAKE,YAAI,EAAE7O,IAAI,CAACwV,QAAL,CAAc9I,IAAd,IAAsB1M,IAAI,CAAC/H,IALnC;AAME,YAAI,EAAE+H,IAAI,CAACwV,QAAL,CAAcgM,WANtB;AAOE,WAAG,EAAExhB,IAAI,CAACqF,EAPZ;AAQE,kBAAU,EAAE,MAAKrN,KAAL,CAAWuxB,UARzB;AASE,uBAAe,EAAE,MAAKC,mBATxB;AAUE,YAAI,EAAEvxB;AAVR,QADgB;AAAA,KAhCG;;AAAA,qGA+CI,YAAM;AAC7B,UAAM+H,IAAI,GAAG,MAAKhI,KAAL,CAAWsxB,UAAxB;;AAEA,cAAQtpB,IAAI,CAAC6X,WAAb;AACE,aAAK,KAAL;AACE,iBACE,6BAAC,mBAAD,EAAyB,MAAK7f,KAA9B,EACE,6BAAC,oBAAD;AACE,kBAAM,EAAEgI,IAAI,CAACsc;AADf,YADF,CADF;;AAOF;AACE,iBACE,6BAAC,mBAAD,EAAyB,MAAKtkB,KAA9B,EACE,6BAAC,QAAD;AACE,kBAAM,MADR;AAEE,4BAAgB,EAAE,oBAAOgI,IAAI,CAACypB,gBAAZ,CAFpB;AAGE,0BAAc,EAAE,oBAAOzpB,IAAI,CAAC0pB,cAAZ,CAHlB;AAIE,wBAAY,EAAE,oBAAO1pB,IAAI,CAACxD,YAAZ,CAJhB;AAKE,sBAAU,EAAE,oBAAOwD,IAAI,CAACyV,UAAZ,CALd;AAME,gBAAI,EAAEzV,IAAI,CAACwV,QAAL,CAAcjR,IANtB;AAOE,cAAE,EAAEvE,IAAI,CAACqF,EAPX;AAQE,oBAAQ,EAAE8O,IAAI,CAACsO,SAAL,CAAeziB,IAAI,CAACwV,QAApB,EAA8B,IAA9B,EAAoC,IAApC,CARZ;AASE,gBAAI,EAAExV,IAAI,CAACwV,QAAL,CAAcgM,WATtB;AAUE,gBAAI,EAAExhB,IAAI,CAACwV,QAAL,CAAcL,IAVtB;AAWE,mBAAO,EAAEnV,IAAI,CAACwV,QAAL,CAAclR;AAXzB,YADF,CADF;AAVJ;AA4BD,KA9EoB;;AAGnB,UAAKqlB,YAAL,GAAoB,MAAKA,YAAL,CAAkB7F,IAAlB,uDAApB;AACA,UAAK8F,QAAL,GAAgB,MAAKA,QAAL,CAAc9F,IAAd,uDAAhB;AACA,UAAK+F,UAAL,GAAkB,MAAKA,UAAL,CAAgB/F,IAAhB,uDAAlB;AACA,UAAKgG,cAAL,GAAsB,MAAKA,cAAL,CAAoBhG,IAApB,uDAAtB;AACA,UAAK0F,mBAAL,GAA2B,MAAKA,mBAAL,CAAyB1F,IAAzB,uDAA3B;AACA,UAAKiG,UAAL,GAAkB,MAAKA,UAAL,CAAgBjG,IAAhB,uDAAlB;AACA,UAAKkG,eAAL,GAAuB,MAAKA,eAAL,CAAqBlG,IAArB,uDAAvB;AATmB;AAUpB;;;;wCAEmBnf,C,EAAG;AACrB,UAAI,CAAC,KAAK5E,IAAV,EAAgB;AACd;AACD;;AACD,UAAMW,CAAC,GAAG,KAAKX,IAAL,CAAUkqB,qBAAV,EAAV;AACA,UAAM7qB,CAAC,GAAGuF,CAAC,CAACgB,MAAF,CAASskB,qBAAT,EAAV;;AAEA,UAAI7qB,CAAC,CAAC8qB,MAAF,GAAWxpB,CAAC,CAACwpB,MAAjB,EAAyB;AACvB,aAAKnqB,IAAL,CAAUqf,SAAV,GAAsBza,CAAC,CAACgB,MAAF,CAAS2Z,SAAT,GAAqB5e,CAAC,CAACjC,MAAvB,GAAgCW,CAAC,CAACX,MAAxD;AACD;;AAED,UAAIW,CAAC,CAAC+qB,GAAF,GAAQzpB,CAAC,CAACypB,GAAd,EAAmB;AACjB,aAAKpqB,IAAL,CAAUqf,SAAV,GAAsBza,CAAC,CAACgB,MAAF,CAAS2Z,SAAT,GAAqB,EAA3C;AACD;AACF;;;+BAEUrY,G,EAAK;AACd,WAAKlH,IAAL,GAAYkH,GAAZ;AACD;;;wCAkDmB;AAClB,UAAI,OAAO,KAAKjP,KAAL,CAAWyoB,OAAlB,KAA8B,UAAlC,EAA8C;AAC5C,aAAKzoB,KAAL,CAAWyoB,OAAX;AACD;AACF;;;mCAEc9b,C,EAAG;AAChB,UAAMU,EAAE,GAAGV,CAAC,CAACgB,MAAF,CAASykB,YAAT,CAAsB,SAAtB,CAAX;;AACA,UAAMvb,KAAK,GAAG,mBAAI,KAAK7W,KAAL,CAAWmtB,IAAf,4BAAwB,KAAKntB,KAAL,CAAWqyB,UAAnC,GAA+CzS,SAA/C,CACZ,UAAAxY,CAAC;AAAA,eAAIA,CAAC,CAACiG,EAAF,KAASA,EAAb;AAAA,OADW,CAAd;;AAIA,UAAIwJ,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,aAAK7W,KAAL,CAAWuxB,UAAX,CAAsB1a,KAAtB;AACD;AACF;;;6BAEQlK,C,EAAG;AACVA,OAAC,CAAC2jB,eAAF;;AACA,UAAI,KAAKtwB,KAAL,CAAWsxB,UAAX,IAAyB,KAAKtxB,KAAL,CAAWsxB,UAAX,CAAsBza,KAAtB,GAA8B,CAA3D,EAA8D;AAC5DlK,SAAC,CAAC0jB,cAAF;AACA,aAAKrwB,KAAL,CAAWwwB,IAAX;AACD;AACF;;;+BAEU7jB,C,EAAG;AACZA,OAAC,CAAC2jB,eAAF;AACA,UAAMgC,SAAS,GAAG,KAAKtyB,KAAL,CAAWqyB,UAAX,CAAsBvrB,MAAtB,GAA+B,KAAK9G,KAAL,CAAWmtB,IAAX,CAAgBrmB,MAA/C,GAAwD,CAA1E;;AAEA,UAAI,KAAK9G,KAAL,CAAWsxB,UAAX,IAAyBgB,SAAS,IAAI,KAAKtyB,KAAL,CAAWsxB,UAAX,CAAsBza,KAAhE,EAAuE;AACrE,aAAK7W,KAAL,CAAW2wB,MAAX;AACD;AACF;;;iCAEYhkB,C,EAAG;AACdA,OAAC,CAAC0jB,cAAF;AADc,UAEPrwB,KAFO,GAEE,IAFF,CAEPA,KAFO;;AAId,UAAI,CAACA,KAAK,CAACsxB,UAAX,EAAuB;AACrB,eAAOtxB,KAAK,CAACuyB,QAAN,CAAe5lB,CAAf,CAAP;AACD;;AANa,UAQP2kB,UARO,GAQOtxB,KARP,CAQPsxB,UARO;AASdtxB,WAAK,CAACwyB,UAAN,CAAiBlB,UAAjB;AACD;;;6BAEQ;AAAA;;AAAA,UACCtxB,KADD,GACW,IADX,CACCA,KADD;AAGP,UAAMyyB,cAAc,GAAGzyB,KAAK,CAACqyB,UAAN,CAAiBvrB,MAAjB,GAA0B,CAAjD;AACA,UAAM4rB,QAAQ,GAAG1yB,KAAK,CAACmtB,IAAN,CAAWrmB,MAAX,GAAoB,CAArC;AAEA,aACE,6BAAC,eAAD;AACE,kBAAU,EAAE9G,KAAK,CAACsxB,UADpB;AAEE,YAAI,EAAEtxB,KAAK,CAACmtB,IAFd;AAGE,eAAO,EAAEntB,KAAK,CAACkN,OAHjB;AAIE,cAAM,EAAElN,KAAK,CAAC2I,MAJhB;AAKE,kBAAU,EAAE3I,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsB,KAAKsc,cALzC;AAME,sBAAc,EAAE9xB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAACmsB,cAN9C;AAOE,cAAM,EAAEnsB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAAC6wB,MAPtC;AAQE,gBAAQ,EAAE7wB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAAC8vB,QARxC;AASE,eAAO,EAAE9vB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAACuwB,OATvC;AAUE,kBAAU,EAAEvwB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAAC0wB,UAV1C;AAWE,cAAM,EAAE1wB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsB,KAAKqc,UAXrC;AAYE,eAAO,EAAE7xB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAAC8wB,OAZvC;AAaE,cAAM,EAAE9wB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsBxV,KAAK,CAAC2vB,MAbtC;AAcE,gBAAQ,EAAE3vB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsB,KAAKmc,YAdvC;AAeE,YAAI,EAAE3xB,KAAK,CAAC2I,MAAN,GAAe6M,IAAf,GAAsB,KAAKoc,QAfnC;AAgBE,iBAAS,EAAE5xB,KAAK,CAAC2yB,SAhBnB;AAiBE,kBAAU,EAAE3yB,KAAK,CAACywB,UAjBpB;AAkBE,cAAM,EAAEzwB,KAAK,CAAC4yB;AAlBhB,SAoBE,6BAAC,gBAAD;AAAkB,gBAAQ,EAAE,KAAKb;AAAjC,SACGW,QAAQ,GAAG,CAAX,IACC,6BAAC,mBAAD,kBAA4B1yB,KAAK,CAACmtB,IAAN,CAAWrmB,MAAvC,MAFJ,EAKG9G,KAAK,CAACmtB,IAAN,CAAW5G,GAAX,CAAe,UAAAliB,CAAC;AAAA,eAAI,MAAI,CAAC2tB,eAAL,CAAqB3tB,CAArB,EAAwB,KAAxB,EAA+BrE,KAA/B,CAAJ;AAAA,OAAhB,CALH,EAOGyyB,cAAc,GAAG,CAAjB,IACC,6BAAC,mBAAD;AAAqB,yBAAiB,EAAEzyB,KAAK,CAAC0f;AAA9C,yBACe1f,KAAK,CAACqyB,UAAN,CAAiBvrB,MADhC,MARJ,EAaG9G,KAAK,CAACqyB,UAAN,CAAiB9L,GAAjB,CAAqB,UAAAliB,CAAC;AAAA,eAAI,MAAI,CAAC2tB,eAAL,CAAqB3tB,CAArB,EAAwB,SAAxB,CAAJ;AAAA,OAAtB,CAbH,CApBF,EAoCG,CAACouB,cAAc,IAAIC,QAAnB,KAAgC,KAAKG,sBAAL,EApCnC,EAsCE,6BAAC,eAAD,QACE,6BAAC,oBAAD;AACE,iBAAS,EAAE,CAAC7yB,KAAK,CAAC2I,MADpB;AAEE,cAAM,EAAC,SAFT;AAGE,YAAI,EAAE3I,KAAK,CAAC2I,MAAN,GAAe,IAAf,GAAsB,IAH9B;AAIE,YAAI,EAAE3I,KAAK,CAAC2I,MAAN,GAAe,eAAf,GAAiC,QAJzC;AAKE,cAAM,EAAE3I,KAAK,CAAC6wB,MALhB;AAME,gBAAQ,EAAE7wB,KAAK,CAAC8vB,QANlB;AAOE,eAAO,EAAE9vB,KAAK,CAACuwB,OAPjB;AAQE,eAAO,EAAEvwB,KAAK,CAACwjB,OARjB;AASE,kBAAU,EAAExjB,KAAK,CAAC0wB,UATpB;AAUE,cAAM,EAAE,KAAKmB,UAVf;AAWE,eAAO,EAAE7xB,KAAK,CAAC8wB,OAXjB;AAYE,cAAM,EAAE9wB,KAAK,CAAC2vB,MAZhB;AAaE,YAAI,EAAE,KAAKiC,QAbb;AAcE,mBAAW,EAAC,QAdd;AAeE,kBAAU,EAAE5xB,KAAK,CAACywB,UAfpB;AAgBE,aAAK,gCAAyBzwB,KAAK,CAAC2yB,SAAN,CAAgB/K,YAAhB,CAA6BqB,QAA7B,EAAzB,CAhBP;AAiBE,aAAK,EAAEjpB,KAAK,CAAC8M;AAjBf,SAmBG9M,KAAK,CAACkN,OAAN,IACC,6BAAC,WAAD;AACE,gBAAQ,EAAElN,KAAK,CAAC2yB,SAAN,CAAgBpuB,KAD5B;AAEE,cAAM,EAAE,OAAOvE,KAAK,CAAC8M,KAAb,KAAuB,QAAvB,IAAmC9M,KAAK,CAAC8M,KAAN,CAAYhG,MAAZ,GAAqB;AAFlE,QApBJ,CADF,CAtCF,EAkEE,6BAAC,qBAAD,QACE,6BAAC,oBAAD;AAAa,aAAK,EAAE;AAAE,4BAAkB,IAApB;AAA0BpB,gBAAM,EAAE;AAAlC;AAApB,QADF,CAlEF,CADF;AAwED;;;;EA7MiCjG,eAAM2J,S;;;;;;;;;;;;;;;;;;;;;ACjC1C;;AACA;;AAEA;;;;eAEe0pB,S;;;AAEf,SAASA,SAAT,CAAmB9yB,KAAnB,EAA0B;AACxB,SACE,6BAAC,kBAAD;AACE,WAAO,EAAEA,KAAK,CAACkN,OADjB;AAEE,YAAQ,EAAElN,KAAK,CAACgpB;AAFlB,KAIE,6BAAC,gBAAD;AAAM,UAAM,EAAC;AAAb,IAJF,EAKGhpB,KAAK,CAACgpB,QAAN,CAAeC,QAAf,EALH,CADF;AASD;;AAED,IAAM8J,kBAAkB,GAAG,wBAAOhK,qBAAP,CAAH;AAAA;AAAA,6IAAxB,C;;;;;;;;;;;;;;;;;;;ACnBA;;AACA;;AAEA;;;;eAEeiK,O;;;AAEf,SAASA,OAAT,CAAiBhzB,KAAjB,EAAwB;AACtB,SACE,6BAAC,kBAAD;AAAoB,WAAO,EAAEA,KAAK,CAACkN,OAAnC;AAA4C,YAAQ,EAAElN,KAAK,CAACgpB;AAA5D,KACE,6BAAC,UAAD;AAAY,UAAM,EAAC;AAAnB,IADF,OAC6ChpB,KAAK,CAACgpB,QAAN,CAAeC,QAAf,EAD7C,CADF;AAKD;;AAED,IAAMzoB,UAAU,GAAG,wBAAOX,gBAAP,CAAH;AAAA;AAAA,mBACN,UAAAG,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UAAvB;AAAA,CADC,CAAhB;AAIA,IAAMgZ,kBAAkB,GAAG,wBAAOhK,qBAAP,CAAH;AAAA;AAAA,kCAAxB,C;;;;;;;;;;;;;;;;;;;ACnBA;;AACA;;;;eAEekK,Y;;;AAEf,SAASA,YAAT,CAAsBjzB,KAAtB,EAA6B;AAC3B,SACE,6BAAC,UAAD;AACE,SAAK,MADP;AAEE,SAAK,0BAAmBA,KAAK,CAACgpB,QAAN,CAAeC,QAAf,EAAnB,CAFP;AAGE,SAAK,EAAE;AAAE,wBAAkB,CAACjpB,KAAK,CAACkN;AAA3B;AAHT,KAKE,6BAAC,UAAD;AAAY,QAAI,EAAElN,KAAK,CAACijB,IAAxB;AAA8B,UAAM,EAAC;AAArC,IALF,WADF;AAUD;;AAED,IAAMziB,UAAU,GAAG,wBAAOX,gBAAP,CAAH;AAAA;AAAA,mBACN,UAAAG,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,CADC,CAAhB;AAIA,IAAMwL,UAAU,GAAG,wBAAO5O,gBAAP,CAAH;AAAA;AAAA,oBAAhB,C;;;;;;;;;;;;;;;;;;;ACtBA;;AACA;;;;eAEeozB,U;;;AAEf,SAASA,UAAT,CAAoBlzB,KAApB,EAA2B;AACzB,SACE,6BAAC,UAAD;AACE,YAAQ,MADV;AAEE,SAAK,oCAA4BA,KAAK,CAACqN,EAAlC,oBAFP;AAGE,QAAI,EAAErN,KAAK,CAAC0T;AAHd,KAKE,6BAAC,UAAD;AAAY,UAAM,EAAC;AAAnB,IALF,CADF;AASD;;AAED,IAAMlT,UAAU,GAAG,wBAAOX,gBAAP,CAAH;AAAA;AAAA,mBACN,UAAAG,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UAAvB;AAAA,CADC,CAAhB;AAIA,IAAMrL,UAAU,GAAG,wBAAO5O,gBAAP,CAAH;AAAA;AAAA,kCAAhB,C;;;;;;;;;;;;;;;;;;;ACrBA;;AACA;;;;eAEe,yBAAQqzB,oBAAR,C;;;;AAEf,SAASA,oBAAT,CAA8B9gB,KAA9B,EAAqC;AACnC,MAAMrK,IAAI,GAAG,mBAAWqK,KAAX,CAAb;AACA,SAAO;AACLwB,UAAM,EAAE7L,IAAI,GAAGA,IAAI,CAAC6X,WAAL,KAAqB,SAAxB,GAAoC;AAD3C,GAAP;AAGD,C;;;;;;;;;;;;;;;;;;;ACVD;;AACA;;;;eAEe,yBAAQuT,MAAR,C;;;;AAEf,SAASA,MAAT,CAAgB/gB,KAAhB,EAAuB;AACrB,MAAMrK,IAAI,GAAG,mBAAWqK,KAAX,CAAb;AACA,SAAO;AACLhF,MAAE,EAAErF,IAAI,GAAGA,IAAI,CAACqF,EAAR,GAAa;AADhB,GAAP;AAGD,C;;;;;;;;;;;;;;;;;;;ACVD;;eAEe,yBAAQgmB,gBAAR,C;;;;AAEf,SAASA,gBAAT,CAA0BhhB,KAA1B,EAAiC;AAC/B,SAAO;AACLihB,uBAAmB,EAAEjhB,KAAK,CAACihB,mBADtB;AAELC,qBAAiB,EAAElhB,KAAK,CAACkhB,iBAFpB;AAGLC,mBAAe,EAAEnhB,KAAK,CAACmhB;AAHlB,GAAP;AAKD,C;;;;;;;;;;;;;;;;;;;ACVD;;AACA;;AACA;;AACA;;;;AAEA,IAAMhrB,CAAC,GAAG,oBAAO,yBAAP,CAAV;;AAEe,SAASirB,UAAT,CAAoB5R,MAApB,EAA4B;AACzC,MAAMmH,QAAQ,GAAGxgB,CAAC,CAACkrB,IAAF,CAAO,UAAAtsB,CAAC;AAAA,WAAIA,CAAC,CAACoQ,GAAF,KAAUqK,MAAM,CAACrK,GAArB;AAAA,GAAR,CAAjB;AAEA,uBACEwR,QADF,YAEKnH,MAFL,sEAEuEA,MAAM,CAACrK,GAF9E;AAKA,SAAO,UAAApO,SAAS,EAAI;AAClB,QAAM2kB,QAAQ,GAAG,SAAXA,QAAW,CAAA1b,KAAK,EAAI;AACxB,UAAMnF,OAAO,GAAGmF,KAAK,CAACwP,MAAM,CAAC5C,QAAR,CAArB;AACA,aAAO;AAAE/R,eAAO,EAAPA,OAAF;AAAW8b,gBAAQ,EAARA;AAAX,OAAP;AACD,KAHD;;AAIA,WAAO,yBAAQ+E,QAAR,EAAkB3kB,SAAlB,CAAP;AACD,GAND;AAOD,C;;;;;;;;;;;;;;;;;;;ACtBD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAWA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMuqB,YAAY,GAAG,8BAAe,UAAAthB,KAAK;AAAA,SAAIA,KAAK,CAACuhB,MAAN,CAAava,EAAjB;AAAA,CAApB,EAAyC,UAAAA,EAAE;AAAA,SAAI,wBAAOA,EAAP,CAAJ;AAAA,CAA3C,CAArB;AAEA,IAAMwa,WAAW,GAAG,8BAClB,UAAAxhB,KAAK;AAAA,SAAIA,KAAK,CAACyhB,QAAV;AAAA,CADa,EAElBvP,IAAI,CAACC,SAFa,EAGlB,UAACsP,QAAD,EAAW1Q,GAAX;AAAA,SAAmB,CAAC0Q,QAAQ,CAAC1Q,GAAD,CAAR,IAAiB,EAAlB,EAAsB2Q,KAAtB,CAA4B,IAA5B,EAAkC5R,MAAlC,CAAyCnN,OAAzC,CAAnB;AAAA,CAHkB,CAApB;AAMA,IAAMgf,aAAa,GAAG,8BAAeH,WAAf,EAA4B,UAAAI,KAAK;AAAA,SACrDA,KAAK,CACFpT,KADH,CACS,CADT,EACY,CADZ,EAEG0F,GAFH,CAEO,UAAA7d,CAAC;AAAA,WAAIA,CAAC,CAACwrB,IAAF,EAAJ;AAAA,GAFR,EAGG7R,IAHH,CAGQ,IAHR,CADqD;AAAA,CAAjC,CAAtB;AAOA,IAAM8R,gBAAgB,GAAG,8BACvBH,aADuB,EAEvB,UAAA9e,OAAO;AAAA,SAAI,OAAOA,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,KAAK,EAA/C;AAAA,CAFgB,CAAzB;;AAKA,SAAS6Y,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,MAAMwJ,CAAC,GAAGxJ,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwClT,KAAlD;AAEA,SAAO;AACLgW,QAAI,EAAE5Q,KAAK,CAAC4Q,IADP;AAEL1F,eAAW,EAAElL,KAAK,CAAC+hB,MAAN,CAAa7W,WAFrB;AAGL8D,YAAQ,EAAEhP,KAAK,CAACgP,QAHX;AAILpB,YAAQ,EAAE5N,KAAK,CAAC6N,OAAN,CAAcC,yBAJnB;AAKLkU,kBAAc,EAAEhiB,KAAK,CAACgiB,cALjB;AAMLC,QAAI,EAAEjiB,KAAK,CAACuhB,MAAN,CAAava,EAAb,CAAgBkb,YANjB;AAOL7U,qBAAiB,EAAErN,KAAK,CAACqN,iBAPpB;AAQLD,iBAAa,EAAEpN,KAAK,CAACoN,aARhB;AASLrc,SAAK,EAAEiP,KAAK,CAACjP,KATR;AAUL/B,UAAM,EAAEsyB,YAAY,CAACthB,KAAD,CAVf;AAWLzD,SAAK,EAAEyD,KAAK,CAACuhB,MAAN,CAAahlB,KAAb,IAAsByD,KAAK,CAAC+hB,MAAN,CAAa1nB,IAXrC;AAYL8nB,cAAU,EAAEL,gBAAgB,CAAC9hB,KAAD,CAZvB;AAaL+a,cAAU,EAAEvR,CAAC,CAACuR,UAAF,KAAiB,MAbxB;AAcLqH,oBAAgB,EAAE5Y,CAAC,CAAC,oBAAD,CAAD,KAA4B,OAA5B,IAAuCA,CAAC,CAAC,oBAAD,CAAD,KAA4B,KAdhF;AAeL6Y,yBAAqB,EAAE7Y,CAAC,CAAC,yBAAD,CAAD,KAAiC,OAAjC,IAA4CA,CAAC,CAAC,yBAAD,CAAD,KAAiC;AAf/F,GAAP;AAiBD;;AAED,SAAS8Y,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACE4V,UAAM,EAAE;AAAA,aAAMvO,OAAO,CAACwO,MAAR,CAAe;AAAExhB,WAAG,EAAE;AAAP,OAAf,CAAN;AAAA,KADV;AAEEyhB,YAAQ,EAAEzO,OAAO,CAAC0O;AAFpB,GADK,EAKL/V,QALK,CAAP;AAOD;;AAED,IAAMtR,UAAU,GAAG,CACjB;AACEC,QAAM,EAAE7N,gBADV;AAEEmB,QAAM,EAAE+zB;AAFV,CADiB,CAAnB;;IAOMC,W;;;;;;;;;;;;;wCACgB;AAClB7sB,cAAQ,CAACgc,IAAT,CAAcnb,KAAd,CAAoBisB,QAApB,GAA+B,KAAKl1B,KAAL,CAAWotB,UAAX,GAAwB,QAAxB,GAAmC,MAAlE;AACD;;;yCAEoB;AACnBhlB,cAAQ,CAACgc,IAAT,CAAcnb,KAAd,CAAoBisB,QAApB,GAA+B,KAAKl1B,KAAL,CAAWotB,UAAX,GAAwB,QAAxB,GAAmC,MAAlE;AACD;;;6BAEQ;AAAA,UACCptB,KADD,GACW,IADX,CACCA,KADD;AAEP,aACE,6BAAC,qBAAD,CAAW,iBAAX;AAA6B,kBAAU,EAAE0N;AAAzC,SACE,6BAAC,yBAAD;AAAe,aAAK,EAAE1N,KAAK,CAACqB,MAAN,CAAarB,KAAK,CAACoD,KAAnB;AAAtB,SACE,6BAAC,iBAAD;AAAmB,kBAAU,EAAEpD,KAAK,CAACotB;AAArC,SACE,6BAAC,oBAAD;AAAQ,YAAI,EAAE+H,IAAI,CAACn1B,KAAD,CAAlB;AAA2B,aAAK,EAAEA,KAAK,CAAC4O;AAAxC,QADF,EAEE,6BAAC,gBAAD,OAFF,EAGE,6BAAC,yBAAD;AAAe,aAAK,EAAE5O,KAAK,CAACqB,MAAN,CAAaC;AAAnC,SACE,6BAAC,cAAD,CAAO,QAAP,QACE,6BAAC,iBAAD;AACE,4BAAiB,YADnB;AAEE,6BAAkB,YAFpB;AAGE,+BAAqBtB,KAAK,CAAC0f,iBAH7B;AAIE,eAAO,EAAE1f,KAAK,CAAC0f;AAJjB,SAME,6BAAC,yBAAD,OANF,CADF,EASE,6BAAC,mBAAD;AACE,4BAAiB,YADnB;AAEE,+BAAqB1f,KAAK,CAACuU,OAF7B;AAGE,eAAO,EAAEvU,KAAK,CAAC0f;AAHjB,SAKE,6BAAC,mBAAD,QACE,6BAAC,4BAAD,QACE,6BAAC,aAAD,OADF,CADF,EAIE,6BAAC,6BAAD,QACE,yCADF,EAEE,6BAAC,qBAAD,OAFF,EAGE,6BAAC,kBAAD,OAHF,CAJF,CALF,CATF,CADF,CAHF,EA+BE,6BAAC,sBAAD,QACE,6BAAC,aAAD,QACG1f,KAAK,CAAC00B,qBAAN,IACC,6BAAC,oBAAD;AACE,yBAAiB,EAAE10B,KAAK,CAAC0f,iBAD3B;AAEE;AAFF,SAIE,6BAAC,sBAAD,QACE,6BAAC,oBAAD,QACE,6BAAC,kBAAD,uCADF,EAIE,6BAAC,iBAAD,4GAJF,EAQE,6BAAC,iBAAD,4GARF,CADF,EAcE,6BAAC,2BAAD;AACE,aAAK,yBADP;AAEE,aAAK,EAAE;AAAE,qCAA2B;AAA7B;AAFT,SAIE,6BAAC,gBAAD;AAAM,cAAM,EAAC;AAAb,QAJF,CAdF,CAJF,CAFJ,EA6BG1f,KAAK,CAACy0B,gBAAN,IACC,6BAAC,oBAAD;AACE,yBAAiB,EAAEz0B,KAAK,CAAC0f,iBAD3B;AAEE;AAFF,SAIE,6BAAC,sBAAD,QACE,6BAAC,oBAAD,QACE,6BAAC,kBAAD,wBADF,EAEE,6BAAC,iBAAD,6DAFF,EAKE,6BAAC,gBAAD,mCALF,EAME,6BAAC,gBAAD,uEANF,CADF,EAYE,6BAAC,2BAAD;AACE,aAAK,yBADP;AAEE,aAAK,EAAE;AAAE,gCAAsB;AAAxB;AAFT,SAIE,6BAAC,gBAAD;AAAM,cAAM,EAAC;AAAb,QAJF,CAZF,CAJF,CA9BJ,EAuDG1f,KAAK,CAACw0B,UAAN,IACC,6BAAC,gBAAD,QACE,6BAAC,gBAAD,OADF,CAxDJ,EA4DGx0B,KAAK,CAAC+C,QA5DT,EA6DG/C,KAAK,CAACyf,aAAN,IACC,6BAAC,yBAAD;AAAe,aAAK,EAAEzf,KAAK,CAACqB,MAAN,CAAaC;AAAnC,SACE,6BAAC,eAAD;AACE,yBAAiB,EAAEtB,KAAK,CAAC0f,iBAD3B;AAEE,kBAAU,EAAE1f,KAAK,CAACotB;AAFpB,SAIE,6BAAC,iBAAD,QACE,6BAAC,eAAD,OADF,CAJF,CADF,CA9DJ,CADF,CA/BF,CADF,CADF,CADF;AAkHD;;;;EA7HuB3tB,eAAM2J,S;;eAgIjB,yBAAQ2kB,QAAR,EAAkB4G,WAAlB,EAA+BM,WAA/B,C;;;AAEf,IAAMG,KAAK,GAAG,GAAd;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAr1B,KAAK;AAAA,SAAKA,KAAK,CAACkN,OAAN,GAAgBkoB,KAAhB,GAAwB,CAA7B;AAAA,CAA9B;;AACA,IAAMxG,cAAc,GAAG,EAAvB;AAEA,IAAM0G,kBAAkB,GAAG,wBAAO7xB,gBAAP,CAAH;AAAA;AAAA,6CAAxB;;AAKA,IAAM8xB,oBAAoB,GAAG71B,mBAAOypB,GAAV;AAAA;AAAA,8KAWR,UAAAnpB,KAAK;AAAA,SAAKA,KAAK,CAAC0f,iBAAN,GAA0B,EAA1B,GAA+B,EAApC;AAAA,CAXG,EAYV,UAAA1f,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhG,OAAvB;AAAA,CAZK,CAA1B;;AAeA,IAAMygB,sBAAsB,GAAG91B,mBAAOypB,GAAV;AAAA;AAAA,kIAA5B;;AAUA,IAAMsM,oBAAoB,GAAG/1B,mBAAOypB,GAAV;AAAA;AAAA,QAA1B;;AAEA,IAAMuM,iBAAiB,GAAG,wBAAOjyB,gBAAP,CAAH;AAAA;AAAA,4BAAvB;AAIA,IAAMkyB,2BAA2B,GAAG,wBAAO71B,gBAAP,CAAH;AAAA;AAAA,8EAMpB,UAAAE,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,CANe,CAAjC;;AAUA,IAAM0yB,iBAAiB,GAAGl2B,mBAAOypB,GAAV;AAAA;AAAA,0GAMP,UAAAnpB,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UAAvB;AAAA,CANE,EAQnB,UAAA/Z,KAAK;AAAA,SACL,CAACA,KAAK,CAACotB,UAAP,GACI,EADJ,OAEI9jB,eAFJ,gJADK;AAAA,CARc,CAAvB;;AAqBA,IAAMusB,mBAAmB,GAAG,wBAAO,qBAAI,CAAC,SAAD,CAAJ,EAAiB,KAAjB,CAAP,CAAH;AAAA;AAAA,4LAIdR,gBAJc,EAKXA,gBALW,CAAzB;;AAeA,IAAMS,gBAAgB,GAAGp2B,mBAAOypB,GAAV;AAAA;AAAA,kGAAtB;;AASA,IAAM4M,aAAa,GAAGr2B,mBAAOypB,GAAV;AAAA;AAAA,iCAAnB;;AAKA,IAAM6M,sBAAsB,GAAGt2B,mBAAOypB,GAAV;AAAA;AAAA,sHACFkM,gBADE,EAELA,gBAFK,CAA5B;;AAQA,IAAMY,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,MAAM;AAAA,SAAI,UAAAl2B,KAAK,EAAI;AAChD,QAAIA,KAAK,CAACotB,UAAV,EAAsB;AACpB,aAAO8I,MAAM,GAAG,EAAhB;AACD;;AACD,WAAO,CAAP;AACD,GALoC;AAAA,CAArC;;AAOA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAD,MAAM;AAAA,SAAI,UAAAl2B,KAAK,EAAI;AAChD,QAAIA,KAAK,CAAC0f,iBAAV,EAA6B;AAC3B,aAAOwW,MAAM,GAAG,GAAhB;AACD;;AACD,WAAO,CAAP;AACD,GALoC;AAAA,CAArC;;AAOA,IAAME,GAAG,GAAG,SAANA,GAAM;AAAA,oCAAIjoB,IAAJ;AAAIA,QAAJ;AAAA;;AAAA,SAAa,UAAAnO,KAAK;AAAA,WAAImO,IAAI,CAACuT,MAAL,CAAY,UAAC2U,GAAD,EAAMzU,EAAN;AAAA,aAAayU,GAAG,GAAGzU,EAAE,CAAC5hB,KAAD,CAArB;AAAA,KAAZ,EAA0C,CAA1C,CAAJ;AAAA,GAAlB;AAAA,CAAZ;;AAEA,IAAMs2B,eAAe,GAAG52B,mBAAOypB,GAAV;AAAA;AAAA,wHAIV8M,sBAAsB,CAAC,CAAD,CAJZ,EAKXG,GAAG,CAACD,sBAAsB,CAAC,CAAD,CAAvB,EAA4BF,sBAAsB,CAAC,CAAD,CAAlD,CALQ,EAORG,GAAG,CAACD,sBAAsB,CAAC,CAAD,CAAvB,EAA4BF,sBAAsB,CAAC,CAAD,CAAlD,CAPK,CAArB;;AAYA,IAAMM,iBAAiB,GAAG72B,mBAAOypB,GAAV;AAAA;AAAA,gGAAvB;;AASA,IAAMqN,iBAAiB,GAAG92B,mBAAOypB,GAAV;AAAA;AAAA,4HAAvB;;AAYA,IAAM7d,cAAc,GAAG5L,mBAAOypB,GAAV;AAAA;AAAA,+DAApB;;AAMA,IAAMsN,UAAU,GAAG/2B,mBAAOypB,GAAV;AAAA;AAAA,sGAAhB;;AASA,IAAMuN,iBAAiB,GAAGh3B,mBAAOypB,GAAV;AAAA;AAAA,2cAOb,UAAAnpB,KAAK;AAAA,SAAKA,KAAK,CAACkN,OAAN,GAAgB,GAAhB,GAAsB,CAA3B;AAAA,CAPQ,EAQG,UAAAlN,KAAK;AAAA,SAAKA,KAAK,CAACkN,OAAN,GAAgB,GAAhB,GAAsB,CAA3B;AAAA,CARR,EASZ,UAAAlN,KAAK;AAAA,SACZA,KAAK,CAACkN,OAAN,GAAgBlN,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAnC,GAA2ClD,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UADlD;AAAA,CATO,EAaP,UAAA/Z,KAAK;AAAA,SACjBA,KAAK,CAACkN,OAAN,GAAgBlN,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBf,mBAAnC,GAAyD,MADxC;AAAA,CAbE,EAmBV,UAAAha,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmB7X,KAAvB;AAAA,CAnBK,EAoBL,UAAAlD,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBf,mBAAvB;AAAA,CApBA,EA0BV,UAAAha,KAAK;AAAA,SAAIA,KAAK,CAACoD,KAAN,CAAY2X,MAAZ,CAAmBhB,UAAvB;AAAA,CA1BK,CAAvB;;AAsCA,SAASob,IAAT,CAAcn1B,KAAd,EAAqB;AACnB,SAAO,CACL;AAAE0M,QAAI,EAAE,aAAR;AAAuBiqB,WAAO,EAAE32B,KAAK,CAACud;AAAtC,GADK,EAEL;AAAE7Q,QAAI,EAAE,UAAR;AAAoBiqB,WAAO,EAAE;AAA7B,GAFK,CAAP;AAID,C;;;;;;;;;;;;;;;;;;;AClbD;;AACA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AACA;;;;;;eAEe,yBAAQC,QAAR,EAAkBjC,WAAlB,EAA+BvL,sBAA/B,C;;;AAEf,IAAMyN,cAAc,GAAG,8BACrB,UAAAxkB,KAAK;AAAA,SAAIA,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwCG,QAA5C;AAAA,CADgB,EAErB,UAAAjN,GAAG;AAAA,wLAKyDA,GALzD;AAAA,CAFkB,CAAvB;;AAiBA,IAAMyjB,YAAY,GAAG,SAAfA,YAAe;AAAA;AAAA,CAArB;;AA8BA,IAAMC,aAAa,GAAG,8BACpBC,aADoB,EAEpBC,UAFoB,EAGpB,UAAA5kB,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAHe,EAIpB,UAACrF,IAAD,EAAO2X,IAAP,EAAatS,EAAb,EAAoB;AAClB,MAAIA,EAAE,KAAK,GAAX,EAAgB;AACd,QAAM6pB,KAAK,GAAGvX,IAAI,CAAC+T,IAAL,CAAU,UAAAtsB,CAAC;AAAA,aAAIA,CAAC,CAACyY,WAAF,KAAkB,KAAtB;AAAA,KAAX,CAAd;;AACA,QAAIqX,KAAJ,EAAW;AACT,aAAOA,KAAP;AACD;AACF;;AACD,SAAOlvB,IAAP;AACD,CAZmB,CAAtB;AAeA,IAAMmvB,SAAS,GAAG,8BAChBJ,aADgB,EAEhBD,YAFgB,EAGhBD,cAHgB,EAIhB,UAAC7uB,IAAD,EAAOovB,MAAP,EAAeC,QAAf,EAA4B;AAC1B,MAAIrvB,IAAI,IAAIA,IAAI,CAACsc,QAAjB,EAA2B;AACzB,WAAOtc,IAAI,CAACsc,QAAZ;AACD;;AAED,MAAItc,IAAI,IAAI,CAACA,IAAI,CAACsc,QAAlB,EAA4B;AAC1B,WAAO8S,MAAP;AACD;;AAED,SAAOC,QAAP;AACD,CAde,CAAlB;AAiBA,IAAMC,iBAAiB,GAAG,8BACxBP,aADwB,EAExB,UAAA/uB,IAAI,EAAI;AACN,MAAI,CAACA,IAAL,EAAW;AACT,WAAO,cAAP;AACD;;AACD,SAAOA,IAAI,CAACwV,QAAL,CAAcgM,WAArB;AACD,CAPuB,CAA1B;AAUA,IAAMgF,UAAU,GAAG,8BAAewI,aAAf,EAA2B,UAAAO,KAAK,EAAI;AACrD,MAAIA,KAAK,IAAIA,KAAK,CAACjT,QAAnB,EAA6B;AAC3B,WAAO,KAAP;AACD;;AACD,MAAIiT,KAAK,IAAI,CAACA,KAAK,CAACjT,QAApB,EAA8B;AAC5B,WAAO,UAAP;AACD;;AACD,SAAO,WAAP;AACD,CARkB,CAAnB;AAUA,IAAMqP,YAAY,GAAG,8BACnB,UAAAthB,KAAK;AAAA,SAAIA,KAAK,CAACuhB,MAAN,CAAa1wB,KAAjB;AAAA,CADc,EAEnB,UAAAA,KAAK;AAAA,SAAI,wBAAOA,KAAP,CAAJ;AAAA,CAFc,CAArB;;AAKA,SAAS0zB,QAAT,CAAkBvkB,KAAlB,EAAyB;AACvB,SAAO;AACLmX,eAAW,EAAE8N,iBAAiB,CAACjlB,KAAD,CADzB;AAELxL,OAAG,EAAEswB,SAAS,CAAC9kB,KAAD,CAFT;AAGLhR,UAAM,EAAEsyB,YAAY,CAACthB,KAAD,CAHf;AAILpS,QAAI,EAAEuuB,UAAU,CAACnc,KAAD,CAJX;AAKL2Q,YAAQ,EAAE3Q,KAAK,CAAC2Q;AALX,GAAP;AAOD;;AAED,SAAS2R,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACEuK,iBAAa,EAAElD,OAAO,CAACW;AADzB,GADK,EAILhI,QAJK,CAAP;AAMD,C;;;;;;;;;;;;;;;;;;;ACtID;;AAEA;;;;eAEe,yBAAQ4X,QAAR,EAAkBY,gBAAlB,C;;;;AAEf,SAASZ,QAAT,CAAkBvkB,KAAlB,EAAyB;AACvB,SAAO;AACLuH,SAAK,EAAEvH,KAAK,CAACkS,IAAN,CAAW3K,KADb;AAEL3Y,UAAM,EAAEoR,KAAK,CAACuhB,MAAN,CAAava,EAAb,CAAgBoe;AAFnB,GAAP;AAID,C;;;;;;;;;;;;;;;;;;;ACXD;;AACA;;AACA;;AACA;;;;;;eAEe,yBAAQ1J,QAAR,EAAkB4G,WAAlB,EAA+BjK,kBAA/B,C;;;;AAEf,SAASqD,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,SAAO;AACLgS,UAAM,EAAEqT,YAAY,CAACrlB,KAAD,CADf;AAEL2W,YAAQ,EAAE3W,KAAK,CAACsgB,SAAN,CAAgBntB;AAFrB,GAAP;AAID;;AAED,SAASmvB,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACE2L,WAAO,EAAEtE,OAAO,CAAC7gB;AADnB,GADK,EAILwZ,QAJK,CAAP;AAMD;;AAED,SAAS0Y,YAAT,CAAsBrlB,KAAtB,EAA6B;AAC3B,MAAIA,KAAK,CAACkS,IAAN,CAAW3K,KAAf,EAAsB;AACpB,WAAO,OAAP;AACD;;AACD,SAAOvH,KAAK,CAACslB,UAAb;AACD,C;;;;;;;;;;;;;;;;;;;AC5BD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;eAEe,yBAAQf,QAAR,EAAkBjC,WAAlB,EAA+B70B,iBAAK83B,OAApC,C;;;;AAEf,SAAShB,QAAT,CAAkBvkB,KAAlB,EAAyBwlB,GAAzB,EAA8B;AAC5B,MAAM5X,QAAQ,GAAG5N,KAAK,CAAC6N,OAAN,CAAcC,yBAA/B;AACA,SAAOrY,MAAM,CAACgwB,MAAP,CAAc,EAAd,EAAkBD,GAAlB,EACL;AAACnkB,QAAI,EAAEqkB,OAAO,CAACF,GAAD,EAAM;AAAE5U,UAAI,EAAE5Q,KAAK,CAAC4Q,IAAd;AAAoBhD,cAAQ,EAARA;AAApB,KAAN;AAAd,GADK,CAAP;AAGD;;AAED,SAAS0U,WAAT,CAAqB3V,QAArB,EAA+BgZ,QAA/B,EAAyC;AACvC,SAAO,+BACL;AACErN,WADF,mBACUhe,CADV,EACa;AACT,UAAIqrB,QAAQ,CAAC3pB,QAAb,EAAuB;AACrB,eAAO;AAAEpO,cAAI,EAAE;AAAR,SAAP;AACD;;AACD0M,OAAC,CAAC0jB,cAAF;;AACA,UAAM9c,MAAM,GAAGF,aAAIyI,KAAJ,CAAUnP,CAAC,CAACsrB,aAAF,CAAgBvkB,IAA1B,CAAf;;AAEA,UAAIH,MAAM,CAAC2kB,IAAX,EAAiB;AACf,+BAAS3kB,MAAM,CAAC2kB,IAAP,CAAYrX,KAAZ,CAAkB,CAAlB,CAAT;AACD;;AAED,aAAO,4BAAK,CAACtN,MAAM,CAAC3L,IAAR,EAAc2L,MAAM,CAAC2kB,IAArB,EAA2B7V,IAA3B,CAAgC,EAAhC,CAAL,CAAP;AACD;AAbH,GADK,EAgBLrD,QAhBK,CAAP;AAkBD;;AAED,SAAS+Y,OAAT,CAAiB/3B,KAAjB,EAAwB+N,OAAxB,EAAiC;AAC/B,MAAI/N,KAAK,CAACqO,QAAN,KAAmB,IAAnB,IAA2B,CAACN,OAAO,CAACkS,QAAxC,EAAkD;AAChD,WAAOjgB,KAAK,CAAC0T,IAAb;AACD;;AAED,MAAMH,MAAM,GAAGvT,KAAK,CAAC0T,IAAN,GACXL,aAAIyI,KAAJ,CAAU9b,KAAK,CAAC0T,IAAhB,CADW,GAEX;AACE4M,YAAQ,EAAEvS,OAAO,CAACkS,QAAR,CAAiBK,QAD7B;AAEErT,SAAK,EAAEqG,qBAAYmX,SAAZ,CAAsB1c,OAAO,CAACkS,QAAR,CAAiBhT,KAAvC;AAFT,GAFJ;AAOAsG,QAAM,CAACtG,KAAP,GAAeqG,qBAAYwI,KAAZ,CAAkBvI,MAAM,CAACtG,KAAzB,CAAf;AAEA,MAAMA,KAAK,GAAGjN,KAAK,CAACiN,KAAN,KAAgB,IAAhB,GACV,EADU,GAEV,oBACAnF,MAAM,CAACgwB,MAAP,CACE,EADF,EAEE/pB,OAAO,CAACkS,QAAR,CAAiBhT,KAFnB,EAGEsG,MAAM,CAACtG,KAHT,EAIEjN,KAAK,CAACiN,KAAN,IAAec,OAAO,CAACkS,QAAR,CAAiBhT,KAJlC,CADA,EAOA,UAACH,KAAD,EAAQ0K,GAAR,EAAgB;AACd;AACA;AACA,QAAIA,GAAG,KAAK,oBAAZ,EAAkC;AAChC,aAAO1K,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,MAAnC;AACD,KALa,CAOd;;;AACA,QAAI,CAACiB,OAAO,CAACkS,QAAR,CAAiBhT,KAAjB,CAAuBgY,cAAvB,CAAsCzN,GAAtC,CAAL,EAAiD;AAC/C,aAAO,IAAP;AACD,KAVa,CAWd;;;AACA,WAAO1K,KAAK,KAAK,OAAV,IAAqBA,KAAK,KAAK,GAA/B,IAAsC,CAAC,CAAEA,KAAhD;AACD,GApBD,CAFJ;AAyBA,MAAMwT,QAAQ,GACZ,OAAO/M,MAAM,CAAC+M,QAAd,KAA2B,QAA3B,GACIqE,MAAM,CAAC5W,OAAO,CAACkV,IAAT,EAAe1P,MAAM,CAAC+M,QAAtB,CADV,GAEIvS,OAAO,CAACkS,QAAR,CAAiBK,QAHvB;AAKA,SAAOjN,aAAIyN,MAAJ,CAAW;AAChBR,YAAQ,EAARA,QADgB;AAEhBrT,SAAK,EAALA,KAFgB;AAGhBirB,QAAI,EAAEl4B,KAAK,CAACk4B,IAAN,IAAc,CAAC3kB,MAAM,CAAC2kB,IAAP,IAAe,GAAhB,EAAqBrX,KAArB,CAA2B,CAA3B;AAHJ,GAAX,CAAP;AAKD;;AAED,SAAS8D,MAAT,CAAgB1B,IAAhB,EAAsB3C,QAAtB,EAAgC;AAC9B,MAAM5I,CAAC,GAAGygB,IAAI,CAAClV,IAAD,CAAd;AACA,MAAMtb,CAAC,GAAGwwB,IAAI,CAAC7X,QAAD,CAAd;;AAEA,MAAI3Y,CAAC,KAAK,EAAV,EAAc;AACZ,sBAAW+P,CAAX;AACD;;AAED,MAAI/P,CAAC,CAAC2W,UAAF,CAAa5G,CAAb,CAAJ,EAAqB;AACnB,sBAAW/P,CAAX;AACD;;AAED,oBAAW,CAACwwB,IAAI,CAAClV,IAAD,CAAL,EAAakV,IAAI,CAAC7X,QAAD,CAAjB,EAA6B+B,IAA7B,CAAkC,GAAlC,CAAX;AACD;;AAED,SAAS8V,IAAT,CAAcxwB,CAAd,EAAiB;AACf,SAAOA,CAAC,CAACosB,KAAF,CAAQ,GAAR,EAAa5R,MAAb,CAAoBnN,OAApB,EAA6BqN,IAA7B,CAAkC,GAAlC,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;AC3GD;;AAEA;;eAEe,yBAAQuU,QAAR,EAAkB9sB,gBAAlB,C;;;;AAEf,SAAS8sB,QAAT,CAAkBvkB,KAAlB,EAAyB;AACvB,SAAO;AACLpR,UAAM,EAAEoR,KAAK,CAACuhB,MAAN,CAAava,EAAb,CAAgBkb;AADnB,GAAP;AAGD,C;;;;;;;;;;;;;;;;;;;;ACVD;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA,IAAM6D,eAAe,GAAG,8BACtB,UAAA/lB,KAAK;AAAA,SAAIA,KAAK,CAACgmB,UAAV;AAAA,CADiB,EAEtB,UAACA,UAAD,EAAa7a,QAAb;AAAA,mBAA6B6a,UAA7B;AAAA,CAFsB,CAAxB;AAKA,IAAM1E,YAAY,GAAG,8BACnB,UAAAthB,KAAK;AAAA,SAAIA,KAAK,CAACuhB,MAAN,CAAava,EAAjB;AAAA,CADc,EAEnB,UAAAA,EAAE;AAAA,SAAI,wBAAOA,EAAP,CAAJ;AAAA,CAFiB,CAArB;;AAMA,SAAS0U,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,MAAM4N,QAAQ,GAAG5N,KAAK,CAAC6N,OAAN,CAAcC,yBAA/B;AACA,SAAO;AACL8C,QAAI,EAAE5Q,KAAK,CAAC4Q,IADP;AAELiV,QAAI,EAAEjY,QAAQ,CAACiY,IAFV;AAGL5X,YAAQ,EAAEL,QAAQ,CAACK,QAHd;AAILrT,SAAK,EAAEgT,QAAQ,CAAChT,KAJX;AAKLqrB,aAAS,EAAEF,eAAe,CAAC/lB,KAAD,CALrB;AAMLkmB,eAAW,EAAE;AACXl3B,YAAM,EAAEsyB,YAAY,CAACthB,KAAD,CADT;AAEX4Q,UAAI,EAAE5Q,KAAK,CAAC4Q,IAFD;AAGXtD,UAAI,EAAE,gBAAWtN,KAAX;AAHK;AANR,GAAP;AAYD;;AAEM,SAASsiB,WAAT,CAAqB3V,QAArB,EAA+B;AACpC,SAAO,+BAAmB;AAAEgI,YAAQ,EAARA;AAAF,GAAnB,EAAiChI,QAAjC,CAAP;AACD;;eAEc,yBAAQ+O,QAAR,EAAkB4G,WAAlB,EAA+B1qB,oBAA/B,C;;;;;;;;;;;;;;;;;;;;;ACvCf;;AACA;;AACA;;AAEA;;AACA;;;;;;eAEe,yBAAQ2sB,QAAR,EAAkB,2BAAUvL,gBAAV,CAAlB,C;;;AAEf,IAAMwI,WAAW,GAAG,8BAClB,UAAAxhB,KAAK;AAAA,SAAIA,KAAK,CAACyhB,QAAV;AAAA,CADa,EAElBvP,IAAI,CAACC,SAFa,EAGlB,UAACsP,QAAD,EAAW1Q,GAAX;AAAA,SAAmB,CAAC0Q,QAAQ,CAAC1Q,GAAD,CAAR,IAAiB,EAAlB,EAAsB2Q,KAAtB,CAA4B,IAA5B,EAAkC5R,MAAlC,CAAyCnN,OAAzC,CAAnB;AAAA,CAHkB,CAApB;AAMA,IAAMgf,aAAa,GAAG,8BAAeH,WAAf,EAA4B,UAAAI,KAAK;AAAA,SACrDA,KAAK,CACFpT,KADH,CACS,CADT,EACY,CADZ,EAEG0F,GAFH,CAEO,UAAA7d,CAAC;AAAA,WAAIA,CAAC,CAACwrB,IAAF,EAAJ;AAAA,GAFR,EAGG7R,IAHH,CAGQ,IAHR,CADqD;AAAA,CAAjC,CAAtB;AAOA,IAAMmW,aAAa,GAAG,8BAAe3E,WAAf,EAA4B,UAAAI,KAAK,EAAI;AACzD,MAAIA,KAAK,CAACntB,MAAN,IAAgB,CAApB,EAAuB;AACrB,WAAO,EAAP;AACD;;AACD,SAAOmtB,KAAK,CAAC5R,IAAN,CAAW,IAAX,CAAP;AACD,CALqB,CAAtB;AAOA,IAAMoW,YAAY,GAAG,8BACnBzE,aADmB,EAEnB,UAAA9e,OAAO;AAAA,SAAI,OAAOA,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,KAAK,EAA/C;AAAA,CAFY,CAArB;;AAKA,SAAS0hB,QAAT,CAAkBvkB,KAAlB,EAAyB;AACvB,SAAO;AACLwB,UAAM,EAAE4kB,YAAY,CAACpmB,KAAD,CADf;AAEL6C,WAAO,EAAE8e,aAAa,CAAC3hB,KAAD,CAFjB;AAGLiZ,WAAO,EAAEkN,aAAa,CAACnmB,KAAD,CAHjB;AAILkZ,WAAO,EAAE;AAJJ,GAAP;AAMD,C;;;;;;;;;;;;;;;;;;;ACzCD;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;eAEe,yBAAQwC,QAAR,EAAkB4G,WAAlB,EAA+B3qB,0BAA/B,C;;;AACR,IAAM0uB,gBAAgB,GAAG1uB,2BAAe0uB,gBAAxC;;AACA,IAAMtuB,iBAAiB,GAAGJ,2BAAeI,iBAAzC;;;AAEP,SAAS2jB,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,SAAO;AACLwB,UAAM,EAAExB,KAAK,CAAChF,EADT;AAEL8f,QAAI,EAAE,mBAAW9a,KAAX,CAFD;AAGLsmB,qBAAiB,EAAEtmB,KAAK,CAACsmB,iBAHpB;AAILC,cAAU,EAAE,yBAAiBvmB,KAAjB,CAJP;AAKLpF,SAAK,EAAEoF,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwClT;AAL1C,GAAP;AAOD;;AAED,SAAS0nB,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACE6Z,eADF,uBACclsB,CADd,EACiB;AACbA,OAAC,CAAC0jB,cAAF;;AAEA,UAAI,CAAC1jB,CAAC,CAACsrB,aAAF,CAAgBvkB,IAArB,EAA2B;AACzB,eAAO;AAAEzT,cAAI,EAAE;AAAR,SAAP;AACD;;AAED,UAAMsT,MAAM,GAAGF,aAAIyI,KAAJ,CAAUnP,CAAC,CAACsrB,aAAF,CAAgBvkB,IAA1B,CAAf;;AACA,aAAO,sCAAQH,MAAM,CAAC+M,QAAf,cAA2B/M,MAAM,CAACtG,KAAlC,EAAP;AACD,KAVH;AAWE6rB,gBAXF,wBAWe7rB,KAXf,EAWsB;AAClB,aAAO,4BAAc;AAACA,aAAK,EAALA;AAAD,OAAd,CAAP;AACD;AAbH,GADK,EAgBL+R,QAhBK,CAAP;AAkBD,C;;;;;;;;;;;;;;;;;;;AC3CD;;AACA;;;;eAEe,yBAAQ,UAAA3M,KAAK,EAAI;AAC9B,SAAO;AACL4Q,QAAI,EAAE5Q,KAAK,CAAC4Q,IADP;AAEL5V,MAAE,EAAEgF,KAAK,CAAChF,EAFL;AAGL8f,QAAI,EAAE;AACJ7I,cAAQ,EAAEuS,cAAc,CAACxkB,KAAD;AADpB;AAHD,GAAP;AAOD,CARc,EAQZ+W,sBARY,C;;;;AAUf,SAASyN,cAAT,CAAwBxkB,KAAxB,EAA+B;AAC7B,MAAMgB,GAAG,GAAGhB,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwCG,QAApD;AACA,8KAK4DjN,GAL5D;AAaD,C;;;;;;;;;;;;;;;;;;;AC5BD;;AACA;;AACA;;;;;;;;;;;;;;;;eAEe,yBAAQ0a,QAAR,EAAkBgL,WAAlB,C;;;;AAEf,SAASA,WAAT,CAAqB/4B,KAArB,EAA4B;AAC1B,SACE,0CACGA,KAAK,CAACkc,KAAN,CAAYqK,GAAZ,CAAgB;AAAA;AAAA,QAAE7Z,IAAF;AAAA,QAAQI,KAAR;;AAAA,WACf;AAAO,UAAI,EAAC,QAAZ;AAAqB,SAAG,EAAEJ,IAA1B;AAAgC,UAAI,EAAEA,IAAtC;AAA4C,WAAK,EAAEI;AAAnD,MADe;AAAA,GAAhB,CADH,CADF;AAOD;;AAED,SAASihB,QAAT,CAAkB1b,KAAlB,EAAyBwlB,GAAzB,EAA8B;AAAA,MACpB5qB,KADoB,GACVoF,KAAK,CAAC6N,OAAN,CAAcC,yBADJ,CACpBlT,KADoB;;AAE5B,MAAM4O,CAAC,qBAAQ5O,KAAR,EAAmB4qB,GAAG,CAAC5qB,KAAJ,IAAa,EAAhC,CAAP;;AACA,MAAMiP,KAAK,GAAG,qBAAQL,CAAR,EAAWsG,MAAX,CAAkB;AAAA;AAAA,QAAIrV,KAAJ;;AAAA,WAAeA,KAAK,KAAK,IAAzB;AAAA,GAAlB,CAAd;AACA,SAAO;AAAEoP,SAAK,EAALA;AAAF,GAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACrBD;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;IAEM+Q,gB;;;;;;;;;;;;;6BACK;AAAA,UACCjtB,KADD,GACW,IADX,CACCA,KADD;AAEP,aACE,6BAAC,gBAAD;AACE,gBAAQ,EAAEA,KAAK,CAACskB,QADlB;AAEE,mBAAW,EAAEtkB,KAAK,CAAC6f,WAFrB;AAGE,YAAI,EAAE7f,KAAK,CAACmtB,IAHd;AAIE,aAAK,EAAEntB,KAAK,CAAC4Z,KAJf;AAKE,mBAAW,EAAE5Z,KAAK,CAACwpB,WALrB;AAME,eAAO,EAAExpB,KAAK,CAACutB,OANjB;AAOE,eAAO,EAAEvtB,KAAK,CAACqtB,OAPjB;AAQE,WAAG,EAAErtB,KAAK,CAACojB,GARb;AASE,YAAI,EAAEpjB,KAAK,CAACC,IATd;AAUE,eAAO,EAAED,KAAK,CAAC0tB,OAVjB;AAWE,yBAAiB,EAAE1tB,KAAK,CAAC0f,iBAX3B;AAYE,kBAAU,EAAE1f,KAAK,CAACotB;AAZpB,QADF;AAgBD;;;;EAnB4B3tB,eAAM2J,S;;eAsBtB,yBAAQwtB,QAAR,EAAkBjC,WAAlB,EAA+B1H,gBAA/B,C;;;AAEf,IAAM+L,wBAAwB,qXAA9B;AAeA,IAAMC,SAAS,wUAAf;AAcA,IAAMC,UAAU,GAAG,8BACjBlC,aADiB,EAEjB9a,KAAK,CAACsS,UAFW,EAGjBtS,KAAK,CAACmS,cAHW,EAIjB,UAACjpB,OAAD,EAAUnF,IAAV,EAAgBqkB,QAAhB,EAA6B;AAC3B,MAAIlf,OAAO,IAAIA,OAAO,CAACnF,IAAR,KAAiB,QAAhC,EAA0C;AACxC,WAAOqkB,QAAP;AACD;;AACD,MAAIrkB,IAAI,KAAK,WAAb,EAA0B;AACxB,WAAOg5B,SAAP;AACD;;AACD,SAAO3U,QAAQ,IAAI0U,wBAAnB;AACD,CAZgB,CAAnB;;AAeA,SAASpC,QAAT,CAAkBvkB,KAAlB,EAAyB;AACvB,SAAO;AACLiS,YAAQ,EAAEjS,KAAK,CAACkS,IAAN,CAAWD,QADhB;AAELkF,eAAW,EAAEtN,KAAK,CAACpH,UAAN,CAAiBzC,KAAjB,CAFR;AAGL8a,QAAI,EAAE+L,UAAU,CAAC7mB,KAAD,CAHX;AAILuH,SAAK,EAAEvH,KAAK,CAACkS,IAAN,CAAW3K,KAJb;AAKL2T,WAAO,EAAElb,KAAK,CAACkS,IAAN,CAAW4U,QALf;AAML9L,WAAO,EAAEhb,KAAK,CAACgb,OANV;AAOLjK,OAAG,EAAEmB,IAAI,CAACC,SAAL,CAAenS,KAAf,CAPA;AAQLpS,QAAI,EAAEic,KAAK,CAACsS,UAAN,CAAiBnc,KAAjB,CARD;AASLwN,eAAW,EAAE3D,KAAK,CAACkd,iBAAN,CAAwB/mB,KAAxB,CATR;AAULqb,WAAO,EAAErb,KAAK,CAACkS,IAAN,CAAWmJ,OAVf;AAWLhO,qBAAiB,EAAErN,KAAK,CAACqN,iBAXpB;AAYL0N,cAAU,EAAE/a,KAAK,CAAC6N,OAAN,CAAcC,yBAAd,CAAwClT,KAAxC,CAA8CmgB,UAA9C,KAA6D;AAZpE,GAAP;AAcD;;AAED,SAASuH,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACE8Q,YAAQ,EAAEzJ,OAAO,CAACgT;AADpB,GADK,EAILra,QAJK,CAAP;AAMD,C;;;;;;;;;;;;;;;;;;;ACtGD;;AACA;;AAEA;;AACA;;AACA;;;;;;AAEA,SAAS+O,QAAT,CAAkB1b,KAAlB,EAAyB;AACvB,SAAO;AACLif,cAAU,EAAEjpB,KAAK,CAACixB,gBAAN,CAAuBjnB,KAAvB,CADP;AACsC;AAC3C4Q,QAAI,EAAE5Q,KAAK,CAAC4Q,IAFP;AAGLoP,cAAU,EAAEhqB,KAAK,CAACkxB,cAAN,CAAqBlnB,KAArB,CAHP;AAGoC;AACzC8a,QAAI,EAAE9kB,KAAK,CAAC6wB,UAAN,CAAiB7mB,KAAjB,CAJD;AAI0B;AAC/BnF,WAAO,EAAEmF,KAAK,CAACoN,aALV;AAKyB;AAC9BmT,UAAM,EAAEvqB,KAAK,CAACmxB,YAAN,CAAmBnnB,KAAnB,CANH;AAOLsgB,aAAS,EAAEtgB,KAAK,CAACsgB,SAPZ;AAOuB;AAC5BlC,cAAU,EAAEpoB,KAAK,CAACoxB,gBAAN,CAAuBpnB,KAAvB,CARP;AAQsC;AAC3CvF,SAAK,EAAEuF,KAAK,CAACqnB,WATR,CASoB;;AATpB,GAAP;AAWD;;AAED,SAAS/E,WAAT,CAAqB3V,QAArB,EAA+B;AAC7B,SAAO,+BACL;AACE8Q,YAAQ,EAAE,kBAAAnjB,CAAC;AAAA,aACT0Z,OAAO,CAAC3gB,MAAR,CAAe;AACbiiB,eAAO,EAAE,KADI;AAEb5L,eAAO,EAAE,KAFI;AAGbjP,aAAK,EAAEH,CAAC,CAACgB,MAAF,CAASb;AAHH,OAAf,CADS;AAAA,KADb;AAOEyjB,WAAO,EAAE;AAAA,aACPlK,OAAO,CAAC3gB,MAAR,CAAe;AAAEiiB,eAAO,EAAE,IAAX;AAAiB5L,eAAO,EAAE,IAA1B;AAAgCjP,aAAK,EAAE;AAAvC,OAAf,CADO;AAAA,KAPX;AASE6d,WAAO,EAAE;AAAA,aAAMtE,OAAO,CAACuB,YAAR,CAAqB;AAAEE,aAAK,EAAE;AAAT,OAArB,CAAN;AAAA,KATX;AAUEqE,kBAAc,EAAE;AAAA,aAAM9F,OAAO,CAACuB,YAAR,CAAqB;AAAEE,aAAK,EAAE;AAAT,OAArB,CAAN;AAAA,KAVlB;AAWEtE,WAAO,EAAE;AAAA,aAAM6C,OAAO,CAACuB,YAAR,CAAqB;AAAEE,aAAK,EAAE;AAAT,OAArB,CAAN;AAAA,KAXX;AAYE4I,cAAU,EAAE,oBAAA5jB,KAAK;AAAA,aACfuZ,OAAO,CAAC3gB,MAAR,CAAe;AAAEiiB,eAAO,EAAE,IAAX;AAAiB5L,eAAO,EAAE,IAA1B;AAAgCjP,aAAK,EAALA;AAAhC,OAAf,CADe;AAAA,KAZnB;AAcEgkB,WAAO,EAAE;AAAA,aAAMzK,OAAO,CAACuB,YAAR,CAAqB;AAAEE,aAAK,EAAE;AAAT,OAArB,CAAN;AAAA,KAdX;AAeEW,WAAO,EAAE;AAAA,aAAMpC,OAAO,CAACuB,YAAR,CAAqB;AAAEC,YAAI,EAAE;AAAR,OAArB,CAAN;AAAA,KAfX;AAgBE2K,cAAU,EAAE,oBAAAxqB,IAAI,EAAI;AAClB,UAAMsY,QAAQ,aAAMtY,IAAI,CAAC6X,WAAX,cAA0B7X,IAAI,CAACqF,EAA/B,CAAd;AACA,aAAOgZ,OAAO,CAACrB,aAAR,CAAsB;AAAE1E,gBAAQ,EAARA,QAAF;AAAYrT,aAAK,EAAE;AAAE,4BAAkB;AAApB;AAAnB,OAAtB,CAAP;AACD,KAnBH;AAoBEslB,YAAQ,EAAE,kBAAA5lB,CAAC,EAAI;AACbA,OAAC,CAAC0jB,cAAF;AACA,aAAOhK,OAAO,CAAC3gB,MAAR,CAAe;AACpBiiB,eAAO,EAAE,IADW;AAEpB5L,eAAO,EAAE,IAFW;AAGpBjP,aAAK,EAAEH,CAAC,CAACgB,MAAF,CAASjI,MAAT,CAAgBoH;AAHH,OAAf,CAAP;AAKD,KA3BH;AA4BE0jB,QAAI,EAAE;AAAA,aAAMnK,OAAO,CAACmB,aAAR,CAAsB,IAAtB,CAAN;AAAA,KA5BR;AA6BEmJ,UAAM,EAAE;AAAA,aAAMtK,OAAO,CAACmB,aAAR,CAAsB,MAAtB,CAAN;AAAA,KA7BV;AA8BE+J,cAAU,EAAE,oBAAA1a,KAAK;AAAA,aAAIwP,OAAO,CAACmB,aAAR,CAAsB3Q,KAAtB,CAAJ;AAAA,KA9BnB;AA+BE8Y,UAAM,EAAE,gBAAAhjB,CAAC;AAAA,aACP0Z,OAAO,CAAC3gB,MAAR,CAAe;AAAEiiB,eAAO,EAAE,IAAX;AAAiB5L,eAAO,EAAE,IAA1B;AAAgCjP,aAAK,EAAEH,CAAC,CAACgB,MAAF,CAASb;AAAhD,OAAf,CADO;AAAA;AA/BX,GADK,EAmCLkS,QAnCK,CAAP;AAqCD;;eAEc,yBAAQ+O,QAAR,EAAkB4G,WAAlB,EAA+BrqB,eAA/B,C;;;;;;;;;;;;;;;;;;;;;AC7Df;;AACA;;AACA;;;;;;eAEe,yBAAW+b,OAAO,CAACsT,gBAAnB,EAAqCC,yBAArC,C;;;;;;;;;;;;;;;;;;;;;ACJf;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMC,aAAa,GAAG,yBAAWxT,OAAO,CAACyT,aAAnB,EAAkC9G,sBAAlC,CAAtB;;eACe,mCAAqB,2BAAU6G,aAAV,CAArB,C;;;;;;;;;;;;;;;;;;;;;ACPf;;AACA;;AACA;;;;;;eAEe,yBAAWxT,OAAO,CAACuB,YAAnB,EAAiCqL,qBAAjC,C;;;;;;;;;;;;;;;;;;;;;ACJf;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAM8G,mBAAmB,GAAG,mCAAqB,2BAAU7G,0BAAV,CAArB,CAA5B;;AAEA,IAAMnF,QAAQ,GAAG,SAAXA,QAAW,CAAA1b,KAAK,EAAI;AACxB,MAAMwJ,CAAC,GAAGme,qBAAYvP,SAAZ,CAAsB;AAC9BjlB,UAAM,EAAE6M,KAAK,CAAC2Q,QAAN,GAAiB,IAAjB,GAAwB;AADF,GAAtB,CAAV;;AAGA,SAAO;AACLtP,QAAI,YAAK6Q,IAAI,CAACC,SAAL,CAAenS,KAAf,CAAL,cAA8BwJ,CAA9B;AADC,GAAP;AAGD,CAPD;;eASe,yBAAQkS,QAAR,EAAkB,qBAAOgM,mBAAP,CAAlB,C;;;;;;;;;;;;;;;;;;;;;ACnBf;;AACA;;;;;;;;AAEA,IAAMxX,YAAY,GAAG,IAArB;;AAEA,IAAM0X,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC5nB,KAAD,QAAwB;AAAA,MAAd8M,OAAc,QAAdA,OAAc;AAAA,MACvCtL,MADuC,GACxBsL,OADwB,CACvCtL,MADuC;AAAA,MAC/BxG,EAD+B,GACxB8R,OADwB,CAC/B9R,EAD+B;;AAG/C,MAAIwG,MAAJ,EAAY;AACV,WAAOxG,EAAP;AACD;;AAED,SAAOkV,YAAP;AACD,CARD;;AAUA,IAAM2X,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC,SAAO3X,YAAP;AACD,CAFD;;eAIe,uFAEV4X,kBAFU,EAEEF,gBAFF,mCAGX,0BAHW,EAGiBC,qBAHjB,oBAKb3X,YALa,C;;;;;;;;;;;;;;;;;;;;;ACnBf;;AACA;;;;AAEA,SAASN,OAAT,CAAiBwC,CAAjB,QAAiC;AAAA,MAAXtF,OAAW,QAAXA,OAAW;AAC/B,SAAOA,OAAO,CAAClS,KAAR,CAAc,aAAd,CAAP;AACD;;eAEc,iCAAc;AAC3B,8BAA4BgV;AADD,CAAd,C;;;;;;;;;;;;;;;;;;;;;ACPf;;AACA;;eAEe,kBAAC5P,KAAD,EAAW;AACxB,SAAOA,KAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;ACLD;;AACA;;;;;;eAEe,qBAAOgU,OAAO,CAAC+T,UAAf,EAA2B;AAAE7X,cAAY,EAAE;AAAhB,CAA3B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;;;eAEe,qBAAO8D,OAAO,CAACgU,uBAAf,EAAwC;AAAE9X,cAAY,EAAE;AAAhB,CAAxC,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;AACA;;eAEe,kBAAClQ,KAAD,EAAQwP,MAAR,EAAmB;AAChC,MAAIyY,IAAJ;;AAEA,UAAQzY,MAAM,CAAC5hB,IAAf;AACE,SAAK,qBAAL;AAA4B;AAC1Bq6B,YAAI,GAAG,mBAAM,EAAN,EAAUzY,MAAM,CAAC1C,OAAP,CAAeyU,MAAzB,CAAP;AACA;AACD;;AACD;AAAS;AACP0G,YAAI,GAAG,mBAAM,EAAN,EAAUjoB,KAAV,CAAP;AACD;AAPH;;AAUA,MAAI,CAACioB,IAAI,CAACrV,cAAL,CAAoB,IAApB,CAAL,EAAgC;AAC9BqV,QAAI,CAACjhB,EAAL,GAAU,EAAV;AACD;;AAf+B,cAiBnBihB,IAjBmB;AAAA,MAiBzBjhB,EAjByB,SAiBzBA,EAjByB;AAmBhCA,IAAE,CAACkb,YAAH,GAAkBlb,EAAE,CAAC4L,cAAH,CAAkB,MAAlB,IACd,4BAAe7Z,gBAAI+N,MAAJ,CAAW/N,gBAAI+F,QAAJ,CAAa/F,gBAAI4N,KAAJ,CAAU,CAAC5N,gBAAI0Q,KAAJ,CAAUzC,EAAE,CAACib,IAAb,CAAD,CAAV,CAAb,EAA8C,CAA9C,CAAX,CAAf,CADc,GAEd,EAFJ;AAIA,MAAMmD,OAAO,GAAGpe,EAAE,CAACoe,OAAH,IAAcpe,EAAE,CAACib,IAAjC;AAEAjb,IAAE,CAACkhB,eAAH,GAAqB9qB,MAAM,CAACrH,QAAP,IAAmBqvB,OAAnB,GACjBrsB,gBAAI0e,GAAJ,CAAQ2N,OAAR,CADiB,GAEjB7R,OAAO,CAAC9M,OAAR,CAAgB,EAAhB,CAFJ;AAIA,SAAOwhB,IAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;AClCD;;;;eAEe,qCACb;AACEE,kBAAgB,EAAE;AAAA,WAAa3O,MAAM,MAAN,mBAAb;AAAA,GADpB;AAEE4O,UAAQ,EAAE;AAAA,WAAa5O,MAAM,MAAN,mBAAb;AAAA,GAFZ;AAGE6O,iBAAe,EAAE;AAAA,WAAM,SAAN;AAAA;AAHnB,CADa,EAMb;AACEnY,cAAY,EAAE,EADhB;AAEE/d,cAAY,EAAE,CAAC,UAAD;AAFhB,CANa,C;;;;AAYf,SAASqnB,MAAT,GAAyD;AAAA,MAAzCxZ,KAAyC,uEAAjC,SAAiC;AAAA,MAAtBwP,MAAsB;;AAAA;AAAA,MAAZsX,QAAY,QAAZA,QAAY;;AACvD,SAAOA,QAAQ,GAAG,SAAH,GAAe,QAA9B;AACD,C;;;;;;;;;;;;;;;;;;AChBD,IAAMwB,OAAO,GAAG;AACd/gB,OAAK,EAAE,IADO;AAEduf,UAAQ,EAAE,KAFI;AAGd9rB,IAAE,EAAE,IAHU;AAIdiX,UAAQ,EAAE,IAJI;AAKdoJ,SAAO,EAAE;AALK,CAAhB;;AAQe,SAASnJ,IAAT,GAAuC;AAAA,MAAzBlS,KAAyB,uEAAjBsoB,OAAiB;AAAA,MAAR9Y,MAAQ;;AACpD,UAAQA,MAAM,CAAC5hB,IAAf;AACE,SAAK,yBAAL;AACE,aAAO;AACL2Z,aAAK,EAAE,IADF;AAELuf,gBAAQ,EAAE,IAFL;AAGL9rB,UAAE,EAAEwU,MAAM,CAAC1C,OAAP,CAAe9R,EAHd;AAILiX,gBAAQ,EAAEjS,KAAK,CAACiS,QAJX;AAKLoJ,eAAO,EAAErb,KAAK,CAACqb;AALV,OAAP;;AAOF,SAAK,2BAAL;AAAkC;AAChC,eAAO;AACL9T,eAAK,EAAE,IADF;AAELuf,kBAAQ,EAAE,KAFL;AAGL9rB,YAAE,EAAEwU,MAAM,CAAC1C,OAAP,CAAe9R,EAHd;AAILiX,kBAAQ,EAAEzC,MAAM,CAAC1C,OAAP,CAAemF,QAJpB;AAKLoJ,iBAAO,EAAE,CAAC7L,MAAM,CAAC1C,OAAP,CAAeyE,KAAhB,IAAyBvR,KAAK,CAACiS,QAAN,KAAmBzC,MAAM,CAAC1C,OAAP,CAAemF,QAA3D,IAAuEjS,KAAK,CAAChF,EAAN,KAAawU,MAAM,CAAC1C,OAAP,CAAe9R,EAAnG,GACLgF,KAAK,CAACqb,OADD,GAELkN,IAAI,CAACC,GAAL;AAPC,SAAP;AASD;;AACD,SAAK,yBAAL;AACE,aAAO;AACLjhB,aAAK,EAAE,IADF;AAELuf,gBAAQ,EAAE,KAFL;AAGL9rB,UAAE,EAAEwU,MAAM,CAAC1C,OAAP,CAAe9R,EAHd;AAILiX,gBAAQ,EAAE,IAJL;AAKLoJ,eAAO,EAAEkN,IAAI,CAACC,GAAL;AALJ,OAAP;;AAOF;AACE,aAAOxoB,KAAP;AA7BJ;AA+BD,C;;;;;;;;;;;;;;;;;;;ACxCD;;AACA;;;;;;eAEe,qBAAOgU,OAAO,CAACyU,kBAAf,EAAmC;AAAEvY,cAAY,EAAE;AAAhB,CAAnC,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AAEA,IAAMA,YAAY,GAAG,KAArB;;AAEA,SAASwY,gBAAT,CAA0BtW,CAA1B,EAA6B5C,MAA7B,EAAqC;AACnC,SAAOA,MAAM,CAAC1C,OAAP,CAAelS,KAAf,CAAqB,oBAArB,MAA+C,MAAtD;AACD;;eAEc,iCACb;AACE,8BAA4B8tB;AAD9B,CADa,EAIbxY,YAJa,C;;;;;;;;;;;;;;;;;;;;;;ACRf;;AAEO,SAASyY,QAAT,CAAkB1a,QAAlB,EAA4B;AACjC,MAAM2a,SAAS,GAAG3a,QAAQ,CAACyT,KAAT,CAAe,GAAf,EAAoB5R,MAApB,CAA2BnN,OAA3B,CAAlB;AAEA,MAAMkmB,aAAa,GAAG,CAAC,SAAD,EAAY,KAAZ,EACnB3U,GADmB,CACf,UAAA4U,KAAK;AAAA,WAAIF,SAAS,CAACpY,OAAV,CAAkBsY,KAAlB,CAAJ;AAAA,GADU,EAEnBzH,IAFmB,CAEd,UAAA7c,KAAK;AAAA,WAAIA,KAAK,KAAK,CAAC,CAAf;AAAA,GAFS,CAAtB;AAIA,MAAMA,KAAK,GAAGqkB,aAAa,KAAK,IAAlB,GAAyBD,SAAS,CAACn0B,MAAnC,GAA4Co0B,aAA1D;AACA,SAAOD,SAAS,CAACpa,KAAV,CAAgB,CAAhB,EAAmBhK,KAAnB,EAA0BsL,MAA1B,CAAiCnN,OAAjC,EAA0ClO,MAAjD;AACD;;eAEc,gCACb,0BADa,EAEb;AACEmK,MADF,gBACOwT,CADP,QACqC;AAAA,QAAdnE,QAAc,QAAzBnB,OAAyB,CAAdmB,QAAc;AACjC,WAAO0a,QAAQ,CAAC1a,QAAD,CAAf;AACD;AAHH,CAFa,EAOb,GAPa,C;;;;;;;;;;;;;;;;;;;;;ACbf;;AACA;;;;;;eAEe,qBAAO+F,OAAO,CAAC+U,SAAf,EAA0B;AAAE7Y,cAAY,EAAE;AAAhB,CAA1B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;eAEe,kDACb8Y,mBADa,EAEb;AACEnV,OADF,mBACU;AACN,WAAO,IAAP;AACD,GAHH;AAIEpM,SAJF,qBAIY;AACR,WAAO,KAAP;AACD,GANH;AAOEF,OAPF,mBAOU;AACN,WAAO,KAAP;AACD;AATH,CAFa,EAab;AACE2I,cAAY,EAAE;AADhB,CAba,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;;;eAEe,qBAAO8D,OAAO,CAACiV,UAAf,EAA2B;AAAE/Y,cAAY,EAAE;AAAhB,CAA3B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;AAEA,SAASN,OAAT,CAAiBwC,CAAjB,eAA2C;AAAA,MAArBtF,OAAqB,QAArBA,OAAqB;AAAA,MAAR8D,IAAQ,SAARA,IAAQ;AACzC,SAAO,8BAAgB9D,OAAO,CAACmB,QAAxB,EAAkC2C,IAAlC,KAA2C,GAAlD;AACD;;eAEc,qCACb;AACE,8BAA4BhB;AAD9B,CADa,EAIb;AACEzd,cAAY,EAAE,CAAC,MAAD;AADhB,CAJa,C;;;;;;;;;;;;;;;;;;;;;ACPf;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAM0gB,KAAK,GAAG,SAARA,KAAQ,CAAA7S,KAAK;AAAA,SAAIA,KAAK,IAAI,EAAb;AAAA,CAAnB;;AACA,IAAMkpB,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAACjZ,OAAD,uEAAW,EAAX;AAAA,SAAkBA,OAAO,CAAC9d,YAAR,IAAwB,EAA1C;AAAA,CAAxB;;eAEe;AACbye,MAAI,EAAJA,aADa;AAEb2Q,QAAM,EAANA,eAFa;AAGb+D,YAAU,EAAVA,mBAHa;AAIbpT,MAAI,EAAJA,aAJa;AAKbiX,OAAK,EAALA,cALa;AAMbrC,UAAQ,EAARA,iBANa;AAObsC,aAAW,EAAXA,oBAPa;AAQbpuB,IAAE,EAAFA,WARa;AASb2V,UAAQ,EAARA,iBATa;AAUbxF,UAAQ,EAAE0H,KAVG;AAWb4O,UAAQ,EAARA,iBAXa;AAYbpU,mBAAiB,EAAjBA,0BAZa;AAab2N,SAAO,EAAPA,gBAba;AAcbsL,mBAAiB,EAAjBA,0BAda;AAebvE,QAAM,EAANA,eAfa;AAgBb1uB,QAAM,EAANA,eAhBa;AAiBb+Z,eAAa,EAAbA,sBAjBa;AAkBb+H,eAAa,EAAbA,sBAlBa;AAmBbkS,aAAW,EAAXA,oBAnBa;AAoBb/G,WAAS,EAATA,kBApBa;AAqBb+I,WAAS,EAAExW,KArBE;AAsBbmT,YAAU,EAAEnT,KAtBC;AAuBb9hB,OAAK,EAALA,cAvBa;AAwBbqf,QAAM,EAANA;AAxBa,C;;AA2BR,IAAMje,YAAY,GAAG;AAC1BmzB,YAAU,EAAE4D,eAAe,CAAC5D,mBAAD;AADD,CAArB;;;;;;;;;;;;;;;;;;;;AC7DP;;AACA;;;;;;eAEe,qBAAOtR,OAAO,CAACsV,UAAf,EAA2B;AAAEpZ,cAAY,EAAE;AAAhB,CAA3B,C;;;;;;;;;;;;;;;;;;;;;eCHA;AAAA,MAAClQ,KAAD,uEAAS,KAAT;AAAA,SAAmBA,KAAnB;AAAA,C;;;;;;;;;;;;;;;;;;;;;ACAf;;AACA;;;;;;eAEe,qBAAOgU,OAAO,CAACuV,cAAf,EAA+B;AAAErZ,cAAY,EAAE;AAAhB,CAA/B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;;;eAEe,oBAAwB;AAAA,MAAvBlQ,KAAuB,uEAAf,EAAe;AAAA,MAAXwP,MAAW;;AACrC,UAAQA,MAAM,CAAC5hB,IAAf;AACE,SAAK,2BAAL;AACE,UAAI4hB,MAAM,CAAC1C,OAAP,CAAe9R,EAAf,IAAqBgF,KAAzB,EAAgC;AAC9B,eAAO,kBAAKA,KAAL,EAAYwP,MAAM,CAAC1C,OAAP,CAAe9R,EAA3B,CAAP;AACD;;AACD,aAAOgF,KAAP;;AACF,SAAK,yBAAL;AACE,aAAO,mBAAM,EAAN,EAAUA,KAAV,sBAAoBwP,MAAM,CAAC1C,OAAP,CAAe9R,EAAnC,EAAwCwU,MAAM,CAAC1C,OAAP,CAAevF,KAAvD,EAAP;;AACF;AACE,aAAOvH,KAAP;AATJ;AAWD,C;;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;;;;;eAEe,qBAAOgU,OAAO,CAACsT,gBAAf,EAAiC;AAAEpX,cAAY,EAAE;AAAhB,CAAjC,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;;;eAEe,qBAAO8D,OAAO,CAACwV,aAAf,EAA8B;AAAEtZ,cAAY,EAAE;AAAhB,CAA9B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;;;eAEe,qBAAO8D,OAAO,CAACyT,aAAf,EAA8B;AAAEvX,cAAY,EAAE;AAAhB,CAA9B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;eAEe,kDAAyB8Y,mBAAzB,EAAqC;AAClDvhB,SADkD,mBAC1CzH,KAD0C,EACnCwP,MADmC,EAC3B;AACrB,WAAOA,MAAM,CAAC1C,OAAd;AACD;AAHiD,CAArC,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AACA;;;;;;eAEe,qBAAOkH,OAAO,CAACuB,YAAf,EAA6B;AAAErF,cAAY,EAAE;AAAhB,CAA7B,C;;;;;;;;;;;;;;;;;;;;;ACHf;;AAEA,IAAMA,YAAY,GAAG,CAArB;;AAEA,SAASuZ,uBAAT,CAAiCrX,CAAjC,EAAoC5C,MAApC,EAA4C;AAC1C,MAAMhL,KAAK,GAAGklB,MAAM,CAACla,MAAM,CAAC1C,OAAP,CAAelS,KAAf,CAAqB,gBAArB,CAAD,CAApB;AACA,SAAO+uB,KAAK,CAACnlB,KAAD,CAAL,GAAe,CAAf,GAAmBolB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYrlB,KAAZ,CAA1B;AACD;;AAED,SAASslB,cAAT,GAA0B;AACxB,SAAO,CAAP;AACD;;eAEc,iCACb;AACE,8BAA4BL,uBAD9B;AAEEM,gBAAc,EAAED;AAFlB,CADa,EAKb5Z,YALa,C;;;;;;;;;;;;;;;;;;;;;ACbf;;AAEA,IAAMA,YAAY,GAAG,EAArB;;AAEA,SAAS8Z,yBAAT,CAAmC5X,CAAnC,EAAsC5C,MAAtC,EAA8C;AAC5C,SAAOA,MAAM,CAAC1C,OAAP,CAAelS,KAAf,CAAqBvH,MAA5B;AACD;;AAED,SAAS42B,WAAT,CAAqB7X,CAArB,EAAwB5C,MAAxB,EAAgC;AAC9B,SAAOA,MAAM,CAAC1C,OAAd;AACD;;AAED,SAASod,eAAT,CAAyB9X,CAAzB,EAA4B5C,MAA5B,EAAoC;AAClC,SAAOA,MAAM,CAAC1C,OAAd;AACD;;eAEc,iCACb;AACE,8BAA4Bkd,yBAD9B;AAEEG,YAAU,EAAEF,WAFd;AAGEF,gBAAc,EAAEG;AAHlB,CADa,EAMbha,YANa,C;;;;;;;;;;;;;;;;;;;;;AChBf;;AAEA,IAAMA,YAAY,GAAG,EAArB;;AAEA,SAASka,sBAAT,CAAgChY,CAAhC,EAAmC5C,MAAnC,EAA2C;AACzC,SAAOA,MAAM,CAAC1C,OAAP,CAAelS,KAAf,CAAqBvH,MAA5B;AACD;;AAED,SAASy2B,cAAT,CAAwB1X,CAAxB,EAA2B5C,MAA3B,EAAmC;AACjC,SAAOA,MAAM,CAAC1C,OAAd;AACD;;eAEc,iCACb;AACE,8BAA4Bsd,sBAD9B;AAEEL,gBAAc,EAAED;AAFlB,CADa,EAKb5Z,YALa,C;;;;;;;;;;;;;;;;;;;;;eCZA,kBAAAlQ,KAAK;AAAA,SAAIA,KAAJ;AAAA,C;;;;;;;;;;;;;;;;;;;;;ACApB;;AAEA,IAAMkQ,YAAY,GAAG,OAArB;;AAEA,IAAM2X,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACzV,CAAD,QAAoB;AAAA,MAAdtF,OAAc,QAAdA,OAAc;AAChD,SAAOA,OAAO,CAAClS,KAAR,CAAc7J,KAAd,IAAuBmf,YAA9B;AACD,CAFD;;eAIe,iCACb;AACE,8BAA4B2X;AAD9B,CADa,EAIb3X,YAJa,C;;;;;;;;;;;;;;;;;;;;;ACRf;;AACA;;;;;;eAEe,kBAACV,MAAD,EAA0B;AAAA,MAAjBrN,OAAiB,uEAAP,EAAO;AACvC,uBACE,OAAOqN,MAAP,KAAkB,UADpB,qEAE8DA,MAF9D,8BAEuFA,MAFvF;AAKA,SAAO,iCACL;AACE,gCAA4B,+BAAC4C,CAAD,QAAoB;AAAA,UAAdtF,OAAc,QAAdA,OAAc;;AAC9C,UAAI,EAAE0C,MAAM,CAACrK,GAAP,IAAc2H,OAAO,CAAClS,KAAxB,CAAJ,EAAoC;AAClC,eAAOuH,OAAO,CAAC+N,YAAf;AACD;;AACD,aAAOpD,OAAO,CAAClS,KAAR,CAAc4U,MAAM,CAACrK,GAArB,MAA8B,MAArC;AACD;AANH,GADK,EASLhD,OAAO,CAAC+N,YATH,CAAP;AAWD,C;;;;;;;;;;;;;;;;;;;;;ACpBD;;AACA;;AACA;;;;AAEA,IAAMA,YAAY,GAAG;AACnB9b,QAAM,EAAE,CADW;AAEnBD,OAAK,EAAE;AAFY,CAArB;;eAKe,qDAEVuuB,qBAFU,EAEK2H,cAFL,GAIbna,YAJa,C;;;;AAOf,SAASma,cAAT,CAAwBrqB,KAAxB,QAA4C;AAAA,MAAX8M,OAAW,QAAXA,OAAW;AAC1C,MAAMlO,IAAI,GAAG;AAAEzK,SAAK,EAAE2Y,OAAO,CAAC3Y,KAAjB;AAAwBC,UAAM,EAAE0Y,OAAO,CAAC1Y;AAAxC,GAAb;;AACA,MAAI,CAAC,qBAAQwK,IAAR,EAAcoB,KAAd,CAAL,EAA2B;AACzB,WAAOpB,IAAP;AACD;;AACD,SAAOoB,KAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACtBD;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;AAEe,kBAASsW,KAAT,EAAgB;AAC7B,MAAMtW,KAAK,GAAGsW,KAAK,CAACnJ,QAAN,EAAd;AACA,SACE,6BAAC,kBAAD;AAAO,QAAI,EAAEnN,KAAK,CAAC4Q,IAAnB;AAAyB,aAAS,EAAEgS;AAApC,KACE,6BAAC,uBAAD;AAAY,aAAS,EAAE7L;AAAvB,IADF,EAEE,6BAAC,kBAAD;AAAO,QAAI,EAAC,WAAZ;AAAwB,aAAS,EAAE8D;AAAnC,IAFF,EAGE,6BAAC,kBAAD;AAAO,QAAI,EAAC,OAAZ;AAAoB,aAAS,EAAE9D;AAA/B,IAHF,EAIE,6BAAC,kBAAD;AAAO,QAAI,EAAC,GAAZ;AAAgB,aAAS,EAAEuT;AAA3B,IAJF,CADF;AAQD,C;;;;;;;;;;;;;;;;;;;AClBD;;AACA;;;;AAEO,IAAMnY,SAAS,GAAG,8BACvBwS,aADuB,EAEvB,UAAA3kB,KAAK;AAAA,SAAIA,KAAK,CAAC4Q,IAAV;AAAA,CAFkB,EAGvB,UAACjb,IAAD,EAAOib,IAAP,EAAgB;AACd,MAAI,CAACjb,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AACD,MAAIA,IAAI,CAAC6X,WAAL,KAAqB,SAAzB,EAAoC;AAClC,WAAO,IAAP;AACD;;AACD,mBAAU8E,MAAM,CAAC1B,IAAD,CAAhB,uBAAmCjb,IAAI,CAACqF,EAAxC;AACD,CAXsB,CAAlB;;;AAcP,SAASsX,MAAT,CAAgB1B,IAAhB,EAAsB;AACpB,SAAOA,IAAI,CAAC4B,MAAL,CAAY5B,IAAI,CAACnc,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACHmc,IAAI,CAACpC,KAAL,CAAW,CAAX,EAAcoC,IAAI,CAACnc,MAAL,GAAc,CAA5B,CADG,GAEHmc,IAFJ;AAGD,C;;;;;;;;;;;;;;;;;;;ACrBD;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAM2Z,EAAE,GAAG,8BACT,UAAAvqB,KAAK;AAAA,SAAIA,KAAK,CAAC+hB,MAAN,CAAajH,IAAjB;AAAA,CADI,EAET,UAAA9a,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAFI,EAGT,UAAAgF,KAAK;AAAA,SAAIA,KAAK,CAACopB,WAAV;AAAA,CAHI,EAIT,UAAAppB,KAAK;AAAA,SAAIA,KAAK,CAAC6N,OAAN,CAAcC,yBAAlB;AAAA,CAJI,EAKT,UAAA9N,KAAK;AAAA,SAAIA,KAAK,CAAC4Q,IAAV;AAAA,CALI,EAMT;AAAA,SAAM;AAAA,WAAM,EAAN;AAAA,GAAN;AAAA,CANS,EAOT,UAAC4Z,IAAD,EAAOxvB,EAAP,EAAWyvB,IAAX,EAAiB7c,QAAjB,EAA2BgD,IAA3B,EAAiCvd,MAAjC,EAA4C;AAC1C,MAAMqI,OAAO,GAAG;AAAE+uB,QAAI,EAAJA,IAAF;AAAQzvB,MAAE,EAAFA,EAAR;AAAYsX,UAAM,EAAE,KAApB;AAA2B1E,YAAQ,EAARA,QAA3B;AAAqCgD,QAAI,EAAJA,IAArC;AAA2Cvd,UAAM,EAANA;AAA3C,GAAhB;AACA,SAAO,mBAAQ,oBAAS,mBAAM,EAAN,EAAUm3B,IAAV,CAAT,EAA0B9uB,OAA1B,CAAR,EAA4CoU,MAA5C,CAAmD,UAAAna,IAAI;AAAA,WAAIA,IAAI,CAAC/H,IAAL,KAAc,QAAlB;AAAA,GAAvD,CAAP;AACD,CAVQ,CAAX;AAaA,IAAM88B,cAAc,GAAG,8BACrBH,EADqB,EAErBI,gBAFqB,EAGrB,UAAA3qB,KAAK;AAAA,SAAK;AACRyqB,QAAI,EAAEzqB,KAAK,CAACopB,WADJ;AAERpuB,MAAE,EAAEgF,KAAK,CAAChF,EAFF;AAGR4S,YAAQ,EAAE5N,KAAK,CAAC6N,OAAN,CAAcC,yBAHhB;AAIR8C,QAAI,EAAE5Q,KAAK,CAAC4Q,IAJJ;AAKR0B,UAAM,EAAE,KALA;AAMRjf,UAAM,EAAE;AAAA,aAAM,EAAN;AAAA;AANA,GAAL;AAAA,CAHgB,EAWrB,UAACynB,IAAD,EAAO8P,GAAP,EAAYlvB,OAAZ,EAAwB;AACtB,SAAOof,IAAI,CACR5G,GADI,CACA,UAAAliB,CAAC;AAAA,WAAI,kBAAOA,CAAP,EAAU0J,OAAV,CAAJ;AAAA,GADD,EAEJmvB,MAFI,CAEGD,GAFH,EAGJ9a,MAHI,CAGG,UAAAna,IAAI;AAAA,WAAIgN,OAAO,CAAChN,IAAI,CAACqF,EAAN,CAAP,IAAoB2H,OAAO,CAAChN,IAAI,CAAC6X,WAAN,CAA/B;AAAA,GAHP,CAAP;AAID,CAhBoB,CAAvB;AAkBA,IAAMsd,eAAe,GAAG,8BACtBJ,cADsB,EAEtB,UAAAK,QAAQ,EAAI;AACV,MAAM13B,MAAM,GAAG,0BAAa03B,QAAb,CAAf;AACA,SAAO,UAAA1hB,IAAI,EAAI;AACb,QAAM2hB,OAAO,GAAG33B,MAAM,CAACgW,IAAD,CAAtB;AACA,WAAO2hB,OAAO,CAAC9W,GAAR,CAAY,UAAAve,IAAI;AAAA,aAAIo1B,QAAQ,CAAC1J,IAAT,CAAc,UAAA/rB,CAAC;AAAA,eAAIA,CAAC,CAAC0F,EAAF,KAASrF,IAAb;AAAA,OAAf,CAAJ;AAAA,KAAhB,CAAP;AACD,GAHD;AAID,CARqB,CAAxB;AAWA,IAAMs1B,cAAc,GAAG,8BACrB,UAAAjrB,KAAK;AAAA,SAAIA,KAAK,CAAC+hB,MAAN,CAAajH,IAAjB;AAAA,CADgB,EAErB,UAAA9a,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAFgB,EAGrB,UAAAgF,KAAK;AAAA,SAAIA,KAAK,CAACopB,WAAV;AAAA,CAHgB,EAIrB,UAAAppB,KAAK;AAAA,SAAIA,KAAK,CAAC6N,OAAN,CAAcC,yBAAlB;AAAA,CAJgB,EAKrB,UAAA9N,KAAK;AAAA,SAAIA,KAAK,CAAC4Q,IAAV;AAAA,CALgB,EAMrBka,eANqB,EAOrB,UAACN,IAAD,EAAOxvB,EAAP,EAAWyvB,IAAX,EAAiB7c,QAAjB,EAA2BgD,IAA3B,EAAiCvd,MAAjC,EAA4C;AAC1C,MAAMqI,OAAO,GAAG;AAAE+uB,QAAI,EAAJA,IAAF;AAAQzvB,MAAE,EAAFA,EAAR;AAAYsX,UAAM,EAAE,KAApB;AAA2B1E,YAAQ,EAARA,QAA3B;AAAqCgD,QAAI,EAAJA,IAArC;AAA2Cvd,UAAM,EAANA;AAA3C,GAAhB;AACA,SAAO,oBAAS,mBAAM,EAAN,EAAUm3B,IAAV,CAAT,EAA0B9uB,OAA1B,CAAP;AACD,CAVoB,CAAvB;AAaA,IAAMwvB,eAAe,GAAG,8BACtBD,cADsB,EAEtB,UAACT,IAAD,EAAU;AACR,MAAM90B,IAAI,GAAG,mBAAQ80B,IAAR,CAAb;AACA,SAAO90B,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAP,GAAY,IAAvB;AACD,CALqB,CAAxB;AAQA,IAAMy1B,aAAa,GAAG,8BACpBF,cADoB,EAEpB,UAAAT,IAAI;AAAA,SAAI,mBAAQA,IAAR,EACLtW,GADK,CACD,UAAAve,IAAI;AAAA,WAAI,CAACA,IAAI,CAACwV,QAAL,CAAchJ,OAAd,IAAyB,EAA1B,EAA8BvH,KAAlC;AAAA,GADH,EAELkV,MAFK,CAEEnN,OAFF,CAAJ;AAAA,CAFgB,CAAtB;AAOA,IAAMyoB,aAAa,GAAG,8BACpBH,cADoB,EAEpBE,aAFoB,EAGpB,UAACX,IAAD,EAAOa,OAAP,EAAmB;AACjB,MAAMh4B,MAAM,GAAG,0BAAa,mBAAQm3B,IAAR,CAAb,CAAf;AACA,SAAOa,OAAO,CAAChc,MAAR,CAAe,UAAC2U,GAAD,EAAMppB,KAAN,EAAgB;AACpC,WAAOopB,GAAG,CAAC6G,MAAJ,CAAWx3B,MAAM,CAACuH,KAAD,CAAN,CAAckV,MAAd,CAAqB,UAAAjc,CAAC;AAAA,aAAImwB,GAAG,CAACxT,OAAJ,CAAY3c,CAAZ,MAAmB,CAAC,CAAxB;AAAA,KAAtB,CAAX,CAAP;AACD,GAFM,EAEJ,EAFI,CAAP;AAGD,CARmB,CAAtB;AAWA,IAAMgzB,UAAU,GAAG,8BACjBoE,cADiB,EAEjBC,eAFiB,EAGjBE,aAHiB,EAIjB,UAAAprB,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAJY,EAKjB,UAACwvB,IAAD,EAAO3F,KAAP,EAAcyG,OAAd,EAAuBtwB,EAAvB,EAA8B;AAC5BwvB,MAAI,CAAC95B,QAAL,GAAgB85B,IAAI,CAAC95B,QAAL,CAAcof,MAAd,CAAqB,UAAAhT,KAAK;AAAA,WAAIA,KAAK,CAAClP,IAAN,KAAe,QAAf,IAA2B09B,OAAO,CAAC9a,OAAR,CAAgB1T,KAAK,CAAC9B,EAAtB,MAA8B,CAAC,CAA9D;AAAA,GAA1B,CAAhB;;AAEA,MAAIA,EAAE,KAAK,GAAP,IAAc6pB,KAAlB,EAAyB;AACvBA,SAAK,CAACrjB,MAAN,GAAe,IAAf;AACD;;AACD,SAAOgpB,IAAP;AACD,CAZgB,CAAnB;eAee3D,U;;AACR,IAAM0E,IAAI,GAAG,8BAAe1E,UAAf,EAA2Bvd,aAA3B,CAAb;;;;;;;;;;;;;;;;;;;;ACvGP;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMU,KAAK,GAAG;AACZE,OAAK,EAAE,CADK;AAEZC,MAAI,EAAE,CAFM;AAGZC,IAAE,EAAE,CAHQ;AAIZC,QAAM,EAAE,CAJI;AAKZJ,YAAU,EAAE;AALA,CAAd;AAQA,IAAMuhB,MAAM,GAAG;AACb;;;;;;;AAOA;AACE59B,MAAI,EAAE,OADR;AAEEuX,KAAG,EAAE,MAFP;AAGE1K,OAAK,EAAE,MAHT;AAIEyQ,aAAW,EAAE,0BAJf;AAKEK,WAAS,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,GAAZ,EAAiB,IAAjB,EAAuB,GAAvB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC;AALb,CARa,EAeb;AACE3d,MAAI,EAAE,OADR;AAEEuX,KAAG,EAAE,IAFP;AAGE1K,OAAK,EAAE,IAHT;AAIEyQ,aAAW,EAAE,uBAJf;AAKEK,WAAS,EAAE,CAAC,GAAD,EAAM,IAAN;AALb,CAfa,EAsBb;AACE3d,MAAI,EAAE,OADR;AAEEuX,KAAG,EAAE,KAFP;AAGE1K,OAAK,EAAE,KAHT;AAIEyQ,aAAW,EAAE,wBAJf;AAKEK,WAAS,EAAE,CAAC,GAAD,EAAM,IAAN;AALb,CAtBa;AA6Bb;;;;;;;AAOA;AACE3d,MAAI,EAAE,OADR;AAEEuX,KAAG,EAAE,MAFP;AAGE1K,OAAK,EAAE,MAHT;AAIEyQ,aAAW,EAAE,yBAJf;AAKEK,WAAS,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,EAAkB,IAAlB;AALb,CApCa,EA2Cb;AACE3d,MAAI,EAAE,OADR;AAEEuX,KAAG,EAAE,SAFP;AAGE1K,OAAK,EAAE,SAHT;AAIEyQ,aAAW,EAAE,2BAJf;AAKEK,WAAS,EAAE,CAAC,GAAD,EAAM,IAAN,EAAY,GAAZ,EAAiB,IAAjB,EAAuB,GAAvB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC;AALb,CA3Ca,CAAf;AAoDA,IAAMG,SAAS,GAAG,CAChB;AACE9d,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,GAFP;AAGE+F,aAAW,EAAE;AAHf,CADgB,EAMhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,IAFP;AAGE+F,aAAW,EAAE;AAHf,CANgB,EAWhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,GAFP;AAGE+F,aAAW,EAAE;AAHf,CAXgB,EAgBhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,IAFP;AAGE+F,aAAW,EAAE;AAHf,CAhBgB,EAqBhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,GAFP;AAGE+F,aAAW,EAAE;AAHf,CArBgB,EA0BhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,IAFP;AAGE+F,aAAW,EAAE;AAHf,CA1BgB,EA+BhB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,IAFP;AAGE+F,aAAW,EAAE;AAHf,CA/BgB,EAoChB;AACEtd,MAAI,EAAE,IADR;AAEEuX,KAAG,EAAE,IAFP;AAGE+F,aAAW,EAAE;AAHf,CApCgB,CAAlB;AA2CA,IAAMugB,YAAY,GAAG,8BACnBC,UADmB,EAEnBxiB,oBAFmB,CAArB;AAKA,IAAMyiB,aAAa,GAAG,8BACpBF,YADoB,EAEpB,UAAAzrB,KAAK;AAAA,SAAIA,KAAK,CAAC3M,MAAV;AAAA,CAFe,EAGpB,UAACA,MAAD,EAAS4N,WAAT,EAAyB;AACvB,MAAI,OAAOA,WAAP,KAAuB,QAAvB,IAAmCA,WAAW,CAACxM,MAAZ,GAAqB,CAA5D,EAA+D;AAC7D,WAAO,EAAP;AACD;;AACD,SAAOpB,MAAM,CAAC4N,WAAD,CAAb;AACD,CARmB,CAAtB;AAWA,IAAM2qB,iBAAiB,GAAG,8BACxB,UAAA5rB,KAAK;AAAA,SAAIA,KAAK,CAACqnB,WAAV;AAAA,CADmB,EAExB,UAAAh0B,MAAM;AAAA,SAAI0V,cAAMU,KAAN,CAAYpW,MAAZ,CAAJ;AAAA,CAFkB,CAA1B;AAKA,IAAMw4B,eAAe,GAAG,8BAAeD,iBAAf,EAAkC,UAAA1qB,MAAM;AAAA,SAC9D4qB,IAAI,CAAC5qB,MAAD,CAD0D;AAAA,CAAxC,CAAxB;;AAIA,SAAS4qB,IAAT,CAAclxB,KAAd,EAAqB;AACnB,UAAQA,KAAK,CAAChN,IAAd;AACE,SAAK,QAAL;AACE,aAAOgN,KAAK,CAACH,KAAb;;AACF,SAAK,KAAL;AACA,SAAK,IAAL;AACA;AAAS;AACP,YAAM+O,CAAC,GAAG5O,KAAK,IAAI,EAAnB;AACA,YAAM+O,MAAM,GAAGH,CAAC,CAACG,MAAF,IAAY,EAA3B;AACA,YAAMoiB,IAAI,GAAGpiB,MAAM,CAACA,MAAM,CAAClV,MAAP,GAAgB,CAAjB,CAAnB;AACA,eAAOs3B,IAAI,GAAGD,IAAI,CAACC,IAAD,CAAP,GAAgB,EAA3B;AACD;AAVH;AAYD;;AAED,IAAMC,YAAY,GAAG,8BAAeH,eAAf,EAAgC,UAAAjxB,KAAK;AAAA,SACxD4wB,MAAM,CAAC1b,MAAP,CAAc,UAAAmc,CAAC;AAAA,WAAIA,CAAC,CAACxxB,KAAF,CAAQwR,UAAR,CAAmBrR,KAAnB,CAAJ;AAAA,GAAf,CADwD;AAAA,CAArC,CAArB;AAIA,IAAMsxB,cAAc,GAAG,8BACrB,UAAAlsB,KAAK;AAAA,SAAIA,KAAK,CAACqnB,WAAV;AAAA,CADgB,EAErBwE,eAFqB,EAGrB,UAACpxB,KAAD,EAAQG,KAAR,EAAkB;AAChB,MAAIA,KAAK,CAACnG,MAAN,KAAiB,CAArB,EAAwB;AACtB,WAAO,IAAP;AACD;;AAED,SAAO+2B,MAAM,CAACnK,IAAP,CAAY,UAAA4K,CAAC;AAAA,WAAIrxB,KAAK,CAACqR,UAAN,CAAiBggB,CAAC,CAACxxB,KAAnB,CAAJ;AAAA,GAAb,CAAP;AACD,CAToB,CAAvB;AAYA,IAAM0xB,iBAAiB,GAAG,8BAAeN,eAAf,EAAgC,UAAAjxB,KAAK;AAAA,SAC7DqO,aAAKQ,KAAL,CAAW7O,KAAX,CAD6D;AAAA,CAArC,CAA1B;AAIA,IAAMwxB,SAAS,GAAG,8BAChBD,iBADgB,EAEhBD,cAFgB,EAGhB,UAAChrB,MAAD,EAASmrB,GAAT,EAAiB;AACf,MAAI,CAACA,GAAL,EAAU;AACR,WAAO,EAAP;AACD;;AACD,SAAOA,GAAG,CAAC9gB,SAAJ,CACJ2I,GADI,CACA,UAAAoY,CAAC;AAAA,WAAI5gB,SAAS,CAAC2V,IAAV,CAAe,UAAAkL,EAAE;AAAA,aAAIA,EAAE,CAACpnB,GAAH,KAAWmnB,CAAf;AAAA,KAAjB,CAAJ;AAAA,GADD,EAEJxc,MAFI,CAEG,UAAAwc,CAAC;AAAA,WAAI,CAACprB,MAAM,CAACqK,SAAR,IAAqB+gB,CAAC,CAACnnB,GAAF,CAAM1W,QAAN,CAAeyS,MAAM,CAACqK,SAAtB,CAAzB;AAAA,GAFJ,EAGJ2I,GAHI,CAGA,UAAAoY,CAAC,EAAI;AACRA,KAAC,CAAC7xB,KAAF,aAAa4xB,GAAG,CAAC5xB,KAAjB,SAAyB6xB,CAAC,CAACnnB,GAA3B;AACA,WAAOmnB,CAAP;AACD,GANI,CAAP;AAOD,CAde,CAAlB;AAiBA,IAAME,YAAY,GAAG,8BACnBL,iBADmB,EAEnBC,SAFmB,EAGnB,UAACxxB,KAAD,EAAQ6xB,GAAR,EAAgB;AACd,SAAOA,GAAG,CAACpL,IAAJ,CAAS,UAAAtsB,CAAC,EAAI;AACnB,QAAI6F,KAAK,CAACgR,OAAV,EAAmB;AACjB,aAAO7W,CAAC,CAACoQ,GAAF,gBAAcvK,KAAK,CAAC2Q,SAApB,CAAP;AACD;;AACD,WAAOxW,CAAC,CAACoQ,GAAF,KAAUvK,KAAK,CAAC2Q,SAAvB;AACD,GALM,CAAP;AAMD,CAVkB,CAArB;AAaO,IAAMmhB,WAAW,GAAG,8BACzBhB,UADyB,EAEzBC,aAFyB,EAGzB,UAACre,IAAD,EAAO0d,OAAP,EAAmB;AACjB,MAAM2B,MAAM,GAAG,oBACb,oBAAO3B,OAAO,CAAC9W,GAAR,CAAY,UAAAgR,KAAK;AAAA,WAAI5X,IAAI,CAAC+T,IAAL,CAAU,UAAA/rB,CAAC;AAAA,aAAIA,CAAC,CAAC0F,EAAF,KAASkqB,KAAb;AAAA,KAAX,CAAJ;AAAA,GAAjB,CAAP,EAA6D,aAA7D,CADa,EAEb,IAFa,CAAf;AAIA,SAAOyH,MAAM,CAACzY,GAAP,CAAW,UAAC/d,CAAD,EAAIpB,CAAJ,EAAU;AAC1BoB,KAAC,CAACqO,KAAF,GAAUzP,CAAV;AACA,WAAOoB,CAAP;AACD,GAHM,CAAP;AAID,CAZwB,CAApB;;AAeA,IAAM+wB,cAAc,GAAG,8BAAewF,WAAf,EAA4B,UAAA12B,KAAK;AAAA,SAC7DA,KAAK,CAAC8Z,MAAN,CAAa,UAAAmc,CAAC;AAAA,WAAIA,CAAC,CAACze,WAAF,KAAkB,SAAtB;AAAA,GAAd,CAD6D;AAAA,CAAjC,CAAvB;;AAIP,IAAMof,iBAAiB,GAAG,8BAAelB,UAAf,EAA+B,UAAApe,IAAI;AAAA,SAC3DA,IAAI,CAACwC,MAAL,CAAY,UAAAmc,CAAC;AAAA,WAAIA,CAAC,CAACze,WAAF,KAAkB,SAAtB;AAAA,GAAb,CAD2D;AAAA,CAAnC,CAA1B;AAIA,IAAMqf,aAAa,GAAG,8BACpBD,iBADoB,EAEpBT,iBAFoB,EAGpBD,cAHoB,EAIpBM,YAJoB,EAKpB,UAACM,QAAD,EAAW5rB,MAAX,EAAmBrM,KAAnB,EAA0B03B,EAA1B,EAAiC;AAC/B,MAAI,CAAC13B,KAAD,IAAU,CAAC03B,EAAf,EAAmB;AACjB,WAAO,EAAP;AACD;;AAED,UAAQ13B,KAAK,CAACsQ,GAAd;AACE,SAAK,KAAL;AACE,aAAO,CACL;AACEvX,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,MAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,MAApB,EAA4B6K,IAA5B,CAAiC,EAAjC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OADK;AAOL;;;;;;;;;;;;AAYA;AACEtd,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,MAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,MAApB,EAA4B6K,IAA5B,CAAiC,EAAjC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OAnBK,EAyBL;AACEtd,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,SAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,SAApB,EAA+B6K,IAA/B,CAAoC,EAApC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OAzBK,EA+BL;AACEtd,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,aAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,aAApB,EAAmC6K,IAAnC,CAAwC,EAAxC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OA/BK,EAqCL;AACEtd,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,aAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,aAApB,EAAmC6K,IAAnC,CAAwC,EAAxC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OArCK,EA2CL;AACEtd,YAAI,EAAE,SADR;AAEEuX,WAAG,EAAE,MAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,MAApB,EAA4B6K,IAA5B,CAAiC,EAAjC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OA3CK,CAAP;;AAkDF,SAAK,SAAL;AACA,SAAK,UAAL;AACE,aAAO4hB,QAAQ,CACZhd,MADI,CACG,UAAAna,IAAI;AAAA,eAAIA,IAAI,CAACqF,EAAL,CAAQiR,UAAR,CAAmB/K,MAAM,CAACzG,KAAP,IAAgB,EAAnC,CAAJ;AAAA,OADP,EAEJyZ,GAFI,CAEA,UAAAve,IAAI,EAAI;AACX,eAAO;AACL/H,cAAI,EAAE,SADD;AAELuX,aAAG,EAAExP,IAAI,CAACqF,EAFL;AAGLP,eAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoBxP,IAAI,CAACqF,EAAzB,EAA6BgV,IAA7B,CAAkC,EAAlC,CAHF;AAIL9E,qBAAW,YAAKvV,IAAI,CAACqF,EAAV;AAJN,SAAP;AAMD,OATI,CAAP;;AAUF,SAAK,MAAL;AACE,aAAO,kBAAK,qBAAQ8xB,QAAQ,CAAC5Y,GAAT,CAAa,UAAAve,IAAI;AAAA,eAAIA,IAAI,CAACwV,QAAL,CAAcL,IAAlB;AAAA,OAAjB,CAAR,CAAL,EACJgF,MADI,CACGnN,OADH,EAEJuR,GAFI,CAEA,UAAA3mB,GAAG,EAAI;AACV,eAAO;AACLK,cAAI,EAAE,KADD;AAELuX,aAAG,EAAE5X,GAFA;AAGLkN,eAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB5X,GAApB,EAAyByiB,IAAzB,CAA8B,EAA9B,CAHF;AAIL9E,qBAAW,EAAE3d;AAJR,SAAP;AAMD,OATI,CAAP;;AAUF,SAAK,SAAL;AAAgB;AACd,YAAMw/B,QAAQ,GAAG,oBACfD,QAAQ,CACLhd,MADH,CACU,UAAAna,IAAI;AAAA,iBACVA,IAAI,CAACwV,QAAL,CAAclR,OAAd,CAAsBgS,UAAtB,CAAiC/K,MAAM,CAACzG,KAAP,IAAgB,EAAjD,CADU;AAAA,SADd,EAIGyZ,GAJH,CAIO,UAAAve,IAAI;AAAA,iBAAIA,IAAI,CAACwV,QAAL,CAAclR,OAAlB;AAAA,SAJX,CADe,EAOd6V,MAPc,CAOP,UAAA7V,OAAO;AAAA,iBAAIjB,gBAAOsS,KAAP,CAAarR,OAAb,CAAJ;AAAA,SAPA,EAQd+yB,IARc,CAQT,UAAChuB,CAAD,EAAIqG,CAAJ;AAAA,iBAAWrM,gBAAOi0B,EAAP,CAAUjuB,CAAV,EAAaqG,CAAb,IAAkB,CAAlB,GAAsB,CAAC,CAAlC;AAAA,SARS,CAAjB;AAUA,eAAO0nB,QAAQ,CAAC7Y,GAAT,CAAa,UAAAva,CAAC,EAAI;AACvB,iBAAO;AACL/L,gBAAI,EAAE,SADD;AAELuX,eAAG,EAAExL,CAFA;AAGLc,iBAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoBxL,CAApB,EAAuBqW,IAAvB,CAA4B,EAA5B,CAHF;AAIL9E,uBAAW,YAAKvR,CAAL;AAJN,WAAP;AAMD,SAPM,CAAP;AAQD;;AACD,SAAK,MAAL;AAAa;AACX,YAAMuzB,KAAK,GAAG,oBACZJ,QAAQ,CACLhd,MADH,CACU,UAAAna,IAAI;AAAA,iBAAIA,IAAI,CAACwV,QAAL,CAAcjR,IAAd,CAAmB+R,UAAnB,CAA8B/K,MAAM,CAACzG,KAAP,IAAgB,EAA9C,CAAJ;AAAA,SADd,EAEGyZ,GAFH,CAEO,UAAAve,IAAI;AAAA,iBAAIA,IAAI,CAACwV,QAAL,CAAcjR,IAAlB;AAAA,SAFX,CADY,EAKX4V,MALW,CAKJ,UAAA5V,IAAI;AAAA,iBAAI,OAAOA,IAAP,KAAgB,QAApB;AAAA,SALA,EAMX8yB,IANW,CAMN,UAAChuB,CAAD,EAAIqG,CAAJ,EAAU;AACd,cAAMgQ,KAAK,GAAG,CAACrL,KAAK,CAAChL,CAAD,CAAL,IAAY,CAAb,KAAmBgL,KAAK,CAAC3E,CAAD,CAAL,IAAY,CAA/B,CAAd;AACA,iBAAOgQ,KAAK,KAAK,CAAV,GAAcrW,CAAC,CAACmuB,aAAF,CAAgB9nB,CAAhB,CAAd,GAAmCgQ,KAA1C;AACD,SATW,CAAd;AAWA,eAAO6X,KAAK,CAAChZ,GAAN,CAAU,UAAA+X,CAAC,EAAI;AACpB,iBAAO;AACLr+B,gBAAI,EAAE,MADD;AAELuX,eAAG,EAAE8mB,CAFA;AAGLxxB,iBAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB8mB,CAApB,EAAuBjc,IAAvB,CAA4B,EAA5B,CAHF;AAIL9E,uBAAW,YAAK+gB,CAAL;AAJN,WAAP;AAMD,SAPM,CAAP;AAQD;;AACD,SAAK,IAAL;AACE,aAAO,CACL;AACEr+B,YAAI,EAAE,IADR;AAEEuX,WAAG,EAAE,SAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,SAApB,EAA+B6K,IAA/B,CAAoC,EAApC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OADK,EAOL;AACEtd,YAAI,EAAE,IADR;AAEEuX,WAAG,EAAE,KAFP;AAGE1K,aAAK,EAAE,CAAC5F,KAAK,CAACsQ,GAAP,EAAYonB,EAAE,CAACpnB,GAAf,EAAoB,KAApB,EAA2B6K,IAA3B,CAAgC,EAAhC,CAHT;AAIE9E,mBAAW,EAAE;AAJf,OAPK,CAAP;;AAcF;AACE,aAAO,EAAP;AApIJ;AAsID,CAhJmB,CAAtB;AAmJA,IAAMkiB,gBAAgB,GAAG,8BACvBjB,iBADuB,EAEvBU,aAFuB,EAGvB,UAACjyB,KAAD,EAAQ6xB,GAAR;AAAA,SAAgBA,GAAG,CAACne,IAAJ,CAAS,UAAAge,CAAC;AAAA,WAAIA,CAAC,CAAC7xB,KAAF,KAAYG,KAAK,CAAC+Q,GAAtB;AAAA,GAAV,CAAhB;AAAA,CAHuB,CAAzB;AAMO,IAAMwb,YAAY,GAAG,8BAC1ByE,iBAD0B,EAE1BO,iBAF0B,EAG1BH,YAH0B,EAI1BE,cAJ0B,EAK1BE,SAL0B,EAM1BI,YAN0B,EAO1BK,aAP0B,EAQ1BO,gBAR0B,EAS1B,UAACC,WAAD,EAAcnsB,MAAd,EAAsBpM,MAAtB,EAA8Bw4B,QAA9B,EAAwCb,GAAxC,EAA6Cc,MAA7C,EAAqDprB,OAArD,EAA8DqrB,UAA9D,EAA6E;AAC3E,MAAI,CAACF,QAAL,EAAe;AACb,WAAO;AACLjzB,UAAI,EAAE,QADD;AAELwP,WAAK,EAAE/U;AAFF,KAAP;AAID;;AAED,MAAI,CAACy4B,MAAD,IAAW,CAACrsB,MAAM,CAACzG,KAAvB,EAA8B;AAC5B,WAAO;AACLJ,UAAI,EAAE,WADD;AAELwP,WAAK,EAAE4iB;AAFF,KAAP;AAID;;AAED,MAAI,CAACe,UAAD,IAAeF,QAAf,IAA2BC,MAA/B,EAAuC;AACrC,WAAO;AACLlzB,UAAI,EAAEizB,QAAQ,CAACnoB,GADV;AAEL0E,WAAK,EAAE1H;AAFF,KAAP;AAID;;AAED,SAAO;AACL9H,QAAI,EAAE,EADD;AAELwP,SAAK,EAAE;AAFF,GAAP;AAID,CAnCyB,CAArB;;AAsCA,IAAMgd,UAAU,GAAG,8BAAe6F,WAAf,EAA4B,UAAA12B,KAAK;AAAA,SACzDA,KAAK,CAAC8Z,MAAN,CAAa,UAAAmc,CAAC;AAAA,WAAIA,CAAC,CAACze,WAAF,KAAkB,KAAtB;AAAA,GAAd,CADyD;AAAA,CAAjC,CAAnB;;AAIA,IAAM4Z,gBAAgB,GAAG,8BAC9B,UAAApnB,KAAK;AAAA,SAAIA,KAAK,CAACqnB,WAAV;AAAA,CADyB,EAE9BqE,UAF8B,EAG9BvE,YAH8B,EAI9B,UAAC9zB,MAAD,EAASia,IAAT,EAAeiT,MAAf,EAA0B;AACxB,MAAI,OAAOltB,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACoB,MAAP,KAAkB,CAApD,EAAuD;AACrD,WAAO,EAAP;AACD;;AAED,MAAMywB,KAAK,GAAG5X,IAAI,CAAC+T,IAAL,CAAU,UAAAjrB,CAAC;AAAA,WACvB,CAACA,CAAC,CAAC4E,EAAH,EAAO5E,CAAC,CAACiE,IAAT,EAAe,CAACjE,CAAC,CAAC+U,QAAF,IAAc,EAAf,EAAmBgM,WAAlC,EAA+C7I,IAA/C,CACE,UAAAmf,CAAC;AAAA,aAAIA,CAAC,IAAIA,CAAC,CAACxhB,UAAF,CAAa5Y,MAAb,CAAT;AAAA,KADH,CADuB;AAAA,GAAX,CAAd;;AAMA,MAAI6xB,KAAJ,EAAW;AACT,WACE,CAACA,KAAK,CAAClqB,EAAP,EAAWkqB,KAAK,CAAC7qB,IAAjB,EAAuB6qB,KAAK,CAAC/Z,QAAN,CAAegM,WAAtC,EAAmDkK,IAAnD,CACE,UAAAoM,CAAC;AAAA,aAAIA,CAAC,IAAIA,CAAC,CAACxhB,UAAF,CAAa5Y,MAAb,CAAT;AAAA,KADH,KAEK,EAHP;AAKD;;AAED,MAAMq6B,MAAM,GAAG,CAACnN,MAAM,CAAC1W,KAAP,IAAgB,EAAjB,EAAqBwX,IAArB,CAA0B,UAAAtsB,CAAC;AAAA,WAAIA,CAAC,CAAC0F,KAAF,CAAQwR,UAAR,CAAmB5Y,MAAnB,CAAJ;AAAA,GAA3B,CAAf;AACA,SAAOq6B,MAAM,GAAGA,MAAM,CAACjzB,KAAV,GAAkB,IAA/B;AACD,CAzB6B,CAAzB;;AA4BA,IAAMwsB,gBAAgB,GAAG,8BAC9B,UAAAjnB,KAAK;AAAA,SAAIA,KAAJ;AAAA,CADyB,EAE9B0sB,WAF8B,EAG9B,UAAA1sB,KAAK;AAAA,SAAIA,KAAK,CAACmV,aAAV;AAAA,CAHyB,EAI9B,UAACnV,KAAD,EAAQhK,KAAR,EAAe23B,OAAf,EAA2B;AACzB,MAAMnpB,KAAK,GAAGolB,IAAI,CAACgE,GAAL,CAASD,OAAT,EAAkB33B,KAAK,CAACvB,MAAN,GAAe,CAAjC,CAAd;AACA,MAAMkB,IAAI,GAAGK,KAAK,CAACwO,KAAD,CAAlB;AACA,SAAO7O,IAAI,GACPF,MAAM,CAACgwB,MAAP,CAAc,EAAd,EAAkB9vB,IAAlB,EAAwB;AACtB6O,SAAK,EAALA,KADsB;AAEtB4G,cAAU,EAAE,EAFU;AAEP;AACfjZ,gBAAY,EAAE,EAHQ,CAGL;;AAHK,GAAxB,CADO,GAMPwD,IANJ;AAOD,CAd6B,CAAzB;;;;;;;;;;;;;;;;;;;;AC7bP;;AACA;;AACA;;AACA;;;;AAEA,IAAMk4B,aAAa,GAAG,8BACpBhH,UADoB,EAEpB,UAAA/L,IAAI,EAAI;AACN,SAAOA,IAAI,CAAChL,MAAL,CAAY,UAAA9d,CAAC,EAAI;AAAA,QACfmZ,QADe,GACHnZ,CADG,CACfmZ,QADe;AAAA,4BAECA,QAFD,CAEfhJ,OAFe;AAAA,QAEfA,OAFe,kCAEL,EAFK;AAAA,yBAGDA,OAHC,CAGfvH,KAHe;AAAA,QAGfA,KAHe,+BAGP,EAHO;AAItB,WAAO+H,OAAO,CAAC/H,KAAD,CAAd;AACD,GALM,CAAP;AAMD,CATmB,CAAtB;AAYA,IAAM+pB,UAAU,GAAG,8BACjBC,UADiB,EAEjB,UAAA5kB,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAFY,EAGjB,UAACsS,IAAD,EAAOtS,EAAP,EAAc;AACZ,MAAMrF,IAAI,GAAG2X,IAAI,CAAC+T,IAAL,CAAU,UAAA1rB,IAAI;AAAA,WAAIqF,EAAE,eAAQrF,IAAI,CAAC6X,WAAb,cAA4B7X,IAAI,CAACqF,EAAjC,CAAN;AAAA,GAAd,CAAb;;AAEA,MAAIrF,IAAJ,EAAU;AACR,WAAOA,IAAP;AACD;;AAED,MAAIqF,EAAE,KAAK,GAAX,EAAgB;AACd,WAAOsS,IAAI,CAAC,CAAD,CAAX;AACD;AACF,CAbgB,CAAnB;eAgBeqX,U;;;AAEf,IAAM7U,MAAM,GAAG,SAATA,MAAS,CAAA1N,MAAM,EAAI;AACvB,SAAOA,MAAM,GACT,UAAAzM,IAAI;AAAA,WAAI,CAACA,IAAI,CAACwV,QAAL,CAAchJ,OAAd,IAAyB,EAA1B,EAA8BC,MAA9B,KAAyC,IAA7C;AAAA,GADK,GAET,UAAArN,CAAC;AAAA,WAAIA,CAAJ;AAAA,GAFL;AAGD,CAJD;;AAMA,IAAM+4B,YAAY,GAAG,8BAAe,UAAA9tB,KAAK;AAAA,SAAIA,KAAK,CAACyqB,IAAV;AAAA,CAApB,EAAoC,UAAAA,IAAI;AAAA,SAAI3a,MAAM,CAAC2a,IAAD,CAAV;AAAA,CAAxC,CAArB;;AAEA,IAAMsD,QAAQ,GAAG,SAAXA,QAAW,CAAA5oB,GAAG;AAAA,SAAI,uBAAuBA,GAAvB,EAA4Bwf,UAA5B,EAAwCmJ,YAAxC,CAAJ;AAAA,CAApB;;AAEO,IAAME,kBAAkB,GAAGD,QAAQ,CAAC,cAAD,CAAnC;;AACA,IAAME,gBAAgB,GAAGF,QAAQ,CAAC,YAAD,CAAjC;;AAEA,IAAMG,cAAc,GAAG,8BAC5BvJ,UAD4B,EAE5B,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGmU,IAAI,CAACsO,SAAL,CAAeziB,IAAI,CAACwV,QAApB,EAA8B,IAA9B,EAAoC,IAApC,CAAH,GAA+C,EAAxD;AAAA,CAFwB,CAAvB;;AAKA,IAAM4b,iBAAiB,GAAG,8BAC/BpC,UAD+B,EAE/B,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAAC6X,WAAR,GAAsB,EAA/B;AAAA,CAF2B,CAA1B;;AAKA,IAAM2O,UAAU,GAAG,8BACxBwI,UADwB,EAExB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAAC/H,IAAR,GAAe,EAAxB;AAAA,CAFoB,CAAnB;;AAKA,IAAMw4B,YAAY,GAAG,8BAC1BzB,UAD0B,EAE1B,UAAA3kB,KAAK;AAAA,SAAIA,KAAK,CAACoN,aAAV;AAAA,CAFqB,EAG1B,UAACzX,IAAD,EAAOtC,MAAP;AAAA,SAAkB,CAACA,MAAD,IAAWsC,IAAI,KAAK,IAApB,IAA4B,OAAOA,IAAP,KAAgB,WAA9D;AAAA,CAH0B,CAArB;;AAMA,IAAMumB,UAAU,GAAG,8BACxByI,UADwB,EAExB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAc9I,IAAd,IAAsB1M,IAAI,CAAC/H,IAA9B,GAAqC,EAA9C;AAAA,CAFoB,CAAnB;;AAKA,IAAM6U,UAAU,GAAG,8BACxBkiB,UADwB,EAExB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAcgM,WAAjB,GAA+B,EAAxC;AAAA,CAFoB,CAAnB;;AAKA,IAAMkF,UAAU,GAAG,8BACxBsI,UADwB,EAExB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAcL,IAAd,IAAsB,EAAzB,GAA8B,EAAvC;AAAA,CAFoB,CAAnB;;AAKA,IAAMwR,aAAa,GAAG,8BAC3BqI,UAD2B,EAE3B,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAclR,OAAjB,GAA2B,EAApC;AAAA,CAFuB,CAAtB;;AAKA,IAAMmiB,UAAU,GAAG,8BACxBuI,UADwB,EAExB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAcjR,IAAjB,GAAwB,EAAjC;AAAA,CAFoB,CAAnB;;AAKA,IAAMi0B,QAAQ,GAAG,8BACtBxJ,UADsB,EAEtB,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACqF,EAAR,GAAa,EAAtB;AAAA,CAFkB,CAAjB;;AAKA,IAAMghB,cAAc,GAAG,8BAAe2I,UAAf,EAA2B,UAAAhvB,IAAI,EAAI;AAC/D,MAAI,CAACA,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AACD,SAAO,OAAOA,IAAI,CAACsc,QAAZ,KAAyB,QAAzB,GAAoCtc,IAAI,CAACsc,QAAzC,GAAoD,IAA3D;AACD,CAL6B,CAAvB;;AAOA,IAAMgK,iBAAiB,GAAG,8BAC/B0I,UAD+B,EAE/B,UAAAhvB,IAAI;AAAA,SAAKA,IAAI,GAAGA,IAAI,CAACwV,QAAL,CAAcD,WAAjB,GAA+B,EAAxC;AAAA,CAF2B,CAA1B;;;;;;;;;;;;;;;;;;;;AC1GP;;AACA;;AACA;;AAEA,IAAMqb,UAAU,GAAG,8BACjB,UAAAvmB,KAAK;AAAA,SAAIA,KAAK,CAAC+hB,MAAN,CAAae,IAAjB;AAAA,CADY,EAEjB,UAAA9iB,KAAK;AAAA,SAAIA,KAAK,CAAChF,EAAV;AAAA,CAFY,EAGjB,UAAAgF,KAAK;AAAA,SAAIA,KAAK,CAACopB,WAAV;AAAA,CAHY,EAIjB,UAAAppB,KAAK;AAAA,SAAIA,KAAK,CAAC6N,OAAN,CAAcC,yBAAlB;AAAA,CAJY,EAKjB,UAAA9N,KAAK;AAAA,SAAIA,KAAK,CAAC4Q,IAAV;AAAA,CALY,EAMjB,UAAC4Z,IAAD,EAAOxvB,EAAP,EAAWyvB,IAAX,EAAiB7c,QAAjB,EAA2BgD,IAA3B,EAAoC;AAClC,MAAMlV,OAAO,GAAG;AAAEkV,QAAI,EAAJA,IAAF;AAAQ6Z,QAAI,EAAJA,IAAR;AAAczvB,MAAE,EAAFA,EAAd;AAAkBsX,UAAM,EAAE,SAA1B;AAAqC1E,YAAQ,EAARA;AAArC,GAAhB;AACA,SAAO,oBAAS,mBAAM,EAAN,EAAU4c,IAAV,CAAT,EAA0B9uB,OAA1B,CAAP;AACD,CATgB,CAAnB;eAYe6qB,U;;AAER,IAAMgF,IAAI,GAAG,8BAAehF,UAAf,EAA2Bjd,aAA3B,CAAb;;;;;;;;;;;;;;;;;;;;AClBP;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAMohB,cAAc,GAAG,8BAC5B7D,UAD4B,EAE5B8D,gBAF4B,EAG5B,UAAA3qB,KAAK;AAAA,SAAK;AACRyqB,QAAI,EAAEzqB,KAAK,CAACopB,WADJ;AAERpuB,MAAE,EAAEgF,KAAK,CAAChF,EAFF;AAGR4S,YAAQ,EAAE5N,KAAK,CAAC6N,OAAN,CAAcC,yBAHhB;AAIR8C,QAAI,EAAE5Q,KAAK,CAAC4Q,IAJJ;AAKR0B,UAAM,EAAE,KALA;AAMRjf,UAAM,EAAE;AAAA,aAAM,EAAN;AAAA;AANA,GAAL;AAAA,CAHuB,EAW5B,UAACynB,IAAD,EAAO8P,GAAP,EAAYlvB,OAAZ,EAAwB;AACtB,MAAM0yB,QAAQ,GAAG9kB,OAAO,CAACwR,IAAI,CAAC5G,GAAL,CAAS,UAAAliB,CAAC,EAAI;AACrC,WAAO,kBAAOA,CAAP,EAAU0J,OAAV,CAAP;AACD,GAFwB,CAAD,CAAxB;AAGA,SAAO0yB,QAAQ,CACZvD,MADI,CACGD,GADH,EAEJ9a,MAFI,CAEG,UAAAna,IAAI;AAAA,WAAIgN,OAAO,CAAChN,IAAI,CAACqF,EAAN,CAAP,IAAoB2H,OAAO,CAAChN,IAAI,CAAC6X,WAAN,CAA/B;AAAA,GAFP,CAAP;AAGD,CAlB2B,CAAvB;;AAoBP,IAAMie,YAAY,GAAG,8BACnBf,cADmB,EAEnB,UAAAK,QAAQ,EAAI;AACV,MAAM13B,MAAM,GAAG,SAATA,MAAS;AAAA,WAAM,EAAN;AAAA,GAAf;;AACA,SAAO,UAAAgW,IAAI,EAAI;AACb,QAAM2hB,OAAO,GAAG33B,MAAM,CAACgW,IAAD,CAAtB;AACA,WAAO2hB,OAAO,CAAC9W,GAAR,CAAY,UAAAve,IAAI;AAAA,aAAIo1B,QAAQ,CAAC1J,IAAT,CAAc,UAAA/rB,CAAC;AAAA,eAAIA,CAAC,CAAC0F,EAAF,KAASrF,IAAb;AAAA,OAAf,CAAJ;AAAA,KAAhB,CAAP;AACD,GAHD;AAID,CARkB,CAArB;AAWA,IAAMivB,UAAU,GAAG,8BACjBiC,UADiB,EAEjB8D,gBAFiB,EAGjB,UAAA3qB,KAAK;AAAA,SAAK;AACRyqB,QAAI,EAAEzqB,KAAK,CAACopB,WADJ;AAERpuB,MAAE,EAAEgF,KAAK,CAAChF,EAFF;AAGR4S,YAAQ,EAAE5N,KAAK,CAAC6N,OAAN,CAAcC,yBAHhB;AAIR8C,QAAI,EAAE5Q,KAAK,CAAC4Q,IAJJ;AAKR0B,UAAM,EAAE,KALA;AAMRjf,UAAM,EAAEo4B,YAAY,CAACzrB,KAAD;AANZ,GAAL;AAAA,CAHY,EAWjB,UAAC8a,IAAD,EAAO8P,GAAP,EAAYlvB,OAAZ,EAAwB;AACtB,MAAM0yB,QAAQ,GAAG9kB,OAAO,CAACwR,IAAI,CAAC5G,GAAL,CAAS,UAAAliB,CAAC,EAAI;AACrC,WAAO,kBAAOA,CAAP,EAAU0J,OAAV,CAAP;AACD,GAFwB,CAAD,CAAxB;AAGA,SAAO0yB,QAAQ,CACZvD,MADI,CACGD,GADH,EAEJ9a,MAFI,CAEG,UAAAna,IAAI;AAAA,WAAIgN,OAAO,CAAChN,IAAI,CAACqF,EAAN,CAAP,IAAoB2H,OAAO,CAAChN,IAAI,CAAC6X,WAAN,CAA/B;AAAA,GAFP,CAAP;AAGD,CAlBgB,CAAnB;;AAoBA,SAASlE,OAAT,CAAiBkhB,IAAjB,EAAqC;AAAA,MAAd6D,OAAc,uEAAJ,EAAI;AACnC,SAAO7D,IAAI,CAACnb,MAAL,CAAY,UAAC2U,GAAD,EAAMruB,IAAN,EAAe;AAChCquB,OAAG,CAACsK,IAAJ,CAAS34B,IAAT;;AACA,QAAIpF,KAAK,CAACof,OAAN,CAAcha,IAAI,CAACjF,QAAnB,CAAJ,EAAkC;AAChC4Y,aAAO,CAAC3T,IAAI,CAACjF,QAAN,EAAgBszB,GAAhB,CAAP;AACD;;AACD,WAAOA,GAAP;AACD,GANM,EAMJqK,OANI,CAAP;AAOD;;eAEczJ,U;;AACR,IAAM2G,IAAI,GAAG,8BAClB1E,UADkB,EAElB8D,gBAFkB,EAGlB,UAAC7P,IAAD,EAAO8P,GAAP;AAAA,SAAethB,OAAO,CAACwR,IAAI,CAAC+P,MAAL,CAAYD,GAAZ,CAAD,CAAP,CAA0B9a,MAA1B,CAAiC,UAAAna,IAAI;AAAA,WAAIA,IAAI,CAAC/H,IAAL,KAAc,MAAlB;AAAA,GAArC,CAAf;AAAA,CAHkB,CAAb;;;;;;;;;;;;;;;;;;;;ACpEP;;AACA;;AACA;;;;AAEe,SAAS2gC,sBAAT,CAAgCppB,GAAhC,EAAqCwf,UAArC,EAAiD;AAC9D,SAAO,8BAAeuC,mBAAf,EAA+BvC,UAA/B,EAA2C,UAACmI,QAAD,EAAWn3B,IAAX,EAAoB;AACpE,QAAI,CAACA,IAAL,EAAW;AACT,aAAO,EAAP;AACD;;AACD,WAAO,CAACA,IAAI,CAACwP,GAAD,CAAJ,IAAa,EAAd,EACJ+O,GADI,CACA,UAAAlZ,EAAE;AAAA,aAAI,mBAAK8xB,QAAL,oBAA0B9xB,EAA1B,GAAgC;AAAEpN,YAAI,EAAE;AAAR,OAAhC,CAAJ;AAAA,KADF,EAEJkiB,MAFI,CAEGnN,OAFH,CAAP;AAGD,GAPM,CAAP;AAQD,C;;;;;;;;;;;;;;;;;;;;;ACbD;;AACA;;AACA;;AACA;;;;AAEA,IAAM6rB,OAAO,GAAG;AACdj8B,QAAM,EAAE,CADM;AAEdiC,KAAG,EAAE,CAFS;AAGdzB,SAAO,EAAE;AAHK,CAAhB;;AAMO,SAASuW,OAAT,CAAiBkhB,IAAjB,EAAuB;AAC5B,SAAOA,IAAI,CAAC95B,QAAZ;AACD;;AAEM,SAASoO,QAAT,CAAkB0rB,IAAlB,EAAwB9uB,OAAxB,EAAiC;AAAA,MAC9BV,EAD8B,GACsBU,OADtB,CAC9BV,EAD8B;AAAA,wBACsBU,OADtB,CAC1B6lB,MAD0B;AAAA,MAC1BA,MAD0B,gCACjB,EADiB;AAAA,MACbjP,MADa,GACsB5W,OADtB,CACb4W,MADa;AAAA,MACL1B,IADK,GACsBlV,OADtB,CACLkV,IADK;AAAA,MACChD,QADD,GACsBlS,OADtB,CACCkS,QADD;AAAA,MACWva,MADX,GACsBqI,OADtB,CACWrI,MADX;AAGtCm3B,MAAI,CAAC95B,QAAL,GAAgB85B,IAAI,CAAC95B,QAAL,CACbwjB,GADa,CACT,UAAApX,KAAK,EAAI;AACZ,QAAMsxB,QAAQ,GAAGK,MAAM,CAAC3xB,KAAD,EAAQ;AAC7B8T,UAAI,EAAJA,IAD6B;AAE7BhD,cAAQ,EAARA,QAF6B;AAG7B5S,QAAE,EAAFA,EAH6B;AAI7BumB,YAAM,EAANA,MAJ6B;AAK7BjP,YAAM,EAANA,MAL6B;AAM7Bjf,YAAM,EAANA;AAN6B,KAAR,CAAvB;AAQA,WAAO+6B,QAAQ,CAAC19B,QAAT,GACHoO,QAAQ,CAACsvB,QAAD,EAAW1yB,OAAX,CADL,GAEH0yB,QAFJ;AAGD,GAba,EAcbpB,IAda,CAcR,UAAChuB,CAAD,EAAIqG,CAAJ,EAAU;AACd,QAAMqpB,KAAK,GACR,CAAC,CAAC,CAAC1vB,CAAC,CAACmM,QAAF,IAAc,EAAf,EAAmBhJ,OAAnB,IAA8B,EAA/B,EAAmCusB,KAAnC,IAA4C,CAA7C,KAAmD,CAAC,CAACrpB,CAAC,CAAC8F,QAAF,IAAc,EAAf,EAAmBhJ,OAAnB,IAA8B,EAA/B,EAAmCusB,KAAnC,IAA4C,CAA/F,CADH;AAEA,QAAMC,MAAM,GAAG,CAACH,OAAO,CAACxvB,CAAC,CAACpR,IAAH,CAAP,IAAmB,CAApB,KAA0B4gC,OAAO,CAACnpB,CAAC,CAACzX,IAAH,CAAP,IAAmB,CAA7C,CAAf;AACA,QAAMghC,IAAI,GAAG5vB,CAAC,CAACmM,QAAF,CAAWgM,WAAX,CAAuBgW,aAAvB,CAAqC9nB,CAAC,CAAC8F,QAAF,CAAWgM,WAAhD,CAAb;;AAEA,QAAIuX,KAAK,KAAK,CAAd,EAAiB;AACf,aAAOA,KAAP;AACD;;AAED,QAAIC,MAAM,KAAK,CAAf,EAAkB;AAChB,aAAOA,MAAP;AACD;;AAED,WAAOC,IAAP;AACD,GA7Ba,CAAhB;AA+BA,SAAOH,MAAM,CAACjE,IAAD,EAAO;AAAE5Z,QAAI,EAAJA,IAAF;AAAQhD,YAAQ,EAARA,QAAR;AAAkB5S,MAAE,EAAFA,EAAlB;AAAsBumB,UAAM,EAANA,MAAtB;AAA8BjP,UAAM,EAANA,MAA9B;AAAsCjf,UAAM,EAANA;AAAtC,GAAP,CAAb;AACD;;AAEM,SAASo7B,MAAT,CAAgB3xB,KAAhB,EAAuBpB,OAAvB,EAAgC;AAAA,MAC7BV,EAD6B,GACNU,OADM,CAC7BV,EAD6B;AAAA,MACzBsX,MADyB,GACN5W,OADM,CACzB4W,MADyB;AAAA,MACjBjf,MADiB,GACNqI,OADM,CACjBrI,MADiB;AAErC,MAAMw7B,OAAO,GAAG,CAAC/xB,KAAK,CAAC0Q,WAAP,EAAoB1Q,KAAK,CAAC9B,EAA1B,EAA8BgV,IAA9B,CAAmC,GAAnC,CAAhB;AACAlT,OAAK,CAAC0E,MAAN,GAAgBqtB,OAAO,KAAK7zB,EAAb,IAAoB,cAAOU,OAAO,CAACoZ,MAAf,cAAyB+Z,OAAzB,MAAuC7zB,EAA1E;;AACA,MAAMkG,MAAM,GAAGF,aAAIyI,KAAJ,CAAU3M,KAAK,CAACuE,IAAN,IAAc9L,cAAKya,IAAL,CAAUsC,MAAV,EAAkBxV,KAAK,CAAC9B,EAAN,IAAY8B,KAAK,CAACvH,IAApC,CAAxB,CAAf;;AAEA,MAAMiU,CAAC,GACL,OAAOtI,MAAM,CAACtG,KAAd,KAAwB,QAAxB,GACI+sB,qBAAYle,KAAZ,CAAkBvI,MAAM,CAACtG,KAAzB,CADJ,GAEIsG,MAAM,CAACtG,KAHb;AAKAkC,OAAK,CAACuE,IAAN,GAAaL,aAAIyN,MAAJ,CAAW;AACtBR,YAAQ,EAAEtO,GAAG,CAACjE,OAAO,CAACkV,IAAR,IAAgB,EAAjB,EAAqB1P,MAAM,CAAC+M,QAAP,IAAmB,EAAxC,CADS;AAEtBrT,SAAK,EAAEnF,MAAM,CAACgwB,MAAP,CAAc,EAAd,EAAkB/pB,OAAO,CAACkS,QAAR,CAAiBhT,KAAnC,EAA0C4O,CAA1C;AAFe,GAAX,CAAb;AAKA1M,OAAK,CAACgyB,QAAN,GAAiBhyB,KAAK,CAACgyB,QAAN,IAAkB,EAAnC;AACAhyB,OAAK,CAAClP,IAAN,GAAakP,KAAK,CAAC0Q,WAAN,KAAsB,KAAtB,IAA+B,OAAO,CAAE1Q,KAAK,CAACqO,QAAP,CAAiBhJ,OAAjB,IAA4B,EAA7B,EAAiCvH,KAAxC,KAAkD,QAAjF,GACT,QADS,GAET,MAFJ;;AAIA,MAAIkC,KAAK,CAAClP,IAAN,KAAe,QAAnB,EAA6B;AAC3BkP,SAAK,CAACpM,QAAN,GAAiB2C,MAAM,CAACyJ,KAAK,CAACqO,QAAN,CAAehJ,OAAf,CAAuBvH,KAAxB,CAAN,CACdkV,MADc,CACP,UAAAna,IAAI;AAAA,aAAIA,IAAI,CAACqF,EAAL,KAAY8B,KAAK,CAAC9B,EAAtB;AAAA,KADG,CAAjB;AAED;;AAED,MACE8B,KAAK,CAACqO,QAAN,IACArO,KAAK,CAAClP,IAAN,KAAe,SADf,KAECkP,KAAK,CAACqO,QAAN,CAAejR,IAAf,KAAwB,OAAxB,IAAmC4C,KAAK,CAACqO,QAAN,CAAejR,IAAf,KAAwB,YAF5D,CADF,EAIE;AACA4C,SAAK,CAACgyB,QAAN,CAAeR,IAAf,CAAoB;AAClB1gC,UAAI,EAAE,MADY;AAElB6M,WAAK,EAAEqC,KAAK,CAACqO,QAAN,CAAejR,IAFJ;AAGlB2I,aAAO,YAAK/F,KAAK,CAACqO,QAAN,CAAegM,WAApB,4BAAiDra,KAAK,CAACqO,QAAN,CACrDjR,IADI;AAHW,KAApB;AAMD;;AAED,SAAO4C,KAAP;AACD;;AAED,SAAS6C,GAAT,CAAaiR,IAAb,EAAmB3C,QAAnB,EAA6B;AAC3B,MAAM5I,CAAC,GAAGygB,IAAI,CAAClV,IAAD,CAAd;AACA,MAAMtb,CAAC,GAAGwwB,IAAI,CAAC7X,QAAD,CAAd;;AAEA,MAAI3Y,CAAC,CAAC2W,UAAF,CAAa5G,CAAb,CAAJ,EAAqB;AACnB,sBAAW/P,CAAX;AACD;;AAED,oBAAW,CAACwwB,IAAI,CAAClV,IAAD,CAAL,EAAakV,IAAI,CAAC7X,QAAD,CAAjB,EAA6B+B,IAA7B,CAAkC,GAAlC,CAAX;AACD;;AAED,SAAS8V,IAAT,CAAcxwB,CAAd,EAAiB;AACf,SAAOA,CAAC,CAACosB,KAAF,CAAQ,GAAR,EAAa5R,MAAb,CAAoBnN,OAApB,EAA6BqN,IAA7B,CAAkC,GAAlC,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;AC3GD;;AACA;;;;;;eAEe+e,e;;;AAEf,SAASA,eAAT,GAA2B;AACzB,MAAMtV,IAAI,GAAG,SAAPA,IAAO,CAAAnD,KAAK,EAAI;AACpB7gB,UAAM,CAACgW,IAAP,CAAYgO,IAAZ,EAAkBuV,OAAlB,CAA0B,UAAA30B,IAAI,EAAI;AAChCof,UAAI,CAACpf,IAAD,CAAJ,CAAWof,IAAX,CAAgBnD,KAAhB;AACD,KAFD;AAGD,GAJD;;AAMAmD,MAAI,CAACwV,aAAL,GAAqB,IAAIC,iBAAJ,CAAa;AAChCC,aAAS,EAAE,GADqB;AAEhCjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFc;AAGhC2U,UAAM,EAAEwE,OAAO,CAACib;AAHgB,GAAb,CAArB;AAMAxV,MAAI,CAACsP,SAAL,GAAiB,IAAImG,iBAAJ,CAAa;AAC5BC,aAAS,EAAE,GADiB;AAE5BjkB,eAAW,EAAE;AAAA;AAAA,KAFe;AAG5BsE,UAAM,EAAEwE,OAAO,CAAC+U;AAHY,GAAb,CAAjB;AAMAtP,MAAI,CAAChH,iBAAL,GAAyB,IAAIyc,iBAAJ,CAAa;AACpCC,aAAS,EAAE,GADyB;AAEpCjkB,eAAW,EAAE;AAAA;AAAA,KAFuB;AAGpCsE,UAAM,EAAEwE,OAAO,CAACvB;AAHoB,GAAb,CAAzB;AAMAgH,MAAI,CAAC/G,cAAL,GAAsB,IAAIwc,iBAAJ,CAAa;AACjCC,aAAS,EAAE,GADsB;AAEjCjkB,eAAW,EAAE;AAAA;AAAA,KAFoB;AAGjCsE,UAAM,EAAEwE,OAAO,CAACtB;AAHiB,GAAb,CAAtB;AAMA+G,MAAI,CAACwP,UAAL,GAAkB,IAAIiG,iBAAJ,CAAa;AAC7BC,aAAS,EAAE,GADkB;AAE7BjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFW;AAG7B2U,UAAM,EAAEwE,OAAO,CAACiV;AAHa,GAAb,CAAlB;AAMAxP,MAAI,CAACjS,IAAL,GAAY,IAAI0nB,iBAAJ,CAAa;AACvBC,aAAS,EAAE,GADY;AAEvBjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFK;AAGvB2U,UAAM,EAAEwE,OAAO,CAACsV;AAHO,GAAb,CAAZ;AAMA7P,MAAI,CAACgO,aAAL,GAAqB,IAAIyH,iBAAJ,CAAa;AAChCC,aAAS,EAAE,GADqB;AAEhCjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBACbA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MADZ;AAAA,KAFc;AAIhC2U,UAAM,EAAEwE,OAAO,CAACyT;AAJgB,GAAb,CAArB;AAOAhO,MAAI,CAAC2V,eAAL,GAAuB,IAAIF,iBAAJ,CAAa;AAClCC,aAAS,EAAE,GADuB;AAElCjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBACbA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MADZ;AAAA,KAFgB;AAIlC2U,UAAM,EAAEwE,OAAO,CAACqb;AAJkB,GAAb,CAAvB;AAOA5V,MAAI,CAAC6V,YAAL,GAAoB,IAAIJ,iBAAJ,CAAa;AAC/BC,aAAS,EAAE,GADoB;AAE/BjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFa;AAG/B2U,UAAM,EAAEwE,OAAO,CAACsb;AAHe,GAAb,CAApB;AAMA7V,MAAI,CAACsO,UAAL,GAAkB,IAAImH,iBAAJ,CAAa;AAC7BC,aAAS,EAAE,GADkB;AAE7BjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFW;AAG7B2U,UAAM,EAAEwE,OAAO,CAAC+T;AAHa,GAAb,CAAlB;AAMAtO,MAAI,CAAC6N,gBAAL,GAAwB,IAAI4H,iBAAJ,CAAa;AACnCC,aAAS,EAAE,GADwB;AAEnCjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MAAhC;AAAA,KAFiB;AAGnC2U,UAAM,EAAEwE,OAAO,CAACsT;AAHmB,GAAb,CAAxB;AAMA7N,MAAI,CAAC+P,aAAL,GAAqB,IAAI0F,iBAAJ,CAAa;AAChCC,aAAS,EAAE,GADqB;AAEhCjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBACbA,KAAK,CAACkN,OAAN,GAAgB,MAAhB,GAAyB,MADZ;AAAA,KAFc;AAIhC2U,UAAM,EAAEwE,OAAO,CAACwV;AAJgB,GAAb,CAArB;;AAOA,MAAMr2B,MAAM,GAAG,SAATA,MAAS;AAAA,WAAM6gB,OAAO,CAAC7gB,MAAR,CAAe;AAAEo8B,gBAAU,EAAEhH,IAAI,CAACC,GAAL;AAAd,KAAf,CAAN;AAAA,GAAf;;AACAr1B,QAAM,CAACvF,IAAP,GAAcomB,OAAO,CAAC7gB,MAAR,CAAevF,IAA7B;AACAuF,QAAM,CAACgS,GAAP,GAAa6O,OAAO,CAAC7gB,MAAR,CAAegS,GAA5B;AACAhS,QAAM,CAACyZ,QAAP,GAAkBoH,OAAO,CAAC7gB,MAAR,CAAeyZ,QAAjC;AAEA6M,MAAI,CAACtmB,MAAL,GAAc,IAAI+7B,iBAAJ,CAAa;AACzBC,aAAS,EAAE,GADc;AAEzBjkB,eAAW,EAAE;AAAA;AAAA,KAFY;AAGzBsE,UAAM,EAAErc;AAHiB,GAAb,CAAd;AAMAsmB,MAAI,CAAClE,YAAL,GAAoB,IAAI2Z,iBAAJ,CAAa;AAC/BC,aAAS,EAAE,OADoB;AAE/BjkB,eAAW,EAAE,qBAAAvd,KAAK;AAAA,uBAAOA,KAAK,CAACkN,OAAN,GAAgB,SAAhB,GAA4B,QAAnC;AAAA,KAFa;AAG/B2U,UAAM,EAAEwE,OAAO,CAACuB;AAHe,GAAb,CAApB;AAMAkE,MAAI,CAAC1D,WAAL,GAAmB,IAAImZ,iBAAJ,CAAa;AAC9BC,aAAS,EAAE,GADmB;AAE9BjkB,eAAW,EAAE,qBAFiB;AAG9BsE,UAAM,EAAEwE,OAAO,CAAC+B;AAHc,GAAb,CAAnB;AAMA0D,MAAI,CAACvnB,KAAL,GAAa,IAAIg9B,iBAAJ,CAAa;AACxBC,aAAS,EAAE,KADa;AAExBK,aAAS,EAAE,EAFa;AAGxBhgB,UAAM,EAAEwE,OAAO,CAACjF;AAHQ,GAAb,CAAb;AAMA0K,MAAI,CAACxM,EAAL,GAAU,IAAIiiB,iBAAJ,CAAa;AACrBC,aAAS,EAAE,UADU;AAErB3f,UAAM,EAAE;AAAA,aAAMwE,OAAO,CAACjH,KAAR,CAAc,IAAd,CAAN;AAAA;AAFa,GAAb,CAAV;AAKA0M,MAAI,CAACgW,KAAL,GAAa,IAAIP,iBAAJ,CAAa;AACxBC,aAAS,EAAE,aADa;AAExB3f,UAAM,EAAE;AAAA,aAAMwE,OAAO,CAACjH,KAAR,CAAc,OAAd,CAAN;AAAA;AAFgB,GAAb,CAAb;AAKA0M,MAAI,CAACvM,IAAL,GAAY,IAAIgiB,iBAAJ,CAAa;AACvBC,aAAS,EAAE,YADY;AAEvB3f,UAAM,EAAE;AAAA,aAAMwE,OAAO,CAACjH,KAAR,CAAc,MAAd,CAAN;AAAA;AAFe,GAAb,CAAZ;AAKA0M,MAAI,CAACiW,IAAL,GAAY,IAAIR,iBAAJ,CAAa;AACvBC,aAAS,EAAE,YADY;AAEvB3f,UAAM,EAAE;AAAA,aAAMwE,OAAO,CAACjH,KAAR,CAAc,MAAd,CAAN;AAAA;AAFe,GAAb,CAAZ;AAKA,SAAO0M,IAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACzID;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;AAEe,SAASkW,cAAT,CAAwBnZ,OAAxB,EAAiC6X,OAAjC,EAA0C;AACvD,MAAMpe,OAAO,GAAG2f,WAAW,CAAC;AAAW/hB,WAAO,EAAPA;AAAX,KAAuBgiB,iBAAvB,GAAmC19B,sBAAnC,CAAD,CAA3B;AACA,MAAM29B,OAAO,GAAG1yB,MAAM,CAAC2yB,oCAAP,IAA+CC,cAA/D;AAEA,MAAMC,WAAW,GAAG,CAACC,mBAAD,EAAQ,wCAAiB1Z,OAAjB,CAAR,CAApB;;AAEA,MAAM2Z,UAAU,GAAGC,qCAAmBH,WAAnB,CAAnB;;AACA,MAAM3P,SAAS,GAAG,yBAAlB;AACA,MAAMhK,KAAK,GAAG,wBACZrG,OADY,oBAEPoe,OAFO;AAEE/N,aAAS,EAATA;AAFF,MAGZwP,OAAO,CAACK,UAAD,CAHK,CAAd;AAMA3N,QAAM,CAAClM,KAAD,EAAQ;AAAEtV,OAAG,EAAE;AAAP,GAAR,CAAN;AACAsf,WAAS,CAAChK,KAAD,CAAT;AAEA,SAAOA,KAAP;AACD;;AAED,SAASsZ,WAAT,CAAqB3f,OAArB,EAA8B;AAC5B,SAAO,UAACjQ,KAAD,EAAQwP,MAAR,EAAmB;AACxB,YAAQA,MAAM,CAAC5hB,IAAf;AACE,WAAK,eAAL;AACE,eAAOqiB,OAAO,CAACT,MAAM,CAAC1C,OAAR,EAAiB0C,MAAjB,CAAd;;AACF;AACE,eAAOS,OAAO,CAACjQ,KAAD,EAAQwP,MAAR,CAAd;AAJJ;AAMD,GAPD;AAQD;;AAED,SAASgT,MAAT,CAAgBlM,KAAhB,EAAuBnU,OAAvB,EAAgC;AAC9BmU,OAAK,CAAC3J,QAAN,CAAeqH,OAAO,CAACwO,MAAR,CAAe;AAAExhB,OAAG,EAAEmB,OAAO,CAACnB;AAAf,GAAf,CAAf;AACD,C;;;;;;;;;;;;;;;;;;;;AC1CD;;AACA;;eAEeqvB,K;;AAEf,IAAMC,cAAc,GAAG;AACrBze,SAAO,EAAE;AAAE0e,UAAM,EAAE;AAAV,GADY;AAErBC,aAAW,EAAE;AAFQ,CAAvB;;AAKA,SAASH,KAAT,CAAe1e,GAAf,EAAoB8e,WAApB,EAAiC;AAC/B,MAAM5e,OAAO,GACX4e,WAAW,KAAK,KAAhB,GAAwBH,cAAxB,GAAyC,mBAAM,EAAN,EAAUG,WAAV,EAAuBH,cAAvB,CAD3C;AAGA,SAAOlzB,MAAM,CAACizB,KAAP,CAAa1e,GAAb,EAAkBE,OAAlB,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;eCfcwP,I;;;AAEf,SAASA,IAAT,CAAcmJ,IAAd,EAAoBxvB,EAApB,QAAkC;AAAA,MAARpN,IAAQ,QAARA,IAAQ;;AAChC,MAAIoN,EAAE,KAAK,GAAX,EAAgB;AACd,WAAOwvB,IAAP;AACD;;AAED,MAAI,CAACxvB,EAAD,IAAO,CAACA,EAAE,CAACiR,UAAH,WAAiBre,IAAjB,OAAZ,EAAuC;AACrC,WAAO,IAAP;AACD;;AAED,MAAM8iC,GAAG,GAAG,IAAIC,MAAJ,YAAe/iC,IAAf,OAAZ;AAEA,MAAMgjC,KAAK,GAAG51B,EAAE,CACb61B,OADW,CACHH,GADG,EACE,EADF,EAEXhP,KAFW,CAEL,GAFK,EAGX5R,MAHW,CAGJnN,OAHI,CAAd;AAKA,MAAMuiB,KAAK,GAAGsF,IAAI,CAAC95B,QAAL,CAAc2wB,IAAd,CACZ,UAAAvkB,KAAK;AAAA,WACHA,KAAK,CAACvH,IAAN,CAAWu7B,KAAX,CAAiB,UAAC36B,CAAD,EAAIpB,CAAJ;AAAA,aAAU67B,KAAK,CAAC77B,CAAD,CAAL,KAAaoB,CAAvB;AAAA,KAAjB,MACC2G,KAAK,CAAClP,IAAN,KAAeA,IAAf,IAAuBkP,KAAK,CAAClP,IAAN,KAAe,QADvC,CADG;AAAA,GADO,CAAd;AAMA,SAAOs3B,KAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACzBD;;AACA;;;;AAEe,SAAS6L,eAAT,CAAyB9iB,QAAzB,EAA+C;AAAA,MAAZ2C,IAAY,uEAAL,GAAK;;AAC5D,MAAM1P,MAAM,GAAG6M,kBAAStE,KAAT,CAAewE,QAAf,CAAf;;AACA,SAAO,CAAC1Y,cAAKy7B,KAAL,IAAcz7B,aAAf,EAAqB07B,QAArB,CAA8BrgB,IAA9B,EAAoC1P,MAAM,CAAC+M,QAA3C,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACND;;AACA;;;;;;;;;;;;;;;;;;AAEA,IAAMijB,KAAK,GAAG;AACZ,cAAY,EADA;AAEZ,iBAAe,EAFH;AAGZ,gBAAc,EAHF;AAIZ,gBAAc,EAJF;AAKZC,KAAG,EAAE,EALO;AAMZC,OAAK,EAAE,EANK;AAOZC,GAAC,EAAE,EAPS;AAQZr/B,GAAC,EAAE,EARS;AASZsI,GAAC,EAAE,EATS;AAUZ2xB,GAAC,EAAE,EAVS;AAWZ7mB,GAAC,EAAE,EAXS;AAYZrQ,GAAC,EAAE,EAZS;AAaZu3B,GAAC,EAAE,EAbS;AAcZmB,GAAC,EAAE,EAdS;AAeZp3B,GAAC,EAAE,EAfS;AAgBZD,GAAC,EAAE,EAhBS;AAiBZuK,GAAC,EAAE,EAjBS;AAkBZ9M,GAAC,EAAE,EAlBS;AAmBZuG,GAAC,EAAE;AAnBS,CAAd;;IAsBqB80B,Q;;;AACnB,0BAA2D;AAAA,QAA7C1f,MAA6C,QAA7CA,MAA6C;AAAA,QAArC2f,SAAqC,QAArCA,SAAqC;AAAA,QAA1BjkB,WAA0B,QAA1BA,WAA0B;AAAA,QAAbskB,SAAa,QAAbA,SAAa;;AAAA;;AACzD,SAAKL,SAAL,GAAiBA,SAAjB;AACA,SAAKrgC,IAAL,GAAYoiC,KAAK,CAAC/B,SAAD,CAAjB;AACA,SAAK3f,MAAL,GAAcA,MAAd;AACA,SAAKrK,GAAL,GAAW,KAAKqK,MAAL,CAAYrK,GAAvB;AACA,SAAK3D,MAAL,GAAc,cAAcpE,MAA5B;AACA,SAAK8N,WAAL,GAAmBA,WAAnB;AACA,SAAKskB,SAAL,GAAiBA,SAAS,IAAI,CAAC,SAAD,EAAY,QAAZ,CAA9B;AACA,SAAK/V,IAAL,GAAY,KAAKA,IAAL,CAAUA,IAAV,CAAe,IAAf,CAAZ;AACD;;;;yBAEInD,K,EAAO;AAAA;;AACV,UAAI,CAAC,KAAK9U,MAAV,EAAkB;AAChB;AACD;;AAED,UAAM8vB,UAAU,GAAG,SAAbA,UAAa,CAAAh3B,CAAC,EAAI;AACtB,YAAI,CAAC,KAAI,CAACk1B,SAAL,CAAesB,KAAf,CAAqB,UAAA16B,CAAC;AAAA,iBAAIkE,CAAC,CAAClE,CAAD,CAAL;AAAA,SAAtB,CAAL,EAAsC;AACpC;AACD;;AAED,YAAIkE,CAAC,CAACi3B,OAAF,KAAc,KAAI,CAACziC,IAAvB,EAA6B;AAC3B,iBAAO,KAAP;AACD;;AAEDwnB,aAAK,CAAC3J,QAAN,CAAe,KAAI,CAAC6C,MAAL,EAAf;AACD,OAVD;;AAYApS,YAAM,CAACiT,gBAAP,CAAwB,SAAxB,EAAmC,UAAA/V,CAAC,EAAI;AACtC,YAAI;AACF,cAAMuI,OAAO,GAAGyO,eAAM7H,KAAN,CAAYnP,CAAC,CAACiW,IAAd,CAAhB;;AACA,cAAI1N,OAAO,CAACjV,IAAR,KAAiB,SAArB,EAAgC;AAC9B0jC,sBAAU,CAACzuB,OAAO,CAACiK,OAAT,CAAV;AACD;AACF,SALD,CAKE,OAAO2E,GAAP,EAAY,CAEb;AACF,OATD,EASG,KATH;AAWArU,YAAM,CAACiT,gBAAP,CAAwB,SAAxB,EAAmC,UAAA/V,CAAC,EAAI;AACtC,YAAMk3B,OAAO,GAAGF,UAAU,CAAC;AACzBxT,gBAAM,EAAExjB,CAAC,CAACwjB,MADe;AAEzBC,iBAAO,EAAEzjB,CAAC,CAACyjB,OAFc;AAGzBwT,iBAAO,EAAE,CAACj3B,CAAC,CAACiW,IAAF,IAAUjW,CAAX,EAAci3B;AAHE,SAAD,CAA1B;;AAKA,YAAIC,OAAJ,EAAa;AACXl3B,WAAC,CAAC0jB,cAAF;AACD;AACF,OATD;AAUD;;;+BAEU;AACT,UAAMvS,IAAI,GAAG,mBAAI,KAAK+jB,SAAT,UAAoB,KAAKL,SAAzB,GAAoCjb,GAApC,CAAwC,UAAAmd,CAAC;AAAA,eACpDA,CAAC,CAACR,OAAF,CAAU,KAAV,EAAiB,EAAjB,CADoD;AAAA,OAAzC,CAAb;;AAGA,wBAAWplB,IAAI,CAACuE,IAAL,CAAU,GAAV,CAAX;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFH;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;AAEA,SAAS7V,GAAT,CAAas3B,KAAb,EAAoB;AAClB,SAAO,UAAA97B,IAAI;AAAA,WAAI,sBAASA,IAAT,EAAe87B,KAAf,CAAJ;AAAA,GAAX;AACD;;AAED,SAAS3a,GAAT,CAAa2a,KAAb,EAAoB;AAClB,SAAO,UAAA97B,IAAI;AAAA,WAAIA,IAAI,CAAC+rB,KAAL,CAAW+P,KAAX,EAAkBjjB,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CAAJ;AAAA,GAAX;AACD;;AAED,SAASkjB,GAAT,CAAaniB,EAAb,EAAiB;AACf,SAAO;AAAA,WAAa,CAACA,EAAE,MAAF,mBAAd;AAAA,GAAP;AACD;;AAED,SAASoiB,KAAT,CAAe/iB,KAAf,EAAsB;AACpB,MAAMpK,KAAK,GAAGoK,KAAK,CAACna,MAAN,GAAe,CAA7B;;AACA,MAAIma,KAAK,CAACpK,KAAD,CAAL,KAAiB,GAArB,EAA0B;AACxB,WAAOoK,KAAK,CAACJ,KAAN,CAAY,CAAZ,EAAehK,KAAf,CAAP;AACD;;AACD,SAAOoK,KAAP;AACD;;AAEM,SAASH,MAAT,GAA6B;AAAA,MAAbvN,MAAa,uEAAJ,EAAI;AAClC,MAAMtG,KAAK,GAAG,qBAAQsG,MAAM,CAACtG,KAAP,IAAgB,EAAxB,EAA4ByU,MAA5B,CACZ,UAACiE,MAAD,EAAShE,KAAT;AAAA,8BAAuBgE,MAAvB,UAA+BhE,KAAK,CAACU,IAAN,CAAW,IAAX,CAA/B;AAAA,GADY,EAEZ,EAFY,CAAd;;AAKA,MAAM4hB,SAAS,GAAGr8B,cAAK4Y,OAAL,CAAajN,MAAM,CAAC+M,QAAP,IAAmB,EAAhC,CAAlB;;AAEA,MAAM4jB,MAAM,GAAGD,SAAS,GACpBr8B,cAAKmZ,OAAL,CAAaxN,MAAM,CAAC+M,QAApB,CADoB,GAEpB0jB,KAAK,CAACzwB,MAAM,CAAC+M,QAAR,CAFT;AAGA,MAAM6jB,KAAK,GAAGF,SAAS,GAAGr8B,cAAKw8B,QAAL,CAAc7wB,MAAM,CAAC+M,QAArB,CAAH,GAAoC,EAA3D;AAEA,SAAO,CAAC4jB,MAAD,4BAAYj3B,KAAZ,IAAmBk3B,KAAnB,GAA0BhiB,MAA1B,CAAiCnN,OAAjC,EAA0CqN,IAA1C,CAA+C,GAA/C,CAAP;AACD;;AAEM,SAASvG,KAAT,GAA6B;AAAA,MAAduoB,OAAc,uEAAJ,EAAI;;AAClC,MAAM9wB,MAAM,GAAGF,aAAIyI,KAAJ,CAAUuoB,OAAV,CAAf;;AACA,MAAMrmB,GAAG,GAAGzK,MAAM,CAAC+M,QAAP,IAAmB,EAA/B;AAEA,MAAMA,QAAQ,GAAGtC,GAAG,CACjB+V,KADc,CACR,GADQ,EAEd5R,MAFc,CAEP4hB,GAAG,CAACv3B,GAAG,CAAC,IAAD,CAAJ,CAFI,EAGd6V,IAHc,CAGT,GAHS,CAAjB;AAKA,MAAMpV,KAAK,GAAG+Q,GAAG,CACd+V,KADW,CACL,GADK,EAEX5R,MAFW,CAEJ3V,GAAG,CAAC,IAAD,CAFC,EAGX+Z,GAHW,CAGP4C,GAAG,CAAC,IAAD,CAHI,EAIXzH,MAJW,CAIJ,UAAClG,QAAD,EAAWmG,KAAX,EAAqB;AAAA,gCACNA,KADM;AAAA,QACpBnK,GADoB;AAAA,QACf1K,KADe;;AAE3B0O,YAAQ,CAAChE,GAAD,CAAR,GAAgB1K,KAAhB;AACA,WAAO0O,QAAP;AACD,GARW,EAQT,EARS,CAAd;AAUA,SAAO;AACL8E,YAAQ,EAARA,QADK;AAELrT,SAAK,EAALA;AAFK,GAAP;AAID;;eAEc;AAAE6O,OAAK,EAALA,KAAF;AAASgF,QAAM,EAANA;AAAT,C;;;;;;;;;;;;;;;ACjEf,IAAM6C,KAAK,GAAG,mBAAO,CAAC,gDAAD,CAArB;;AACA,IAAMtQ,GAAG,GAAG,mBAAO,CAAC,0CAAD,CAAnB;;AACA,IAAMqvB,KAAK,GAAG,mBAAO,CAAC,qFAAD,CAArB;;AACA,IAAM7Y,QAAQ,GAAG,mBAAO,CAAC,yDAAD,CAAxB;;AACA,IAAMf,MAAM,GAAG,mBAAO,CAAC,yCAAD,CAAP,CAAwBtlB,OAAvC;;eACkB,mBAAO,CAAC,mDAAD,C;IAAjBO,K,YAAAA,K;;cAEa0L,M;IAAbrH,Q,WAAAA,Q;AAERk8B,IAAI,GAAGna,KAAP,CAAa,UAAArG,GAAG,EAAI;AAClBgC,SAAO,CAAClM,KAAR,CAAckK,GAAd;AACD,CAFD;;AAIA,eAAewgB,IAAf,GAAsB;AACpB,MAAMC,IAAI,GAAGn8B,QAAQ,CAAC4f,aAAT,CAAuB,sCAAvB,CAAb;AACA,MAAMwc,KAAK,GAAGp8B,QAAQ,CAAC4f,aAAT,CAAuB,yCAAvB,CAAd;AACA,MAAMpF,IAAI,GAAG,MAAM6hB,OAAO,CAACD,KAAD,CAA1B;;AAEA,MAAI5hB,IAAI,CAACI,QAAT,EAAmB;AACjBuhB,QAAI,CAACG,SAAL,GAAiB,EAAjB;AACD;;AAED5b,QAAM,CAAClG,IAAD,EAAO2hB,IAAP,CAAN;AAEAn8B,UAAQ,CAACgc,IAAT,CAAcugB,YAAd,CAA2B,cAA3B,EAA2C,IAA3C;AACD;;AAED,eAAeF,OAAf,CAAuBD,KAAvB,EAA8B;AAC5B,MAAM5hB,IAAI,GAAGe,KAAK,CAAC7H,KAAN,CAAY8oB,kBAAkB,CAACJ,KAAK,CAAC3xB,WAAP,CAA9B,CAAb;AACA,MAAMuhB,MAAM,GAAG,MAAMyQ,YAAY,CAACjiB,IAAI,CAACK,IAAN,CAAjC;AAEA,SAAOlf,KAAK,CAAC6e,IAAD,EAAOkiB,eAAe,EAAtB,EAA0BC,aAAa,EAAvC,EAA2C;AACrD3Q,UAAM,EAANA,MADqD;AAErDwE,cAAU,EAAExE,MAAM,CAACe;AAFkC,GAA3C,CAAZ;AAID;;AAED,eAAe0P,YAAf,CAA4B5hB,IAA5B,EAAkC;AAChC,SAAO,CAAC,MAAMyf,KAAK,WAAI/d,MAAM,CAAC1B,IAAD,CAAV,sBAAmC;AAAC4f,eAAW,EAAE;AAAd,GAAnC,CAAZ,EAA0Eje,IAA1E,EAAP;AACD;;AAED,SAASD,MAAT,CAAgB1B,IAAhB,EAAsB;AACpB,SAAOA,IAAI,CAAC4B,MAAL,CAAY5B,IAAI,CAACnc,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACHmc,IAAI,CAACpC,KAAL,CAAW,CAAX,EAAcoC,IAAI,CAACnc,MAAL,GAAc,CAA5B,CADG,GAEHmc,IAFJ;AAGD;;AAED,SAAS6hB,eAAT,GAA2B;AACzB,SAAO;AACLE,qBAAiB,EAAEnb,QAAQ,CAACnd,IADvB;AAELu4B,wBAAoB,EAAEpb,QAAQ,CAACvd,OAF1B;AAGL44B,gBAAY,EAAErb,QAAQ,CAACsb,EAAT,CAAYz4B,IAHrB;AAIL04B,mBAAe,EAAEvb,QAAQ,CAACsb,EAAT,CAAY74B;AAJxB,GAAP;AAMD;;AAED,SAASy4B,aAAT,GAAyB;AACvB,SAAO;AACLtiB,UAAM,EAAE;AACNjc,WAAK,EAAEiJ,MAAM,CAAC41B,UADR;AAEN5+B,YAAM,EAAEgJ,MAAM,CAAC61B;AAFT;AADH,GAAP;AAMD,C","file":"client.aa6fc7dae84980945a55.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t\"client\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/client.js\",\"vendors~client\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = require('./lib');\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require(\"tag-hoc\").default;\n\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\n\nfunction Button(props) {\n  const OuterElement =\n    props.type === \"link\"\n      ? tag([\"external\", \"type\"])(Link)\n      : tag([\"external\"])(\"button\");\n\n  return (\n    <OuterElement\n      className={props.className}\n      title={props.title}\n      onClick={props.onClick}\n      external={props.external}\n      href={props.href}\n      type={props.type}\n    >\n      {props.children && <StyledLabel>{props.children}</StyledLabel>}\n      {props.symbol && <StyledIcon symbol={props.symbol} />}\n    </OuterElement>\n  );\n}\n\nButton.defaultProps = {\n  type: \"button\"\n};\n\nconst StyledLabel = styled.span`\n  font-family: ${props => props.theme.fonts.default};\n`;\n\nconst FRAME = props =>\n  !props.frameless &&\n  `\n  padding: 4px;\n  border: 1px solid currentColor\n`;\n\nconst TRANSPARENCY = props =>\n  props.transparent &&\n  `\n  background: transparent;\n`;\n\nconst StyledButton = styled(Button)`\n  appearance: none;\n  display: inline-flex;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  border: none;\n  outline: 0;\n  background: ${props => props.theme.colors.background};\n  color: ${props => props.theme.colors.color};\n  font: inherit;\n  box-sizing: border-box;\n  vertical-align: top;\n  ${FRAME};\n  ${TRANSPARENCY};\n`;\n\nconst StyledIcon = styled(Icon)`\n  &:not(:first-child) {\n    margin-left: 5px;\n  }\n`;\n\nmodule.exports = StyledButton;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Code = require(\"../code\");\n\nmodule.exports = CodePane;\n\nfunction CodePane(props) {\n  return (\n    <StyledCodePane className={props.className} hermit={props.hermit}>\n      <StyledScrollbox>\n        <Code block language=\"html\">\n          {props.source}\n        </Code>\n      </StyledScrollbox>\n    </StyledCodePane>\n  );\n}\n\nconst BORDER_RADIUS = 10;\n\nconst StyledCodePane = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  &::before {\n    content: \"\";\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border-radius: ${props =>\n      props.hermit\n        ? `${BORDER_RADIUS}px`\n        : `0 ${BORDER_RADIUS}px ${BORDER_RADIUS}px 0`};\n    background: ${props => props.theme.colors.background};\n  }\n`;\n\nconst StyledScrollbox = styled.div`\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst { includes } = require(\"lodash\");\n\nconst refractor = require(\"refractor/core.js\");\nconst toh = require(\"hast-to-hyperscript\");\n\n// in core: css\nrefractor.register(require(\"refractor/lang/less.js\"));\nrefractor.register(require(\"refractor/lang/scss.js\"));\nrefractor.register(require(\"refractor/lang/stylus.js\"));\n\n// in core: js\nrefractor.register(require(\"refractor/lang/jsx.js\"));\nrefractor.register(require(\"refractor/lang/typescript.js\"));\nrefractor.register(require(\"refractor/lang/tsx.js\"));\nrefractor.register(require(\"refractor/lang/json.js\"));\n\n// in core: xml, html, svg\nrefractor.register(require(\"refractor/lang/markdown.js\"));\n\nrefractor.register(require(\"refractor/lang/bash.js\"));\nrefractor.register(require(\"refractor/lang/diff.js\"));\n\nmodule.exports = Code;\nmodule.exports.highlight = highlight;\nmodule.exports.toElements = toElements;\n\nfunction Code(props) {\n  const source = highlightCode(props.language, props.children);\n  const code = <StyledCode className={props.className}>{source}</StyledCode>;\n  return props.block ? <pre>{code}</pre> : code;\n}\n\nconst themes = {\n  dark: {\n    mono1: \"#abb2bf\",\n    mono2: \"#818896\",\n    mono3: \"#5c6370\",\n    hue1: \"#56b6c2\",\n    hue2: \"#61aeee\",\n    hue3: \"#c678dd\",\n    hue4: \"#7ec699\",\n    hue5: \"#e2777a\",\n    hue52: \"#be5046\",\n    hue6: \"#f8c555\",\n    hue62: \"#f08d49\"\n  },\n  light: {\n    mono1: \"#383a42\",\n    mono2: \"#686b77\",\n    mono3: \"#a0a1a7\",\n    hue1: \"#0184bb\",\n    hue2: \"#4078f2\",\n    hue3: \"#a626a4\",\n    hue4: \"#50a14f\",\n    hue5: \"#e45649\",\n    hue52: \"#c91243\",\n    hue6: \"#f08d49\",\n    hue62: \"#c18401\"\n  }\n};\n\nconst themed = key => props => themes[props.theme.name][key];\n\nconst StyledCode = styled.code`\n  display: block;\n  overflow-x: auto;\n  padding: 0.5em;\n  color: ${themed(\"mono1\")};\n  font-family: ${props => props.theme.fonts.code};\n\n  .token.comment,\n  .token.block-comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: ${themed(\"mono3\")};\n  }\n\n  .token.punctuation {\n    color: ${themed(\"mono1\")};\n  }\n\n  .token.tag,\n  .token.attr-name,\n  .token.namespace,\n  .token.deleted {\n    color: ${themed(\"hue5\")};\n  }\n\n  .token.function-name {\n    color: #6196cc;\n  }\n\n  .token.boolean,\n  .token.number,\n  .token.function {\n    color: ${themed(\"hue62\")};\n  }\n\n  .token.property,\n  .token.class-name,\n  .token.constant,\n  .token.symbol {\n    color: ${themed(\"hue6\")};\n  }\n\n  .token.selector,\n  .token.important,\n  .token.atrule,\n  .token.keyword,\n  .token.builtin {\n    color: ${themed(\"hue2\")};\n  }\n\n  .token.string,\n  .token.char,\n  .token.attr-value,\n  .token.regex,\n  .token.variable {\n    color: ${themed(\"hue4\")};\n  }\n\n  .token.operator,\n  .token.entity,\n  .token.url {\n    color: ${themed(\"hue5\")};\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n\n  .token.inserted {\n    color: green;\n  }\n`;\n\nfunction highlightCode(language, source = \"\") {\n  if (!language) {\n    return source;\n  }\n  if (!source) {\n    return source;\n  }\n  const hast = highlight(language, source);\n  return toElements(hast);\n}\n\nconst ALIASES = {\n  md: 'markdown',\n  sh: 'bash'\n};\n\nfunction highlight(language, source) {\n  const lang = ALIASES[language] || language;\n\n  if (!refractor.registered(lang)) {\n    return source;\n  }\n\n  return refractor.highlight(source, lang);\n}\n\nfunction toElements(children) {\n  if (!Array.isArray(children)) {\n    return children;\n  }\n\n  const root = toh(React.createElement, {\n    type: \"element\",\n    tagName: \"div\",\n    children\n  });\n\n  return root.props.children;\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst text = require(\"react-addons-text-content\");\n\nmodule.exports = Flag;\n\nfunction Flag(props) {\n  return <StyledText className={props.className}>{props.children}</StyledText>;\n}\n\nconst StyledText = styled.span`\n  display: inline-block;\n  padding: 2px 4px;\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 3px;\n  font-family: ${props => props.theme.fonts.default};\n  ${props => {\n    const color = getFlagColor(text(props.children), props.theme.colors);\n    return `\n\t\t\tborder-color: ${color};\n\t\t\tcolor: ${color};\n\t\t`;\n  }};\n`;\n\nfunction getFlagColor(flag, theme) {\n  switch (flag) {\n    case \"alpha\":\n      return theme.error;\n    case \"beta\":\n      return theme.warning;\n    case \"rc\":\n      return theme.info;\n    case \"stable\":\n      return theme.success;\n    case \"deprecated\":\n      return theme.error;\n    default:\n      return theme.error;\n  }\n}\n","module.exports = fonts;\n\nconst EMOJI = [\n  \"\\\"Apple Color Emoji\\\"\",\n  \"\\\"Segoe UI Emoji\\\"\",\n  \"\\\"Segoe UI Symbol\\\"\"\n];\n\nconst SYSTEM_FONTS = [\n  \"-apple-system\",\n  \"BlinkMacSystemFont\",\n  \"\\\"Segoe UI\\\"\",\n  \"Helvetica\",\n  \"Arial\",\n  \"sans-serif\",\n  ...EMOJI\n];\n\nconst CODE_FONTS = [\n  \"SFMono-Regular\",\n  \"Consolas\",\n  \"Liberation Mono\",\n  \"Menlo\",\n  \"Courier\",\n  \"monospace\",\n  ...EMOJI\n];\n\nfunction fonts() {\n  return {\n    default: SYSTEM_FONTS.join(\", \"),\n    code: CODE_FONTS.join(\", \")\n  };\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Text = require(\"../text\");\n\nconst ORDERS = {\n  0: 72,\n  1: 36,\n  2: 27,\n  3: 23,\n  4: 18\n};\n\nconst Headline = props => {\n  const is = props.is || 'h1';\n  return <Text is={is} className={props.className}>{props.children}</Text>;\n};\n\nmodule.exports = styled(Headline)`\n  color: ${props => props.theme.colors.color};\n  font-size: ${props => ORDERS[props.order]}px;\n  font-family: ${props => props.theme.fonts.headline};\n  margin: 60px 0 16px 0;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n","const React = require(\"react\");\nconst ReactDOM = require(\"react-dom\");\nconst styled = require(\"styled-components\").default;\nconst { omit, merge, uniq } = require(\"lodash\");\nconst withSideEffect = require(\"react-side-effect\");\n\n/* eslint-disable max-len */\nconst arrowLeft =\n  \"M9.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\";\nconst arrowRight =\n  \"m 14.202,10.767 c 0.14,0.147 0.258,0.31 0.344,0.494 0.215,0.464 0.215,1.01 0,1.474 -0.085,0.185 -0.203,0.347 -0.343,0.494 L 10.66,16.775 9.6,15.715 c 1.183,-1.186 2.46,-2.285 3.55,-3.558 0.058,-0.075 0.073,-0.176 0.033,-0.262 -0.013,-0.03 -0.033,-0.055 -0.056,-0.08 L 9.601,8.29 l 1.06,-1.06 3.54,3.54 z\";\nconst arrowDown = {\n  d: \"m 14.202,10.767 c 0.14,0.147 0.258,0.31 0.344,0.494 0.215,0.464 0.215,1.01 0,1.474 -0.085,0.185 -0.203,0.347 -0.343,0.494 L 10.66,16.775 9.6,15.715 c 1.183,-1.186 2.46,-2.285 3.55,-3.558 0.058,-0.075 0.073,-0.176 0.033,-0.262 -0.013,-0.03 -0.033,-0.055 -0.056,-0.08 L 9.601,8.29 l 1.06,-1.06 3.54,3.54 z\",\n  transform: \"rotate(90, 12.1536, 12.0025)\"\n};\nconst code =\n  \"M20.54 10.76l-3.313-3.313-.777 1.344 3.03 3.03c.098.1.098.257 0 .354l-3.533 3.538 1.06 1.06 3.536-3.538c.68-.683.68-1.792-.002-2.473zM4.52 11.82L8.05 8.29l-1.06-1.06L3.46 10.76c-.682.683-.683 1.79-.003 2.474l3.316 3.32.777-1.345-3.032-3.036c-.097-.097-.097-.255 0-.353zM7.6 18.12l7.5-12.99 1.3.75-7.5 12.99z\";\nconst close = [\n  \"M11.988 1.333C6.08 1.333 1.274 6.14 1.274 12.047c0 5.908 4.806 10.714 10.714 10.714s10.714-4.806 10.714-10.714c0-5.907-4.807-10.714-10.714-10.714zm0 19.78c-5 0-9.066-4.067-9.066-9.066s4.067-9.065 9.066-9.065 9.065 4.066 9.065 9.065-4.067 9.066-9.065 9.066z\",\n  \"M17.232 6.802a.824.824 0 0 0-1.165 0l-4.08 4.08-4.079-4.08a.824.824 0 1 0-1.165 1.166l4.08 4.08-4.08 4.079a.824.824 0 1 0 1.165 1.165l4.08-4.08 4.079 4.08a.82.82 0 0 0 1.165 0 .824.824 0 0 0 0-1.165l-4.08-4.08 4.08-4.079a.824.824 0 0 0 0-1.166z\"\n];\nconst dark =\n  \"M12 16v3.227L5.52 15.15l-.02-6.3L12 4.77V8l-2 2 4 4-2 2zm0-13L4 8.02l.02 7.96L12 21l7.937-5L20 8l-8-5z\";\nconst dependencies =\n  \"M9.453 20.026L6.75 21.378v-4.17l3.256-1.627v3.56c0 .38-.214.73-.553.9m-6.906 0c-.34-.17-.553-.515-.553-.893v-3.55l3.256 1.62v4.17L2.547 20.03zm3.006-7.062c.14-.07.294-.106.447-.106.153 0 .306.036.447.106l2.72 1.36L6 15.906 2.833 14.32l2.72-1.36zm4.57.16L7.12 11.62c-.345-.17-.732-.263-1.118-.263-.386 0-.773.09-1.118.26L1.878 13.12c-.854.423-1.384 1.28-1.384 2.233v3.77c0 .953.53 1.81 1.382 2.237l3.006 1.503c.345.174.732.266 1.118.266.386 0 .773-.09 1.118-.27l3.006-1.505c.852-.427 1.382-1.283 1.382-2.236v-3.77c0-.954-.53-1.81-1.382-2.237m11.33 6.906l-2.704 1.35V17.2l3.256-1.625v3.55c0 .38-.214.728-.553.897m-6.906 0c-.34-.17-.553-.517-.553-.895v-3.55l3.256 1.627v4.17l-2.703-1.353zm3.006-7.064c.14-.07.294-.104.447-.104.153 0 .306.04.447.11l2.72 1.36L18 15.91l-3.167-1.583 2.72-1.36zm4.57.16l-3.005-1.5c-.345-.17-.732-.262-1.118-.262-.386 0-.773.097-1.118.27l-3.006 1.502c-.852.425-1.382 1.28-1.382 2.234v3.772c0 .952.53 1.81 1.382 2.236l3.006 1.503c.345.17.732.262 1.118.262.386 0 .773-.092 1.118-.264l3.006-1.5c.852-.43 1.382-1.287 1.382-2.24v-3.77c0-.953-.53-1.81-1.382-2.236M8.547 9.53c-.34-.17-.553-.516-.553-.894v-3.55l3.256 1.627v4.17L8.547 9.53zm3.006-7.063c.14-.07.294-.106.447-.106.153 0 .306.04.447.11l2.72 1.36L12 5.41 8.833 3.827l2.72-1.36zm3.9 7.063l-2.703 1.352v-4.17l3.256-1.627v3.55c0 .38-.214.726-.553.895m.67 1.342c.853-.427 1.383-1.283 1.383-2.236V4.864c0-.953-.53-1.81-1.382-2.236l-3.006-1.503C12.773.953 12.386.86 12 .86c-.386 0-.773.093-1.118.265L7.876 2.628c-.852.427-1.382 1.283-1.382 2.236v3.772c0 .952.53 1.81 1.382 2.236l3.006 1.503c.345.172.732.264 1.118.264.386 0 .773-.1 1.118-.27l3.006-1.51z\";\nconst ecospheres =\n  \"M18.052 15.315c0 .287-.162.55-.418.677l-5.296 2.648c-.107.053-.222.08-.338.08-.116 0-.232-.027-.34-.08l-5.295-2.648c-.256-.128-.418-.39-.418-.677v-6.63c0-.287.162-.55.418-.677L11.66 5.36c.108-.053.224-.08.34-.08.116 0 .23.027.338.08l5.296 2.648c.256.128.418.39.418.677v6.63zm.253-8.65L13.01 4.02c-.313-.155-.662-.238-1.01-.238-.35 0-.698.083-1.01.238L5.696 6.666c-.77.385-1.248 1.16-1.248 2.02v6.63c0 .86.478 1.633 1.247 2.017l5.296 2.648c.315.16.66.24 1.01.24s.7-.08 1.01-.235l5.298-2.65c.77-.383 1.247-1.157 1.247-2.017v-6.63c0-.86-.478-1.634-1.247-2.02\";\nconst externalLink = [\n  {\n    d: \"m20.35093,4.63239l-7.85822,7.85822a0.69591,0.69591 0 0 1 -0.98402,-0.98402l7.85822,-7.85822l-5.27918,0a0.69591,0.69591 0 0 1 0,-1.39182l6.9591,0a0.69591,0.69591 0 0 1 0.69591,0.69591l0,6.95911a0.69591,0.69591 0 0 1 -1.39182,0l0,-5.27918zm-12.52639,0.4078l-3.48095,0c-1.15243,0 -2.08634,0.93113 -2.08634,2.08216l0,12.53892c0,1.14825 0.94505,2.08216 2.09052,2.08216l12.51943,0a2.08773,2.08773 0 0 0 2.09051,-2.09052l0,-3.47677a0.69591,0.69591 0 0 0 -1.39182,0l0,3.47677a0.69591,0.69591 0 0 1 -0.69869,0.6987l-12.51943,0a0.70148,0.70148 0 0 1 -0.69869,-0.69035l0,-12.53892c0,-0.38136 0.31038,-0.69034 0.69452,-0.69034l3.48095,0a0.69591,0.69591 0 0 0 0,-1.39182z\",\n    fillmode: \"nonzero\"\n  }\n];\nconst folder =\n  \"M10.5 4.5h-8v14c0 .552.448 1 1 1h17c.552 0 1-.448 1-1v-11h-11v-3zM9 6v3h11v9H4V6h5\";\nconst fullscreen =\n  \"M9 3.75v-1.5l-5 .003c-.966 0-1.75.785-1.75 1.75V9h1.5V4.813L8.38 9.44l1.06-1.06-4.63-4.63H9zm-.62 10.81l-4.63 4.626V15h-1.5v4.997c0 .964.785 1.75 1.75 1.75l5 .002v-1.5l-4.19-.005 4.63-4.626-1.06-1.06zM20 2.25l-5-.005v1.5l4.194.003-4.634 4.63 1.06 1.06 4.63-4.624v4.18h1.5V4c0-.966-.785-1.75-1.75-1.75m.25 16.936l-4.63-4.626-1.06 1.06 4.634 4.63-4.194.005v1.5l5-.004c.965 0 1.75-.782 1.75-1.75v-4.993h-1.5v4.18z\";\nconst globals =\n  \"M12 20.5c-3.046 0-5.716-1.616-7.217-4.03l.16.065 1.75-4.25c.08-.196.075-.416-.015-.607l-1.936-4.08c.595-.977 1.38-1.824 2.305-2.49L8.25 6.31V9c0 .116.028.23.08.335l3 6c.1.2.282.343.498.394.057.01.115.02.172.02.16 0 .32-.06.45-.15l4-3c.167-.13.275-.32.296-.53l.283-2.746 2.83-.543c.404.99.632 2.075.632 3.21 0 4.688-3.814 8.5-8.5 8.5M3.92 9.37l1.258 2.65-1.172 2.848C3.686 13.97 3.5 13.008 3.5 12c0-.92.15-1.802.422-2.63M19.138 7.4l-2.94.564c-.324.06-.57.33-.604.66l-.306 2.972-3.02 2.264L9.75 8.823V6c0-.2-.08-.39-.22-.53L8.38 4.32c1.1-.52 2.325-.82 3.62-.82 2.992 0 5.623 1.558 7.138 3.9M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2\";\nconst environment = globals;\nconst home =\n  \"M12.055 2l-11 10h1.89v9.02c0 .524.422.95.943.95h7.223V18.2H13v3.77l7.103.03h.008c.524 0 .947-.424.947-.95v-9.01l1.89-.04-10.89-10zm-.005 2.032l7.505 6.892v9.574l-5.055-.023V16.7H9.61v3.77H4.445v-9.525L12.05 4.03\";\nconst light =\n  \"M12 8V4.773l6.48 4.078.018 6.3L12 19.23V16l2-2-4-4 2-2zm0 13l8-5.02-.02-7.96L12 3 4.063 8 4 16l8 5z\";\nconst link = [\n  \"M13.836 15.767h-.749c-.05 0-.105 0-.155-.01a3.425 3.425 0 0 1-.935-.151 3.772 3.772 0 0 1-1.918-1.346 3.146 3.146 0 0 1-.321-.502 2.998 2.998 0 0 1-.216-.502c-.146-.393-.222-.814-.222-1.256s.076-.864.222-1.256h1.37c.096 0 .186.01.277.03a2.264 2.264 0 0 0 0 2.45c.1.152.216.293.351.418.136.13.286.241.457.337.321.176.693.281 1.09.281h3.516c1.245 0 2.26-1.014 2.26-2.26s-1.015-2.26-2.26-2.26h-1.487a4.758 4.758 0 0 0-1.28-1.507h2.767a3.768 3.768 0 0 1 0 7.534h-2.767z\",\n  \"M12.46 10.358a2.156 2.156 0 0 0-.462-.336 2.198 2.198 0 0 0-1.085-.282H7.397c-1.245 0-2.26 1.014-2.26 2.26s1.015 2.26 2.26 2.26h1.492c.316.587.753 1.1 1.275 1.507H7.397a3.768 3.768 0 0 1 0-7.534h3.516c.055 0 .105 0 .156.01.321.005.632.06.929.15a3.73 3.73 0 0 1 1.918 1.347c.13.16.236.326.327.502.085.16.16.326.216.502.146.391.22.814.22 1.256s-.074.863-.22 1.255h-1.371a1.19 1.19 0 0 1-.276-.03c.23-.351.361-.773.361-1.225a2.223 2.223 0 0 0-.714-1.642z\"\n];\nconst molecules =\n  \"M6.372 4.75h11.255v1.5H6.372zM12.9 16.172c.32.124.617.31.868.56.12.12.222.248.312.383l5.626-9.143c-.514-.06-.99-.274-1.377-.624l-5.43 8.824zM6.08 6.886c-.09.135-.193.263-.312.382-.25.25-.548.437-.87.56l5.43 8.825c.388-.35.864-.564 1.378-.624L6.08 6.883zm4.86 10.554c-.587.586-.587 1.536 0 2.12.585.587 1.535.587 2.12 0 .586-.584.586-1.534 0-2.12-.585-.586-1.535-.586-2.12 0m10.12-13c-.585-.586-1.535-.586-2.12 0-.586.586-.586 1.536 0 2.12.585.587 1.535.587 2.12 0 .587-.584.587-1.534 0-2.12m-16 0c-.585-.586-1.535-.586-2.12 0-.586.586-.586 1.536 0 2.12.585.587 1.535.587 2.12 0 .587-.584.587-1.534 0-2.12\";\nconst organisms =\n  \"M6.475 15.75c.008.084.025.165.025.25 0 .48-.142.922-.376 1.302l3.766 2.37c.287-.455.715-.808 1.224-1.002l-4.64-2.92zm11.05-.004l-4.64 2.923c.51.19.937.54 1.225 1l3.765-2.37c-.233-.38-.375-.83-.375-1.3 0-.09.017-.17.026-.26m2.454-5.25c-.564-.004-1.078-.203-1.495-.524l-.032 4.08c.417-.33.934-.54 1.505-.55l.023-3.005zm-15.973.01l.008 3c.567.003 1.083.203 1.5.524l-.01-4.042c-.418.318-.933.515-1.498.516m13.515-2.28c-.007-.08-.022-.15-.022-.22 0-.49.145-.94.386-1.32l-3.773-2.36c-.285.45-.71.81-1.22 1l4.63 2.893zm-11.046.01l4.635-2.91c-.5-.194-.93-.548-1.22-1.003L6.12 6.69c.237.383.38.83.38 1.31 0 .082-.016.16-.024.238M4 9.5c.828 0 1.5-.672 1.5-1.5S4.828 6.5 4 6.5 2.5 7.172 2.5 8 3.172 9.5 4 9.5m8-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5m-8 10c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8 5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m-8-4c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-1c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5\";\nconst pattern =\n  \"M12.75 18.948v-7.412c.846-.34 2.457-1.153 5.75-2.892v7.43l-5.75 2.874zM5.5 8.588l5.75 2.874v7.486L5.5 16.073V8.588zm6.5-3.91l5.546 2.772c-3.208 1.687-4.896 2.514-5.47 2.75l-5.56-2.78L12 4.676zm7.447 2.046l-7-3.5c-.14-.07-.294-.106-.447-.106-.153 0-.306.035-.447.106l-7 3.5c-.34.17-.553.515-.553.894v8.764c0 .38.214.725.553.894l7 3.5c.14.07.294.106.447.106.153 0 .307-.035.447-.106l7-3.5c.34-.17.553-.515.553-.894V7.618c0-.38-.214-.725-.553-.894\";\nconst patternplate = [\n  \"M12.002 20.426a1.264 1.264 0 0 1-.675-.189l-9.05-5.63a.86.86 0 1 1 .906-1.455l8.819 5.494 8.815-5.494a.86.86 0 1 1 .906 1.456l-9.047 5.643a1.267 1.267 0 0 1-.674.175z\",\n  \"M12 17.055a1.244 1.244 0 0 1-.657-.185l-8.886-5.545a1.193 1.193 0 0 1 0-2.023l8.886-5.542a1.25 1.25 0 0 1 1.314 0l8.886 5.542a1.193 1.193 0 0 1 0 2.023l-8.886 5.541a1.24 1.24 0 0 1-.657.19zm-7.99-6.742l7.99 4.98 7.99-4.98L12 5.334l-7.99 4.98z\"\n];\nconst polymers =\n  \"M6.475 15.75c.008.084.025.165.025.25 0 .48-.142.922-.376 1.302l3.766 2.37c.287-.455.715-.808 1.224-1.002l-4.64-2.92zm11.05-.004l-4.64 2.923c.51.19.937.54 1.225 1l3.765-2.37c-.233-.38-.375-.83-.375-1.3 0-.09.017-.17.026-.26m2.454-5.25c-.564-.008-1.078-.207-1.495-.528l-.032 4.08c.417-.33.934-.54 1.505-.55l.023-3.005zm-15.973.01l.008 3c.567 0 1.083.2 1.5.52l-.01-4.04c-.418.32-.933.514-1.498.515m13.515-2.28c-.007-.08-.022-.15-.022-.22 0-.49.145-.94.386-1.32l-3.773-2.36c-.285.45-.71.81-1.22 1l4.63 2.893zm-11.046.01l4.635-2.91c-.5-.194-.93-.548-1.22-1.003L6.12 6.69c.237.383.38.83.38 1.31 0 .082-.016.16-.024.238m11.064.152l-4.79 2.392v-5.41c-.238.076-.486.127-.75.127-.262 0-.51-.06-.75-.13v5.44l-4.79-2.4c-.088.51-.327.98-.68 1.34l4.512 2.26-4.502 2.24c.35.36.58.82.67 1.34l4.79-2.397v5.42c.24-.074.48-.127.75-.127s.51.05.75.126v-5.38l4.78 2.394c.077-.516.31-.983.653-1.35l-4.543-2.27 4.56-2.27c-.35-.36-.584-.827-.666-1.343M4 9.5c.828 0 1.5-.672 1.5-1.5S4.828 6.5 4 6.5 2.5 7.172 2.5 8 3.172 9.5 4 9.5m8-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5m-8 10c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8 5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m0-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5\";\nconst react =\n  \"M 16.019531 3 C 15.671125 3.00715 15.300981 3.091375 14.921875 3.2324219 C 14.163662 3.5145156 13.340776 4.0384002 12.503906 4.7753906 C 12.340395 4.9193891 12.176009 5.0979185 12.011719 5.2578125 C 11.901617 5.1513016 11.791835 5.0267433 11.681641 4.9277344 C 10.795655 4.1316628 9.9236686 3.5712298 9.125 3.2695312 C 8.7256657 3.1186821 8.3365968 3.0284378 7.9726562 3.0195312 C 7.6087157 3.0106212 7.270437 3.0833582 6.9726562 3.2578125 C 6.3972498 3.5948924 6.0860013 4.2551581 5.9492188 5.0585938 C 5.8124361 5.8620294 5.8476604 6.8442943 6.0605469 7.9453125 C 6.1031041 8.1654193 6.1740595 8.4036874 6.2304688 8.6328125 C 5.97484 8.7063633 5.7047008 8.7722283 5.46875 8.8554688 C 4.432811 9.2209626 3.5945928 9.6796197 2.9921875 10.201172 C 2.3897822 10.722724 2 11.327349 2 11.984375 C 2 12.662118 2.4082566 13.289795 3.0429688 13.839844 C 3.6776808 14.389892 4.5645597 14.878259 5.65625 15.255859 C 5.8317684 15.316571 6.0331245 15.360088 6.21875 15.414062 C 6.1582822 15.66053 6.0832065 15.917073 6.0390625 16.152344 C 5.8346362 17.241844 5.8098143 18.204961 5.9550781 18.992188 C 6.1003415 19.779412 6.4197964 20.423275 6.9863281 20.753906 C 7.5707485 21.094948 8.3167421 21.047508 9.1054688 20.765625 C 9.8941954 20.483741 10.754805 19.951627 11.623047 19.183594 C 11.761961 19.060717 11.898899 18.906452 12.037109 18.771484 C 12.216283 18.945766 12.396455 19.138171 12.574219 19.292969 C 13.405466 20.016801 14.218158 20.522511 14.966797 20.789062 C 15.715436 21.055615 16.430103 21.095246 16.996094 20.763672 C 17.579942 20.42164 17.910332 19.748024 18.0625 18.917969 C 18.214668 18.087913 18.188624 17.069767 17.964844 15.925781 C 17.929929 15.747281 17.867388 15.554788 17.822266 15.371094 C 17.950462 15.332733 18.093563 15.303037 18.216797 15.261719 C 19.34199 14.884455 20.256474 14.401339 20.914062 13.853516 C 21.571651 13.305692 22 12.675711 22 11.984375 C 22 11.316537 21.592337 10.708795 20.972656 10.185547 C 20.352976 9.6622986 19.494727 9.2034761 18.445312 8.8378906 C 18.238082 8.7656964 18.000825 8.7093156 17.779297 8.6445312 C 17.816133 8.4924793 17.870208 8.3318492 17.900391 8.1835938 C 18.13931 7.0099907 18.183182 5.96782 18.042969 5.1191406 C 17.902756 4.2704612 17.578578 3.5803124 16.982422 3.2324219 C 16.694443 3.0643682 16.367938 2.9928547 16.019531 3 z M 16.023438 3.8652344 C 16.246408 3.8595757 16.422746 3.9010322 16.548828 3.9746094 C 16.815675 4.1303292 17.07873 4.5521623 17.195312 5.2578125 C 17.311895 5.9634627 17.281462 6.9169667 17.058594 8.0117188 C 17.032589 8.1394545 16.984815 8.2822106 16.953125 8.4140625 C 16.134284 8.2234679 15.235015 8.0912672 14.294922 8.0019531 C 13.751908 7.2186476 13.191061 6.4913648 12.617188 5.8652344 C 12.768776 5.7177962 12.922862 5.5514965 13.072266 5.4199219 C 13.849433 4.7355084 14.600382 4.2698533 15.220703 4.0390625 C 15.530864 3.9236671 15.800467 3.8708931 16.023438 3.8652344 z M 7.9667969 3.8847656 C 8.204941 3.8916645 8.4921202 3.9495056 8.8222656 4.0742188 C 9.4825566 4.3236447 10.28203 4.8247788 11.107422 5.5664062 C 11.205243 5.6542984 11.305753 5.7681072 11.404297 5.8632812 C 10.828373 6.4891798 10.260402 7.2150849 9.7109375 8 C 8.7742691 8.0878313 7.878881 8.2210717 7.0605469 8.4082031 C 7.0093893 8.1995211 6.9427183 7.979966 6.9042969 7.78125 C 6.7063246 6.7573656 6.6823383 5.8644203 6.7949219 5.203125 C 6.9075054 4.5418297 7.1543156 4.1475862 7.40625 4 C 7.5395435 3.9219104 7.7286527 3.8778668 7.9667969 3.8847656 z M 12.011719 6.4746094 C 12.406433 6.9082361 12.7994 7.4001799 13.1875 7.9238281 C 12.794349 7.9049913 12.404259 7.8808594 12 7.8808594 C 11.601264 7.8808594 11.215567 7.9055035 10.826172 7.9238281 C 11.218061 7.4011371 11.614064 6.9090918 12.011719 6.4746094 z M 12 8.7402344 C 12.62139 8.7402344 13.227614 8.7668454 13.818359 8.8125 C 14.151039 9.3088157 14.475839 9.8245485 14.785156 10.365234 C 15.09578 10.908201 15.379531 11.451329 15.642578 11.990234 C 15.381336 12.536206 15.099335 13.084929 14.787109 13.632812 C 14.47815 14.17496 14.155199 14.694701 13.826172 15.193359 C 13.231026 15.236716 12.621925 15.263672 12 15.263672 C 11.385158 15.263672 10.783354 15.241979 10.195312 15.203125 C 9.857099 14.704207 9.5270761 14.182489 9.2148438 13.636719 C 8.9026472 13.090995 8.6226165 12.543692 8.3652344 12.001953 C 8.6223479 11.459349 8.9033118 10.912375 9.2128906 10.369141 C 9.5231725 9.8246773 9.8493881 9.3072485 10.183594 8.8125 C 10.77474 8.7671354 11.382161 8.7402344 12 8.7402344 z M 9.0917969 8.9335938 C 8.8809698 9.2664173 8.6672078 9.5936441 8.4667969 9.9453125 C 8.26942 10.29166 8.0992881 10.639079 7.921875 10.986328 C 7.6728423 10.387485 7.4513424 9.8008736 7.2792969 9.2402344 C 7.8448649 9.1122912 8.4555981 9.0142998 9.0917969 8.9335938 z M 14.912109 8.9335938 C 15.551594 9.0156474 16.16691 9.1173252 16.734375 9.2480469 C 16.562073 9.8064733 16.34146 10.391171 16.089844 10.988281 C 15.90762 10.63874 15.729215 10.288907 15.529297 9.9394531 C 15.33083 9.5925325 15.120651 9.264526 14.912109 8.9335938 z M 6.4472656 9.4648438 C 6.6951622 10.278405 7.0319189 11.134632 7.4277344 12.003906 C 7.026288 12.886892 6.6864667 13.756169 6.4355469 14.582031 C 6.272336 14.53433 6.0902943 14.49621 5.9375 14.443359 C 4.9277033 14.094085 4.1309727 13.643168 3.6074219 13.189453 C 3.0838711 12.735738 2.859375 12.295484 2.859375 11.984375 C 2.859375 11.681865 3.0645925 11.275878 3.5546875 10.851562 C 4.0447825 10.427248 4.7971191 10.004273 5.7558594 9.6660156 C 5.9674342 9.5913747 6.2155634 9.5317521 6.4472656 9.4648438 z M 17.5625 9.4765625 C 17.761147 9.5349289 17.977705 9.5841952 18.162109 9.6484375 C 19.135811 9.987647 19.909923 10.414765 20.417969 10.84375 C 20.926014 11.272735 21.140625 11.684825 21.140625 11.984375 C 21.140625 12.30116 20.909935 12.739581 20.365234 13.193359 C 19.820534 13.647138 18.990692 14.096108 17.943359 14.447266 C 17.839835 14.481976 17.715549 14.506445 17.607422 14.539062 C 17.350826 13.718687 16.99339 12.85937 16.583984 11.988281 C 16.977973 11.130028 17.315538 10.284009 17.5625 9.4765625 z M 16.097656 12.992188 C 16.360815 13.600657 16.599902 14.199577 16.779297 14.767578 C 16.197615 14.901882 15.568725 15.005518 14.908203 15.085938 C 15.119082 14.747835 15.331463 14.412597 15.533203 14.058594 C 15.735416 13.703757 15.915097 13.347868 16.097656 12.992188 z M 7.921875 13.021484 C 8.1000429 13.369168 8.2716246 13.716461 8.4707031 14.064453 C 8.6760168 14.423334 8.8964141 14.759151 9.1132812 15.099609 C 8.4651932 15.026399 7.8402627 14.934137 7.2675781 14.808594 C 7.4427132 14.236002 7.6671378 13.634621 7.921875 13.021484 z M 16.994141 15.599609 C 17.033614 15.76138 17.090652 15.934214 17.121094 16.089844 C 17.32857 17.150499 17.342782 18.076459 17.216797 18.763672 C 17.090815 19.450885 16.824358 19.868082 16.5625 20.021484 C 16.307877 20.17065 15.861548 20.194868 15.253906 19.978516 C 14.646267 19.762166 13.908649 19.315011 13.138672 18.644531 C 12.976886 18.503647 12.809552 18.324509 12.644531 18.164062 C 13.213719 17.533605 13.768067 16.796304 14.304688 16.009766 C 15.256548 15.924226 16.164838 15.793207 16.994141 15.599609 z M 7.046875 15.644531 C 7.8734712 15.828556 8.7843105 15.944441 9.7285156 16.021484 C 10.281098 16.80836 10.851201 17.535739 11.429688 18.164062 C 11.304718 18.286056 11.178838 18.429245 11.054688 18.539062 C 10.250844 19.250131 9.4655785 19.725022 8.8164062 19.957031 C 8.1672342 20.18904 7.6820257 20.164669 7.4199219 20.011719 C 7.1650564 19.862976 6.9174785 19.478939 6.7988281 18.835938 C 6.6801777 18.192936 6.695132 17.321208 6.8847656 16.310547 C 6.9241429 16.100681 6.9927179 15.866659 7.046875 15.644531 z M 13.201172 16.083984 C 12.816824 16.612397 12.428545 17.113513 12.037109 17.550781 C 11.636336 17.112875 11.235674 16.616934 10.839844 16.089844 C 11.2244 16.104917 11.606956 16.123047 12 16.123047 C 12.406689 16.123047 12.803605 16.101833 13.201172 16.083984 z\";\nconst reload =\n  \"M17.266 6.664C15.91 5.327 14.05 4.5 12 4.5c-4.135 0-7.5 3.365-7.5 7.5s3.365 7.5 7.5 7.5 7.5-3.365 7.5-7.5c0-.544-.058-1.074-.168-1.586h1.53C20.95 10.93 21 11.46 21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.453 0 4.677.98 6.3 2.572v-.986h1.5v3.578h-3.578v-1.5h1.044zM12 13.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5c.828 0 1.5.673 1.5 1.5s-.672 1.5-1.5 1.5z\";\nconst rulers =\n  \"M21 7H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm-.5 8.5H18V13h-1.5v2.5h-2V13H13v2.5h-2V13H9.5v2.5h-2V13H6v2.5H3.5v-7h17z\";\nconst search =\n  \"M8.65 14.248c-.376-.46-.697-.962-.955-1.496-.335-.695-.56-1.44-.668-2.205-.11-.787-.096-1.59.044-2.373.13-.726.37-1.432.71-2.09.75-1.448 1.96-2.636 3.43-3.343.64-.3 1.32-.52 2.02-.64.35-.05.69-.08 1.04-.09h.29c.35.01.7.03 1.04.09.7.11 1.39.32 2.03.62 1.53.717 2.8 1.95 3.55 3.466.32.63.54 1.31.67 2.006.14.78.16 1.584.05 2.37-.106.76-.332 1.51-.667 2.204-.393.81-.933 1.55-1.586 2.174-.675.643-1.472 1.16-2.34 1.515-.895.365-1.862.553-2.832.553s-1.933-.186-2.83-.553c-.684-.28-1.325-.66-1.9-1.13-2.09 2.21-4.294 4.307-6.437 6.464-.09.08-.186.15-.3.187-.1.034-.205.046-.31.035-.072-.01-.145-.03-.213-.058-.308-.13-.497-.455-.454-.79.02-.15.088-.28.184-.395 2.09-2.23 4.3-4.343 6.46-6.506zM14.377 3.5c-.28.006-.56.027-.836.07-.56.085-1.1.25-1.62.49-1.16.542-2.13 1.457-2.74 2.58-.28.518-.48 1.075-.6 1.65-.13.65-.15 1.318-.07 1.974.08.612.25 1.21.52 1.77.31.655.73 1.253 1.25 1.758.54.523 1.17.945 1.86 1.236.715.302 1.486.462 2.26.472.777.01 1.554-.13 2.277-.416.695-.275 1.34-.682 1.885-1.192.53-.492.97-1.08 1.29-1.726.276-.55.464-1.144.557-1.753.1-.63.09-1.273-.01-1.9-.094-.56-.266-1.103-.51-1.613-.58-1.197-1.555-2.185-2.744-2.776-.505-.252-1.047-.43-1.603-.53-.273-.05-.55-.077-.83-.09-.1-.003-.204-.004-.31-.004z\";\n\nconst atoms = [\n  \"M12 3c-1.39 0-2.7.324-3.874.886.355.357.608.807.75 1.305.952-.436 2.008-.69 3.124-.69 4.135 0 7.5 3.367 7.5 7.5s-3.365 7.5-7.5 7.5-7.5-3.363-7.5-7.5c0-1.114.252-2.17.69-3.123-.497-.14-.947-.395-1.304-.75C3.324 9.3 3 10.612 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9-4.03-9-9-9\",\n  \"M13.5 12c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5.672 1.5 1.5 1.5 1.5-.672 1.5-1.5M6 7.5c.828 0 1.5-.672 1.5-1.5S6.828 4.5 6 4.5 4.5 5.172 4.5 6 5.172 7.5 6 7.5\"\n];\n\nconst arrowDoubleLeft = [\n  \"M7.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\",\n  \"M12.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\"\n];\n\nconst arrowDoubleRight = [\n  \"M16.548 10.767c.14.147.258.31.344.494.215.464.215 1.01 0 1.474-.085.185-.203.347-.343.494l-3.543 3.546-1.06-1.06c1.183-1.186 2.46-2.285 3.55-3.558.058-.075.073-.176.033-.262-.013-.03-.033-.055-.056-.08L11.947 8.29l1.06-1.06 3.54 3.54z\",\n  \"M11.548 10.767c.14.147.258.31.344.494.215.464.215 1.01 0 1.474-.085.185-.203.347-.343.494l-3.543 3.546-1.06-1.06c1.183-1.186 2.46-2.285 3.55-3.558.058-.075.073-.176.033-.262-.013-.03-.033-.055-.056-.08L6.947 8.29l1.06-1.06 3.54 3.54z\"\n];\n\nconst folderOpen = [\n  {\n    d:\n      \"M20 18H4V9h5v3h11v6zM10.5 7.5v-3h-8v14c0 .552.448 1 1 1h17c.552 0 1-.448 1-1v-11h-11z\"\n  }\n];\n\nconst documentation = [\n  \"M18.375 16.625h-9v-13h9v13zm-10.5-14.5v15c0 .552.447 1 1 1h11v-16h-12z\",\n  \"M14.125 20.375h-8.25c-.137 0-.25-.112-.25-.25V6.875h1.25v-1.5h-2.75v14.75c0 .965.786 1.75 1.75 1.75h9.75v-2.75h-1.5v1.25z\",\n  {\n    tagName: \"circle\",\n    cx: 14,\n    cy: 6.5,\n    r: 1.5\n  },\n  \"M14.75 9h.75v1.5h-.75v3H16V15h-4v-1.5h1.25v-3h-.75V9h.75v-.004h1.5V9z\"\n];\n\nconst issue = [\n  \"M19.98 10.99l-2.647-5.295c-.385-.77-1.158-1.248-2.02-1.248h-6.63c-.858 0-1.633.48-2.018 1.248L4.018 10.99c-.156.313-.238.66-.238 1.01s.082.697.237 1.01l2.648 5.295c.385.77 1.16 1.248 2.02 1.248h6.63c.86 0 1.633-.48 2.018-1.247l2.647-5.296c.156-.312.24-.66.24-1.01s-.083-.697-.24-1.01zm-1.34 1.35l-2.648 5.295c-.127.256-.39.418-.677.418h-6.63c-.287 0-.55-.162-.677-.418L5.36 12.34c-.053-.11-.08-.225-.08-.34 0-.116.026-.23.08-.338l2.647-5.297c.128-.256.39-.418.677-.418h6.63c.287 0 .55.162.677.418l2.65 5.297c.053.106.08.222.08.338 0 .115-.027.23-.08.34z\",\n  {\n    tagName: \"circle\",\n    cx: 12,\n    cy: 15,\n    r: 1.5\n  },\n  \"M11.25 7.474h1.5v4.5h-1.5z\"\n];\n\nconst command = [\n  \"M20.5 5.5h-17c-.55 0-1 .45-1 1v11c0 .552.45 1 1 1h17c.552 0 1-.448 1-1v-11c0-.55-.448-1-1-1zM20 17H4V7h16v10z\",\n  \"M8.375 14.25h7.25v1.5h-7.25zm-2.875-6H7v1.5H5.5zm2.875 0h1.5v1.5h-1.5zm2.875 0h1.5v1.5h-1.5zm5.75 0h1.5v1.5H17zm-2.875 0h1.5v1.5h-1.5zm-4.313 3h1.5v1.5h-1.5zm2.876 0h1.5v1.5h-1.5zm-7.188 0h2.938v1.5H5.5zm10.078 0h2.938v1.5h-2.938zm-10.078 3H7v1.5H5.5zm11.516 0h1.5v1.5h-1.5z\"\n];\n\nconst placeholder = [\n  {\n    tagName: \"rect\",\n    x: 0,\n    y: 0,\n    width: 24,\n    height: 24\n  }\n];\n\nconst hamburger = [\n  \"M7.86 12.83V11.53c0-.24.193-.433.432-.433h12.12c.239 0 .433.194.433.433v1.299c0 .24-.194.433-.432.433H8.292a.433.433 0 0 1-.432-.433zm0 5.194v-1.299c0-.24.193-.433.432-.433h12.12c.239 0 .433.194.433.433v1.299c0 .24-.194.432-.432.432H8.292a.433.433 0 0 1-.432-.432zm0-10.388V6.337c0-.24.193-.432.432-.432h12.12c.239 0 .433.193.433.432v1.299c0 .24-.194.433-.432.433H8.292a.433.433 0 0 1-.432-.433zM3.315 13.05v-1.74a.43.43 0 0 1 .43-.428h1.738a.43.43 0 0 1 .43.429v1.74a.43.43 0 0 1-.43.428H3.744a.43.43 0 0 1-.429-.429zm0 5.194v-1.74a.43.43 0 0 1 .43-.428h1.738a.43.43 0 0 1 .43.429v1.74a.43.43 0 0 1-.43.428H3.744a.43.43 0 0 1-.429-.429zm0-10.388V6.117a.43.43 0 0 1 .43-.429h1.738a.43.43 0 0 1 .43.43v1.738a.43.43 0 0 1-.43.43H3.744a.43.43 0 0 1-.429-.43z\"\n];\n\nconst icons = {\n  \"arrow-double-left\": () => arrowDoubleLeft,\n  \"arrow-double-right\": () => arrowDoubleRight,\n  \"arrow-down\": () => arrowDown,\n  \"arrow-left\": () => arrowLeft,\n  \"arrow-right\": () => arrowRight,\n  atoms: () => atoms,\n  \"checkers-inverted\": () => checkers(true),\n  checkers: () => checkers(),\n  close: () => close,\n  code: () => code,\n  command: () => command,\n  dark: () => dark,\n  dependencies: () => dependencies,\n  documentation: () => documentation,\n  doc: () => documentation,\n  ecospheres: () => ecospheres,\n  \"external-link\": () => externalLink,\n  environment: () => environment,\n  placeholder: () => placeholder,\n  \"folder-open\": () => folderOpen,\n  folder: () => folder,\n  fullscreen: () => fullscreen,\n  globals: () => globals,\n  hamburger: () => hamburger,\n  home: () => home,\n  issue: () => issue,\n  light: () => light,\n  link: () => link,\n  molecules: () => molecules,\n  organisms: () => organisms,\n  pattern: () => pattern,\n  patternplate: () => patternplate,\n  polymers: () => polymers,\n  react: () => react,\n  reload: () => reload,\n  rulers: () => rulers,\n  search: () => search\n};\n\nfunction checkers(inverted) {\n  const length = 20;\n  const count = 5;\n  const dim = length / count;\n  const offset = (24 - length) / 2;\n  const field = count * count / 2;\n\n  const fields = range(count * count)\n    .map((_, i) => {\n      const x = i % count;\n      const y = (i - x) / count;\n\n      const filled = y % 2 === 0 ? x % 2 === 0 : x % 2 !== 0;\n\n      if (!filled) {\n        return null;\n      }\n\n      const product = (y + 1) * (x + 1);\n      const inArea = inverted ? true : product <= field;\n\n      if (!inArea) {\n        return null;\n      }\n\n      return rect({\n        x: offset + x * dim,\n        y: offset + y * dim,\n        width: dim,\n        height: dim\n      });\n    })\n    .filter(Boolean);\n\n  return joinPaths(fields);\n}\n\nfunction rect(props) {\n  const p = omit(props, [\"width\", \"height\", \"x\", \"y\"]);\n  const d = `M${props.x},${props.y}h${props.width}v${props.height}h-${props.width}z`;\n  return merge({}, p, { d });\n}\n\nfunction range(count) {\n  return Array(count).fill(true);\n}\n\nfunction joinPaths(paths) {\n  const d = paths.map(path => path.d).join(\"\");\n  return [\n    {\n      d\n    }\n  ];\n}\n\nconst iconNames = Object.keys(icons);\n\n/**\n * Export ALL THE THINGS\n */\nmodule.exports = withSideEffect(toState, onChange)(Icon);\n\nmodule.exports.symbols = iconNames;\n\nmodule.exports.Symbol = Symbol;\n\nmodule.exports.definitions = {\n  patternplate\n};\n/**\n * Export ALL THE THINGS\n */\n\nfunction toState(propsList) {\n  const list = propsList.map(item => item.symbol).sort();\n  const symbols = uniq(list);\n  return <IconRegistry symbols={symbols} />;\n}\n\nfunction onChange(registry) {\n  const element = getRegistryMountPoint();\n  ReactDOM.render(registry, element);\n}\n\nfunction getRegistryMountPoint() {\n  const { document } = global;\n  const found = document.querySelector(\"[data-icon-registry]\");\n  if (found) {\n    return found;\n  }\n\n  const created = document.createElement(\"div\");\n  created.setAttribute(\"data-icon-registry\", true);\n  document.body.appendChild(created);\n  return created;\n}\n\nconst SIZES = {\n  s: '14px',\n  m: '22px',\n  l: '38px',\n  text: '.8em'\n};\n\nfunction Icon(props) {\n  return (\n    <StyledIcon className={props.className} size={props.size} inline={props.inline}>\n      <use\n        title={props.title}\n        xlinkHref={`#${props.symbol || \"placeholder\"}`}\n      />\n    </StyledIcon>\n  );\n}\n\nIcon.defaultProps = {\n  size: \"m\",\n  symbol: \"placeholder\"\n};\n\nconst StyledIcon = styled.svg`\n  display: ${props => props.inline ? 'inline-flex' : 'flex'};\n  flex-shrink: 0;\n  width: ${props => SIZES[props.size]};\n  height: ${props => SIZES[props.size]};\n  justify-content: center;\n  align-items: center;\n  color: inherit;\n  fill: currentColor;\n`;\n\nfunction IconRegistry(props) {\n  return (\n    <StyledRegistry>\n      {props.symbols.map(symbol => {\n        const creator =\n          typeof icons[symbol] === \"function\"\n            ? icons[symbol]\n            : icons.placeholder;\n\n        const paths = creator();\n        return <Symbol key={symbol} id={symbol} definition={paths} />;\n      })}\n    </StyledRegistry>\n  );\n}\n\nIconRegistry.defaultProps = {\n  symbols: []\n};\n\nconst StyledRegistry = styled.svg`\n  position: fixed;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  padding: 0;\n  visibility: hidden;\n`;\n\nfunction Symbol(props) {\n  const paths = Array.isArray(props.definition)\n    ? props.definition\n    : [props.definition];\n\n  if (props.emit) {\n    return (\n      <g style={props.style}>\n        {paths.map(p => <Path key={p} definition={p} />)}\n      </g>\n    );\n  }\n\n  return (\n    <symbol className={props.className} id={props.id} viewBox=\"0 0 24 24\">\n      {paths.map(p => <Path key={p} definition={p} />)}\n    </symbol>\n  );\n}\n\nfunction Path(props) {\n  const { definition } = props;\n  const def = typeof definition === \"string\" ? { d: definition } : definition;\n  const p = omit(def, [\"tagName\"]);\n  const Component = def.tagName || \"path\";\n  return <Component {...p} />;\n}\n","const {EventEmitter} = require(\"events\");\n\nmodule.exports.WebSocketClient = class WebSocketClient {\n  constructor({src, reconnect, interval}) {\n    this.src = src;\n    this.reconnect = reconnect;\n    this.interval = interval;\n    this.opened = false;\n    this.ended = false;\n    this.ee = new EventEmitter();\n  }\n\n  open() {\n    const exec = (type, args) => this.ee.listeners(type).forEach(l => l(...args));\n\n    const open = () => {\n      this.instance = new global.WebSocket(this.src);\n\n      // Make Chrome behave and close the websocket connection\n      // before unloading the browsing context. Ref: https://github.com/websockets/ws/issues/1256\n      global.addEventListener(\"beforeunload\", this.close);\n\n      this.instance.addEventListener(\"open\", (...args) => {\n        this.opened = true;\n        exec(\"open\", args);\n      });\n\n      this.instance.addEventListener(\"close\", (...args) => {\n        global.removeEventListener(\"beforeunload\", this.close);\n        this.opened = false;\n        exec(\"close\", args);\n      });\n\n      this.instance.addEventListener(\"error\", (...args) => {\n        global.removeEventListener(\"beforeunload\", this.close);\n        this.opened = false;\n        exec(\"error\", args);\n      });\n\n      this.instance.addEventListener(\"message\", (...args) => {\n        exec(\"message\", args);\n      });\n    };\n\n    open();\n\n    if (this.reconnect) {\n      this.loop = setInterval(() => {\n        if (this.ended  || this.opened) {\n          return;\n        }\n        open();\n      }, this.interval);\n    }\n  }\n\n  close() {\n    this.ended = true;\n    if (this.opened) {\n      this.instance.close();\n    }\n  }\n\n  onOpen(handler) {\n    this.ee.on(\"open\", handler);\n  }\n\n  onClose(handler) {\n    this.ee.on(\"close\", handler);\n    this.instance.addEventListener(\"close\", handler);\n  }\n\n  onError(handler) {\n    this.ee.on(\"error\", handler);\n    this.instance.addEventListener(\"error\", handler);\n  }\n\n  onMessage(handler) {\n    this.ee.on(\"message\", handler);\n    this.instance.addEventListener(\"message\", handler);\n  }\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst semver = require(\"semver\");\nconst text = require(\"react-addons-text-content\");\nconst { omit } = require(\"lodash\");\n\nconst Code = require(\"../code\");\nconst Link = require(\"../link\");\nconst Flag = require(\"../flag\");\nconst Icon = require(\"../icon\");\nconst Text = require(\"../text\");\n\nmodule.exports = InfoPane;\nmodule.exports.InnerInfoPane = InnerInfoPane;\n\nconst BORDER_RADIUS = 10;\n\nconst StyledInfoPane = styled.div`\n  position: relative;\n  width: 300px;\n  min-height: 300px;\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: ${props =>\n    props.hermit\n      ? `${BORDER_RADIUS}px`\n      : `${BORDER_RADIUS}px 0 0 ${BORDER_RADIUS}px`};\n  border-right: 1px solid ${props => props.theme.colors.border};\n  border-right-width: ${props => (props.hermit ? 0 : 1)}px;\n  overflow: scroll;\n  overflow-x: hidden;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledInnerPane = styled.div`\n  position: relative;\n  z-index: 1;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledName = styled.div`\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px 15px 0 15px;\n`;\n\nconst StyledToolbar = styled.div`\n  display: flex;\n  position: relative;\n  z-index: 1;\n  align-items: center;\n  padding: 0 15px 10px 15px;\n`;\n\nconst StyledDisplayName = styled(Text)`\n  flex: 1 0 auto;\n  color: ${props => props.theme.colors.color};\n  margin-right: 10px;\n`;\n\nconst StyledId = styled(Text)`\n  flex: 0 1 auto;\n  color: ${props => props.theme.colors.recess};\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst StyledData = styled.table`\n  position: relative;\n  z-index: 1;\n  flex: 0 0 auto;\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n`;\n\nconst StyledDataCell = styled.td`\n  box-sizing: border-box;\n  height: 30px;\n  padding: 4px 6px;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  &:first-child {\n    padding-left: 20px;\n  }\n  &:last-child {\n    text-align: right;\n    padding-right: 15px;\n  }\n`;\n\nconst StyledKey = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.color};\n`;\n\nfunction SearchTrigger(props) {\n  return (\n    <Link\n      className={props.className}\n      query={{\n        \"search-enabled\": true,\n        search: `${props.field}=${props.search}`\n      }}\n      title={`Search other patterns with ${props.field} \"${props.search}\"`}\n    >\n      {props.children}\n    </Link>\n  );\n}\n\nconst VERSION_COLOR = props => {\n  const v = text(props.children);\n  if (!semver.valid(v)) {\n    return props.theme.colors.error;\n  }\n  if (semver.satisfies(v, \"<=0.1\")) {\n    return props.theme.colors.error;\n  }\n  if (semver.satisfies(v, \"> 0.1 < 1\")) {\n    return props.theme.colors.color;\n  }\n  return props.theme.colors.success;\n};\n\nconst StyledVersion = styled(Version)`\n  color: ${VERSION_COLOR};\n  &:link,\n  &:visited {\n    text-decoration: none;\n    color: ${VERSION_COLOR};\n  }\n`;\n\nconst StyledTag = styled(Tag)`\n  display: inline-block;\n  padding: 2px 4px;\n  margin-top: 1.5px;\n  margin-bottom: 1.5px;\n  border: 1px solid ${props => props.theme.colors.color};\n  border-radius: 3px;\n  &:link,\n  &:visited,\n  &:active {\n    text-decoration: none;\n    color: ${props => props.theme.colors.color};\n  }\n  &:nth-child(2n) {\n    margin-left: 3px;\n  }\n`;\n\nconst StyledToggleHead = styled(ToggleHead)`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  font-weight: bold;\n  color: ${props => props.theme.colors.color};\n  padding: 3px 15px 3px 20px;\n  box-sizing: border-box;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  cursor: pointer;\n`;\n\nconst StyledToggleBody = styled.div`\n  display: flex;\n  color: ${props => props.theme.colors.color};\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 15px 5px 20px;\n  box-sizing: border-box;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledCode = styled(Code)`\n  width: 100%;\n`;\n\nfunction InfoPane(props) {\n  const { className } = props;\n  const innerProps = omit(props, [\"className\"]);\n\n  return (\n    <StyledInfoPane className={className} hermit={props.hermit}>\n      <InnerInfoPane {...innerProps} standalone />\n    </StyledInfoPane>\n  );\n}\n\nfunction InnerInfoPane(props) {\n  return (\n    <StyledInnerPane standalone={props.standalone} className={props.className}>\n      <StyledName>\n        <StyledDisplayName>{props.name}</StyledDisplayName>\n        <StyledId>{props.id}</StyledId>\n      </StyledName>\n      {props.children && <StyledToolbar>{props.children}</StyledToolbar>}\n      <StyledData>\n        <tbody>\n          <tr>\n            <StyledDataCell>\n              <StyledKey>Version</StyledKey>\n            </StyledDataCell>\n            <StyledDataCell>\n              <StyledVersion field=\"version\" search={props.version}>\n                {props.version}\n              </StyledVersion>\n            </StyledDataCell>\n          </tr>\n          <tr>\n            <StyledDataCell>\n              <StyledKey>Flag</StyledKey>\n            </StyledDataCell>\n            <StyledDataCell>\n              <SearchTrigger field=\"flag\" search={props.flag}>\n                <Flag>{props.flag}</Flag>\n              </SearchTrigger>\n            </StyledDataCell>\n          </tr>\n          {has(props.tags) && (\n            <tr>\n              <StyledDataCell>\n                <StyledKey>Tags</StyledKey>\n              </StyledDataCell>\n              <StyledDataCell>\n                {props.tags.map(t => <StyledTag key={t} tag={t} />)}\n              </StyledDataCell>\n            </tr>\n          )}\n          {has(props.envs) &&\n            props.envs.length > 1 && (\n              <tr>\n                <StyledDataCell>\n                  <StyledKey>Environment</StyledKey>\n                </StyledDataCell>\n                <StyledDataCell>\n                  <Select\n                    name=\"environment\"\n                    onChange={props.onEnvChange}\n                    value={props.env.name}\n                  >\n                    {props.envs.map(e => (\n                      <option key={e.name} value={e.name}>\n                        {e.displayName}\n                      </option>\n                    ))}\n                  </Select>\n                </StyledDataCell>\n              </tr>\n            )}\n        </tbody>\n      </StyledData>\n      {has(props.dependencies) && (\n        <Toggle\n          head={`Dependencies (${props.dependencies.length})`}\n          enabled={props.dependenciesEnabled}\n          name=\"dependencies\"\n        >\n          <PatternList>\n            {props.dependencies.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.dependents) && (\n        <Toggle\n          head={`Dependents (${props.dependents.length})`}\n          enabled={props.dependentsEnabled}\n          name=\"dependents\"\n        >\n          <PatternList>\n            {props.dependents.map(d => <PatternItem key={d.id} pattern={d} />)}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.demoDependencies) && (\n        <Toggle\n          head={`Demo Dependencies (${props.demoDependencies.length})`}\n          enabled={props.demoDependenciesEnabled}\n          name=\"demo-dependencies\"\n        >\n          <PatternList>\n            {props.demoDependencies.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.demoDependents) && (\n        <Toggle\n          head={`Demo Dependents (${props.demoDependents.length})`}\n          enabled={props.demoDependentsEnabled}\n          name=\"demo-dependents\"\n        >\n          <PatternList>\n            {props.demoDependents.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      <Toggle head=\"Manifest\" enabled={props.manifestEnabled} name=\"manifest\">\n        <StyledCode block language=\"json\">\n          {props.manifest}\n        </StyledCode>\n      </Toggle>\n    </StyledInnerPane>\n  );\n}\n\nconst StyledSelectContainer = styled.div`\n  position: relative;\n  &::after {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    z-index: 1;\n    content: \"▼\";\n    font-size: 0.8em;\n    color: ${props => props.theme.colors.color};\n    transform: translateY(-50%);\n  }\n`;\n\nconst StyledSelect = styled.select`\n  position: relative;\n  z-index: 2;\n  appearance: none;\n  color: ${props => props.theme.colors.color};\n  background: transparent;\n  font-size: 16px;\n  border: none;\n  border-radius: none;\n  padding-right: 20px;\n  &:focus {\n    outline: none;\n  }\n`;\n\nfunction Select(props) {\n  return (\n    <StyledSelectContainer className={props.className}>\n      <StyledSelect onChange={props.onChange} value={props.value}>\n        {props.children}\n      </StyledSelect>\n    </StyledSelectContainer>\n  );\n}\n\nfunction Version(props) {\n  return (\n    <SearchTrigger\n      className={props.className}\n      search={props.search}\n      field=\"version\"\n    >\n      <Text>{props.search}</Text>\n    </SearchTrigger>\n  );\n}\n\nfunction Tag(props) {\n  return (\n    <SearchTrigger className={props.className} search={props.tag} field=\"tags\">\n      <Text>{props.tag}</Text>\n    </SearchTrigger>\n  );\n}\n\nconst StyledArrow = styled(Text)`\n  font-size: 0.8em;\n  transform: ${props => (props.rotated ? `rotate(0deg)` : `rotate(-90deg)`)};\n`;\n\nconst StyledHead = styled(Link)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-decoration: none;\n`;\n\nfunction ToggleHead(props) {\n  const query = { [`${props.name}-enabled`]: !props.enabled };\n  return (\n    <StyledHead\n      query={query}\n      className={props.className}\n      title={`${props.enabled ? \"Hide\" : \"Show\"} ${props.name}`}\n    >\n      <Text>{props.children}</Text>\n      <StyledArrow rotated={props.enabled}>▼</StyledArrow>\n    </StyledHead>\n  );\n}\n\nconst StyledPatternList = styled.div`\n  width: 100%;\n`;\n\nfunction PatternList(props) {\n  return <StyledPatternList>{props.children}</StyledPatternList>;\n}\n\nconst StyledPatternItem = styled(Link)`\n  display: block;\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  padding: 3px 0;\n`;\n\nfunction PatternItem(props) {\n  return (\n    <StyledPatternItem\n      href={`pattern/${props.pattern.id}`}\n      data-id={props.pattern.id}\n    >\n      <Text>{props.pattern.manifest.displayName}</Text>\n    </StyledPatternItem>\n  );\n}\n\nconst StyledToggle = styled.div`\n  position: relative;\n  z-index: 1;\n  flex: 1 1 auto;\n  min-height: 30px;\n`;\n\nfunction Toggle(props) {\n  return (\n    <StyledToggle>\n      <StyledToggleHead name={props.name} enabled={props.enabled}>\n        {props.head}\n      </StyledToggleHead>\n      {props.enabled && <StyledToggleBody>{props.children}</StyledToggleBody>}\n    </StyledToggle>\n  );\n}\n\nfunction has(val) {\n  return Array.isArray(val) && val.length > 0;\n}\n","const React = require(\"react\");\nconst PropTypes = require(\"prop-types\");\n\nconst childContextTypes = {\n  injections: PropTypes.arrayOf(\n    PropTypes.shape({\n      target: PropTypes.any,\n      source: PropTypes.any\n    })\n  )\n};\n\nclass InjectionProvider extends React.Component {\n  getChildContext() {\n    return { injections: this.props.injections };\n  }\n\n  render() {\n    const { props } = this;\n    return React.Children.only(props.children);\n  }\n}\n\nInjectionProvider.childContextTypes = childContextTypes;\n\nfunction inject(RawComponent) {\n  const InjectedComponent = (props, context) => {\n    const injections = Array.isArray(context.injections)\n      ? context.injections\n      : [];\n\n    const applicable = injections.find(injection => {\n      return (\n        injection.target === RawComponent ||\n        injection.target.RawComponent === RawComponent\n      );\n    });\n\n    if (!applicable) {\n      return <RawComponent {...props}>{props.children}</RawComponent>;\n    }\n\n    const Source = applicable.source;\n    return <Source {...props}>{props.children}</Source>;\n  };\n\n  InjectedComponent.RawComponent = RawComponent;\n  InjectedComponent.contextTypes = childContextTypes;\n  return InjectedComponent;\n}\n\nmodule.exports.InjectionProvider = InjectionProvider;\nmodule.exports.inject = inject;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\nconst inject = require(\"../injection\").inject;\n\nclass Link extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    if (typeof this.props.onClick === \"function\") {\n      this.props.onClick(e);\n    }\n  }\n\n  render() {\n    const { props } = this;\n    const target = selectTarget(props);\n    return (\n      <a\n        target={target}\n        rel={target === \"_blank\" ? \"noopener noreferrer\" : null}\n        className={props.className}\n        href={props.href}\n        onClick={this.handleClick}\n        onMouseOver={props.onHover}\n        title={props.title}\n        data-id={props[\"data-id\"]}\n      >\n        <StyledLinkContainer grow={props.grow} external={props.external}>\n          <StyledLinkLabel grow={props.grow}>{props.children}</StyledLinkLabel>\n          {props.external && props.hint && (\n            <Icon\n              symbol=\"external-link\"\n              size={props.iconSize || \"text\"}\n              inline\n              />\n          )}\n        </StyledLinkContainer>\n      </a>\n    );\n  }\n}\n\nmodule.exports = inject(Link);\nmodule.exports.RawLink = Link;\n\nLink.defaultProps = {\n  external: false,\n  onHover: () => {}\n};\n\nconst StyledLinkContainer = styled.span`\n  display: inline-flex;\n  align-items: center;\n  flex-grow: ${props => props.grow ? 1 : 0};\n  > span {\n    display: inline-flex;\n    align-items: ${props => props.external ? 'baseline': 'center'};\n  }\n  > svg {\n    margin-left: .25em;\n  }\n`;\n\nconst StyledLinkLabel = styled.span`\n  width: ${props => props.grow ? 'calc(100% - 40px)' : 'auto'};\n`;\n\nfunction selectTarget(props) {\n  if (props.target) {\n    return props.target;\n  }\n  return props.external ? \"_blank\" : null;\n};\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Link = require(\"./link\");\nconst Icon = require(\"./icon\");\nconst svg = require(\"./svg\");\n\nconst StyledLink = styled(Link)`\n  display: block;\n  margin: 0 auto;\n  &:link,\n  &:visited {\n    color: ${props => props.theme.colors.active};\n  }\n`;\n\nclass Logo extends React.Component {\n  render() {\n    const { props } = this;\n\n    if (props.source) {\n      return (\n        <div className={props.className}>\n          <StyledLink\n            dangerouslySetInnerHTML={{__html: props.source}}\n            external=\"base\"\n            href=\"/\"\n            query={null}\n            target=\"_self\"\n            >\n            <div dangerouslySetInnerHTML={{__html: props.source}}/>\n          </StyledLink>\n        </div>\n      );\n    }\n\n    return (\n      <div className={props.className}>\n        <StyledLink external=\"base\" href=\"/\" query={null} target=\"_self\">\n          <Icon symbol=\"patternplate\" size=\"l\"/>\n        </StyledLink>\n      </div>\n    );\n  }\n}\n\nmodule.exports = styled(Logo)`\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  fill: currentColor;\n  stroke: currentColor;\n  stroke-width: 0;\n  align-items: center;\n  padding: 10px;\n  background: ${props => props.theme.colors.backgroundSecondary};\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\n\nmodule.exports = MainHeader;\n\nfunction MainHeader(props) {\n  return (\n    <StyledMainHeader className={props.className} title={props.title}>\n      {props.image}\n      {props.title && <StyledTitle>{props.title}</StyledTitle>}\n    </StyledMainHeader>\n  );\n}\n\nconst StyledMainHeader = styled.div`\n  width: 100%;\n  height: auto;\n  color: ${props => props.theme.color};\n  background-color: ${props => props.theme.backgroundSecondary};\n  ${props =>\n    !props.image &&\n    `\n\t\tdisplay: flex;\n\t\tpadding: 10px 15px;\n\t\tcolor: ${props.theme.active};\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t`};\n`;\n\nconst StyledTitle = styled.span`\n  font-family: ${props => props.theme.fonts.default};\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Link = require(\"../link\");\nconst Header = require(\"../main-header\");\nconst NavigationTree = require(\"../navigation-tree\");\nconst NavigationToolbar = require(\"../navigation-toolbar\");\nconst NavigationLabel = require(\"../navigation-label\");\nconst Icon = require(\"../icon\");\n\nclass Navigation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n    this.handleScrollRequest = this.handleScrollRequest.bind(this);\n  }\n\n  handleScrollRequest(e) {\n    // noop\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  render() {\n    const { props } = this;\n    const children = React.Children.toArray(props.children);\n    const toolbar = children.find(child => child.type === NavigationToolbar);\n    const header = children.find(child => child.type === NavigationHeader);\n\n    return (\n      <StyledNavigation\n        onKeyDown={this.handleKeyDown}\n        >\n        {header ? (\n          header\n        ) : (\n          <StyledHeader\n            title={props.applicationTitle}\n            symbol=\"patternplate\"\n          />\n        )}\n        <StyledNavigationTree innerRef={this.getRef}>\n          <Documentation\n            visible={props.docs.children.length > 0}\n            active={props.active}\n            docs={props.docs}\n            onItemClick={props.onItemClick}\n            onLabelClick={props.onLabelClick}\n            onScrollRequest={this.handleScrollRequest}\n            query={props.query}\n            />\n          <NavigationLabel\n            visible={props.navigation.children.length > 0}\n            enabled={props.componentsEnabled}\n            name=\"components\"\n            highlight\n            onClick={props.onLabelClick}\n            size=\"S\"\n            >\n            Components\n          </NavigationLabel>\n          <NavigationTree\n            name=\"components\"\n            visible={props.componentsEnabled && props.navigation.children.length > 0}\n            active={props.active}\n            data={props.navigation.children}\n            onItemClick={props.onItemClick}\n            onScrollRequest={this.handleScrollRequest}\n            prefix=\"/component\"\n            query={props.query}\n            />\n        </StyledNavigationTree>\n        {toolbar && (\n          <StyledNavigationToolbar>{toolbar}</StyledNavigationToolbar>\n        )}\n      </StyledNavigation>\n    );\n  }\n}\n\nmodule.exports = Navigation;\nmodule.exports.NavigationToolbar = NavigationToolbar;\nmodule.exports.NavigationHeader = NavigationHeader;\n\nNavigation.defaultProps = {\n  tools: []\n};\n\nfunction NavigationHeader(props) {\n  return <StyledNavigatHeader>{props.children}</StyledNavigatHeader>;\n}\n\nconst StyledNavigatHeader = styled.div`\n  box-sizing: border-box;\n  min-height: 60px;\n  background: ${props => props.theme.colors.backgroundSecondary};\n`;\n\nfunction getPadding(el) {\n  const style = global.getComputedStyle(el, null);\n  return direction =>\n    parseInt(style.getPropertyValue(`padding-${direction}`), 10);\n}\n\nconst StyledHeader = styled(Header)`\n  height: 60px;\n  box-sizing: border-box;\n  flex-shrink: 0;\n`;\n\nconst StyledNavigation = styled.div`\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  background-color: ${props => props.theme.colors.background};\n`;\n\nconst PASSAGE_HEIGHT = 50;\n\nconst StyledNavigationTree = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n  -webkit-overflow-scroll: touch;\n  mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n  -webkit-mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n  & > *:last-child {\n    margin-bottom: ${PASSAGE_HEIGHT}px;\n  }\n  @media screen {\n    mask-image: none;\n    -webkit-mask-image: none;\n  }\n`;\n\nconst StyledNavigationToolbar = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n`;\n\nfunction Documentation(props) {\n  return (\n    <StyledDocumentationTree\n      visible={props.visible}\n      active={props.active}\n      data={props.docs.children}\n      onItemClick={props.onItemClick}\n      onLabelClick={props.onLabelClick}\n      onScrollRequest={props.onScrollRequest}\n      prefix=\"/doc\"\n      query={props.query}\n    />\n  );\n}\n\nconst StyledDocumentationTree = styled(NavigationTree)`\n  margin-bottom: 5px;\n  padding-bottom: 5px;\n`;\n","const frontmatter = require('front-matter');\nconst React = require('react');\nconst remark = require('remark');\nconst emoji = require('remark-gemoji-to-emoji');\nconst reactRenderer = require('remark-react');\nconst styled = require(\"styled-components\").default;\nconst vm = require(\"vm\");\nconst resizer = require(\"iframe-resizer\");\n\nconst MarkdownBlockQuote = require('./markdown-blockquote');\nconst MarkdownCode = require('./markdown-code');\nconst MarkdownCodeBlock = require('./markdown-code-block');\nconst MarkdownCopy = require('./markdown-copy');\nconst MarkdownHeadline = require('./markdown-headline');\nconst MarkdownHr = require('./markdown-hr');\nconst MarkdownImage = require('./markdown-image');\nconst MarkdownItem = require('./markdown-item');\nconst MarkdownList = require('./markdown-list');\nconst MarkdownLink = require('./markdown-link');\n\nclass Markdown extends React.Component {\n  shouldComponentUpdate(next) {\n    return this.props.source !== next.source;\n  }\n\n  render() {\n    const { props } = this;\n    const Headline = prop(\"linkable\", props.linkable)(MarkdownHeadline);\n\n    return (\n      <StyledMarkdown className={props.className}>\n        {props.source &&\n          remark()\n            .use(reactRenderer, {\n              sanitize: false,\n              remarkReactComponents: {\n                a: MarkdownLink,\n                blockquote: MarkdownBlockQuote,\n                code: MarkdownCode,\n                h1: is(\"h1\")(Headline),\n                h2: is(\"h2\")(Headline),\n                h3: is(\"h3\")(Headline),\n                h4: is(\"h4\")(Headline),\n                h5: is(\"h5\")(Headline),\n                h6: is(\"h6\")(Headline),\n                hr: MarkdownHr,\n                img: MarkdownImage,\n                li: MarkdownItem,\n                p: MarkdownCopy,\n                pre: preProps => {\n                  const [child = {}] = preProps.children;\n                  const {props: childProps = {}} = child;\n                  const {className = ''} = childProps;\n                  const type = className.replace(/^language-/, '');\n\n                  switch (type) {\n                    case 'widget': {\n                      if (typeof props.widgetSrc !== \"string\") {\n                        return null;\n                      }\n\n                      const srcdoc= [\n                        `<!doctype html>`,\n                        `<html>`,\n                        `<head>`,\n                        `<script src=\"${props.widgetSrc}\"></script>`,\n                        `</head>`,\n                        `<body>`,\n                        `<div data-widget-mount></div>`,\n                        `<textarea data-widget-state style=\"display: none;\">`,\n                          encodeURIComponent(JSON.stringify({\n                            state: props.widgetState,\n                            code: childProps.children.join('\\n')\n                          })),\n                        `</textarea>`,\n                        `</body>`,\n                        `</html>`\n                      ].join(\"\");\n\n                      return <WidgetFrame\n                        srcDoc={srcdoc}\n                        src=\"/\"\n                        />;\n                    }\n                    default:\n                      return <MarkdownCodeBlock {...preProps}/>;\n                  }\n                },\n                ul: is(\"ul\")(MarkdownList),\n                ol: is(\"ol\")(MarkdownList)\n              }\n            })\n            .use(emoji)\n            .processSync(frontmatter(props.source).body).contents}\n      </StyledMarkdown>\n    );\n  }\n}\n\nclass WidgetFrame extends React.Component {\n  componentDidMount() {\n    if (this.ref && !this.resizer) {\n      resizer.iframeResizer({\n        warningTimeout: 0,\n        log: false\n      }, this.ref);\n    }\n  }\n\n  render() {\n    const {props} = this;\n    return <StyledWidgetFrame\n      innerRef={ref => this.ref = ref}\n      {...props}\n      />;\n  }\n}\n\nconst StyledWidgetFrame = styled.iframe`\n  width: 100%;\n  border: none;\n`;\n\nconst StyledMarkdown = styled.div`\n  & table {\n    text-align: left;\n    display: block;\n    width: 100%;\n    overflow: auto;\n    margin: 0 0 16px 0;\n    border-spacing: 0;\n    border-collapse: collapse;\n    font-size: 18px;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n  & tr {\n    color: ${props => props.theme.colors.color};\n    border-top: 1px solid ${props => props.theme.colors.border};\n    background: transparent;\n  }\n  & tr:nth-child(2n) {\n    background: ${props => props.theme.colors.backgroundTertiary};\n  }\n  & th {\n    padding: 6px 13px;\n    border: 1px solid ${props => props.theme.colors.border};\n    font-weight: 600;\n  }\n  & td {\n    padding: 6px 13px;\n    border: 1px solid ${props => props.theme.colors.border};\n  }\n`;\n\nfunction is(is) {\n  return Component => props => <Component is={is} {...props} />;\n}\n\nfunction prop(name, value) {\n  return Component => props => <Component {...props} {...{ [name]: value }} />;\n}\n\nmodule.exports = Markdown;\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownBlockquote)`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  line-height: 27px;\n  padding-left: 18px;\n  border-left: 4.5px solid ${props => props.theme.colors.recess};\n  color: ${props => props.theme.colors.recess};\n`;\n\nfunction MarkdownBlockquote(props) {\n  return (\n    <Text className={props.className} is=\"blockquote\">\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst textContent = require('react-addons-text-content');\nconst styled = require(\"styled-components\").default;\nconst Code = require('../code');\n\nmodule.exports = styled(MarkdownCodeBlock)`\n  background: ${props => props.theme.colors.backgroundSecondary};\n  border-radius: 3px;\n  font-size: 15.3px;\n  line-height: 23px;\n  padding: 16px;\n  margin-bottom: 16px;\n`;\n\nfunction MarkdownCodeBlock(props) {\n  const langs = getLanguages(props.children);\n  const code = textContent(props.children);\n  return (\n    <Code block className={props.className} language={langs[0]}>\n      {code}\n    </Code>\n  );\n}\n\nfunction getLanguages(children) {\n  const [child] = children;\n  if (!child) {\n    return [];\n  }\n  const className = child.props.className;\n  if (!className) {\n    return [];\n  }\n  return className\n    .split(\" \")\n    .map(n => n.replace(\"language-\", \"\"))\n    .find(n => typeof n === \"string\" && n.length > 0)\n    .split(\":\");\n}\n","const styled = require('styled-components').default;\nconst Code = require('../code');\n\nmodule.exports = styled(Code)`\n  display: inline;\n  padding: 0;\n  background: ${props => props.theme.colors.backgroundSecondary};\n  border-radius: 3px;\n  font-size: 15.3px;\n  line-height: 23px;\n  padding: 3px;\n`;\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownCopy)`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n`;\n\nfunction MarkdownCopy(props) {\n  return (\n    <Text is=\"p\" className={props.className}>\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Headline = require(\"../headline\");\nconst Icon = require('../icon');\nconst Link = require('../link');\n\nconst ORDER = {\n  h1: 1,\n  h2: 2,\n  h3: 3,\n  h4: 4,\n  h5: 4,\n  h6: 4\n};\n\nconst ThemedIcon = styled(Icon)`\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  padding-right: 10px;\n  fill: ${props => props.theme.colors.color};\n  opacity: 0;\n`;\n\nconst StyledLink = styled(Link)`\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  &:hover ${ThemedIcon} {\n    opacity: 1;\n  }\n`;\n\nconst StyledTarget = styled.div`\n  width: 0;\n  height: 0;\n`;\n\nconst StyledHeadline = styled(Headline)`\n  font-family: ${props => props.theme.fonts.headline};\n`;\n\nmodule.exports = styled(MarkdownHeadline)`\n  position: relative;\n  color: ${props => props.theme.colors.color};\n  margin: 60px 0 16px 0;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nfunction MarkdownHeadline(props) {\n  const children = Array.isArray(props.children)\n    ? props.children.join(\"\")\n    : props.children;\n  const id = encodeURIComponent(\n    (children || \"\")\n      .split(\" \")\n      .join(\"-\")\n      .toLowerCase()\n  );\n\n  return (\n    <StyledHeadline is={props.is} order={ORDER[props.is]} className={props.className} id={id}>\n      {props.linkable ? (\n        <MarkdownHeadlineLink name={children} id={id}>\n          {props.children}\n        </MarkdownHeadlineLink>\n      ) : (\n        props.children\n      )}\n    </StyledHeadline>\n  );\n}\n\nfunction MarkdownHeadlineLink(props) {\n  return (\n    <StyledLink title={`Link to \"${props.name}\"`} hash={props.id}>\n      <StyledTarget id={props.id} />\n      <ThemedIcon symbol=\"link\" size=\"m\" />\n      {props.children}\n    </StyledLink>\n  );\n}\n","const styled = require(\"styled-components\").default;\n\nmodule.exports = styled.hr`\n  height: 0.25em;\n  padding: 0;\n  margin: 24px 0;\n  background-color: ${props => props.theme.colors.border};\n  border: 0;\n`;\n","const styled = require('styled-components').default;\n\nmodule.exports = styled.img`\n  max-width: 100%;\n  height: auto;\n`;\n","const React = require('react');\nconst styled = require('styled-components').default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownItem)`\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n  margin-top: 4.5px;\n`;\n\nfunction MarkdownItem(props) {\n  return (\n    <Text className={props.className} is=\"li\">\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst styled = require('styled-components').default;\n\nconst url = require('url');\nconst queryString = require('query-string');\nconst Link = require('../link');\n\nmodule.exports = MarkdownLink;\n\nfunction MarkdownLink(props) {\n  const parsed = url.parse(props.href || \"./\");\n  const abs = absolute(props.href);\n  const href = abs ? props.href : [parsed.pathname, parsed.hash].join(\"\");\n  const query = abs ? {} : queryString.parse(parsed.query);\n\n  return (\n    <StyledLink external={abs} hint href={href} query={query}>\n      {props.children}\n    </StyledLink>\n  );\n}\n\nconst StyledLink = styled(Link)`\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  &:link,\n  &:visited {\n    color: ${props => props.theme.colors.active};\n  }\n  &:hover,\n  &:active {\n    text-decoration: underline;\n  }\n`;\n\nfunction absolute(href) {\n  const parsed = url.parse(href || \"./\");\n  if (parsed.protocol) {\n    return true;\n  }\n  if (href.startsWith(\"/api/static/\")) {\n    return true;\n  }\n}\n","const styled = require('styled-components').default;\nconst tag = require('tag-hoc').default;\n\nmodule.exports = styled(tag([])(\"div\"))`\n  margin: 0 0 16px 0;\n  padding-left: 36px;\n`;\n","const React = require(\"react\");\nconst tag = require(\"tag-hoc\").default;\nconst color = require(\"color\");\nconst styled = require(\"styled-components\").default;\nconst remark = require(\"remark\");\nconst emoji = require(\"remark-gemoji-to-emoji\");\n\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\n\nconst processor = remark().use(emoji);\n\nclass NavigationItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  componentDidMount() {\n    if (this.props.active && this.ref) {\n      setTimeout(() => {\n        this.props.onScrollRequest({ target: this.ref, props: this.props });\n      });\n    }\n  }\n\n  componentWillUpdate(next) {\n    if (this.props.type === \"folder\") {\n      return;\n    }\n    if (next.active && this.ref) {\n      this.props.onScrollRequest({ target: this.ref, props: next });\n    }\n  }\n\n  render() {\n    const { props } = this;\n    const title = props.title || `Navigate to ${props.name} ${props.type}`;\n    const symbol = props.active ? props.symbolActive : props.symbol;\n    const name = processor.processSync(props.name).contents;\n\n    return (\n      <StyledNavigationItem\n        active={props.active}\n        className={props.className}\n        innerRef={this.getRef}\n        type={props.type}\n      >\n        <StyledNavigationLink\n          active={props.active}\n          external={props.external}\n          onClick={props.onClick}\n          href={props.href}\n          sticky={props.type === \"folder\" && props.active}\n          type={props.type}\n          title={title}\n          nested={props.nested}\n          iconSize=\"s\"\n          grow\n          hint\n        >\n          {symbol && (\n            <StyledIcon active={props.active} size=\"m\" symbol={symbol} />\n          )}\n          <StyledName>{props.name}</StyledName>\n          {props.meta && (\n            <StyledMeta active={props.active}>{props.meta}</StyledMeta>\n          )}\n        </StyledNavigationLink>\n        {props.active && props.children}\n      </StyledNavigationItem>\n    );\n  }\n}\n\nmodule.exports = NavigationItem;\n\nconst StyledIcon = styled(Icon)`\n  flex: 0 0 auto;\n  fill: ${props => props.theme.colors.color};\n  ${props => props.active && `fill: ${color(props.theme.colors.active)}`};\n  padding: 10px 0 10px 9px;\n`;\n\nconst StyledName = styled.div`\n  box-sizing: border-box;\n  flex: 1 1 100%;\n  padding: 10px;\n`;\n\nconst StyledMeta = styled.div`\n  flex: 1 0 auto;\n  margin: 0 ${props => (props.active ? 6 : 10)}px 0 auto;\n`;\n\nconst StyledNavigationItem = styled.div`\n  width: 100%;\n  box-sizing: border-box;\n  margin-left: 1px;\n`;\n\nconst LinkTag = tag([\"active\", \"type\"])(Link);\n\nconst StyledNavigationLink = styled(LinkTag)`\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  text-decoration: none;\n  font-size: ${props => props.theme.fonts.fontSize}px;\n  line-height: 20px;\n  font-family: ${props => props.theme.fonts.default};\n  font-weight: ${props => props.theme.fonts.fontWeight};\n  padding-left: ${props => props.nested ? 30 : 0}px;\n  :link,\n  :visited {\n    color: ${props => props.theme.colors.color};\n    ${props => props.active && `color: ${color(props.theme.colors.active)}`};\n  }\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\nconst remark = require(\"remark\");\nconst emoji = require(\"remark-gemoji-to-emoji\");\n\nconst processor = remark().use(emoji);\n\nmodule.exports = NavigationLabel;\n\nfunction NavigationLabel(props) {\n  return (\n    <StyledLabelContainer\n      data-toggle-name={props.name}\n      data-trigger-name={props.name}\n      data-toggle-enabled={props.enabled}\n      visible={props.visible}\n      highlight={props.highlight}>\n      <StyledLabel\n        highlight={props.highlight}\n        enabled={props.enabled}\n        size={props.size}\n        >\n        <StyledLabelLink\n          highlight={props.highlight}\n          title={`${props.enabled ? 'Close' : 'Expand'} ${props.children} list`}\n          query={{[`${props.name}-enabled`]: !props.enabled}}\n          >\n            <StyledLabelIcon enabled={props.enabled}>\n              <Icon symbol=\"arrow-right\" />\n            </StyledLabelIcon>\n            {processor.processSync(props.children).contents}\n        </StyledLabelLink>\n      </StyledLabel>\n    </StyledLabelContainer>\n  );\n}\n\nconst SIZES = {\n  S: 0.9,\n  M: 1\n};\n\nconst StyledLabel = styled.div`\n  box-sizing: border-box;\n  padding: 10px 10px;\n  display: flex;\n  align-items: center;\n  font-family: ${props => props.theme.fonts.default};\n  font-size: ${({size, theme}) => SIZES[size] * theme.fonts.fontSize}px;\n  color: ${props => props.theme.colors.color};\n  background-color: ${({enabled, theme}) => enabled ? theme.colors.backgroundTertiary : theme.colors.background};\n  border-style: solid;\n  border-top-color: ${({enabled, theme}) => enabled ? theme.colors.backgroundSecondary : theme.colors.border};\n  border-bottom-color: ${props => props.enabled ? 'transparent' : props.theme.colors.border};\n  border-width: ${props => props.highlight ? 1 : 0}px 0;\n  width: 100%;\n`;\n\nconst StyledLabelIcon = styled.span`\n  margin-right: 10px;\n  transform-origin: center;\n  transform: rotate(${props => props.enabled ? 90 : 0}deg);\n`;\n\nconst StyledLabelContainer = styled.div`\n  display: ${props => props.visible ? \"block\" : \"none\"};\n  position: sticky;\n  top: -1px;\n  left: 0;\n\n  /* Styling that can be toggled by a predetonation script */\n  &[data-toggle-enabled=\"true\"] {\n    ${StyledLabel} {\n      background-color: ${({theme}) => theme.colors.backgroundTertiary};\n      border-top-color: ${({theme}) => theme.colors.backgroundSecondary};\n      border-bottom-color: transparent;\n    }\n\n    ${StyledLabelIcon} {\n      transform: rotate(90deg);\n    }\n  }\n\n  &[data-toggle-enabled=\"false\"] {\n    ${StyledLabel} {\n      background-color: ${({theme}) => theme.colors.background};\n      border-top-color: ${({theme}) => theme.colors.border};\n      border-bottom-color: ${props => props.theme.colors.border};\n    }\n\n    ${StyledLabelIcon} {\n      transform: rotate(0);\n    }\n  }\n`;\n\nconst StyledLabelLink = styled(Link)`\n  display: block;\n  color: ${props => props.theme.colors.color};\n  cursor: pointer;\n  text-decoration: none;\n  width: 100%;\n`;\n\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nmodule.exports = NavigationToolbar;\n\nfunction NavigationToolbar(props) {\n  return <StyledNavigationToolbar>{props.children}</StyledNavigationToolbar>;\n}\n\nNavigationToolbar.defaultProps = {\n  children: []\n};\n\nconst StyledNavigationToolbar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 40px;\n  padding: 10px 15px;\n  background-color: ${props => props.theme.colors.backgroundSecondary};\n  box-sizing: \"border-box\";\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require(\"tag-hoc\").default;\nconst NavigationLabel = require(\"../navigation-label\");\nconst NavigationItem = require(\"../navigation-item\");\nconst Flag = require(\"../flag\");\n\nmodule.exports = NavigationTree;\n\nfunction NavigationTree(props) {\n  return (\n    <StyledNavigationTree\n      visible={props.visible}\n      data-toggle-name={props.name}\n      data-toggle-enabled={props.visible}\n      >\n      {props.children}\n      {(props.data || [])\n        .filter(item => typeof item.manifest === \"object\")\n        .map((item, index) => {\n          // TODO: this should not have to deal with normalization\n          const options = (item.manifest.options || {});\n          const hidden = options.hidden || false;\n          const icon = selectSymbol(item);\n          const iconActive = selectActiveSymbol(item);\n          const name = selectName(item);\n\n          const enabled = (props.query || {})[`${name}-enabled`] === \"true\";\n\n          switch (item.type) {\n            case \"folder\":\n              return (\n                <React.Fragment key={item.id}>\n                  <NavigationLabel\n                    visible={(item.children || []).length > 0}\n                    enabled={enabled}\n                    name={name}\n                    highlight={false}\n                    size=\"M\"\n                    >\n                    {item.manifest.displayName || item.manifest.name}\n                  </NavigationLabel>\n                  <NavigationItemList\n                    data-toggle-name={name}\n                    data-toggle-enabled={(item.children || []).length > 0 && enabled}\n                    visible={(item.children || []).length > 0 && enabled}>\n                    {\n                      (item.children || []).map((child, index) => {\n                        return (\n                          <NavigationItem\n                            key={child.id}\n                            active={child.active}\n                            href={child.href}\n                            id={child.id}\n                            meta={(child.warnings || []).map(warning => (\n                              <NavigationMeta key={warning.value} warning={warning} />\n                            ))}\n                            name={child.manifest.displayName}\n                            nested\n                            onClick={props.onItemClick}\n                            onScrollRequest={props.onScrollRequest}\n                            prefix={props.prefix}\n                            symbol={selectSymbol(child)}\n                            symbolActive={selectActiveSymbol(child)}\n                            type={child.type}\n                            />\n                        );\n                      })\n                    }\n                  </NavigationItemList>\n                </React.Fragment>\n              );\n            case \"item\":\n              return (\n                <NavigationItem\n                  key={item.id}\n                  active={item.active}\n                  hidden={hidden}\n                  href={options.href || item.href}\n                  external={Boolean(options.href)}\n                  id={item.id}\n                  meta={(item.warnings || []).map(warning => (\n                    <NavigationMeta key={warning.value} warning={warning} />\n                  ))}\n                  name={item.manifest.displayName}\n                  onClick={props.onItemClick}\n                  onScrollRequest={props.onScrollRequest}\n                  prefix={props.prefix}\n                  symbol={icon}\n                  symbolActive={iconActive}\n                  type={item.type}\n                  />\n              );\n          }\n        })}\n    </StyledNavigationTree>\n  );\n}\n\nconst StyledNavigationTree = styled(tag([\"visible\"])(\"div\"))`\n  display: ${props => props.visible ? \"block\": \"none\"};\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n`;\n\nconst NavigationItemList = styled(tag([\"visible\"])(\"div\"))`\n  display: ${props => props.visible ? \"block\": \"none\"};\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n`;\n\nfunction NavigationMeta(props) {\n  switch (props.warning.type) {\n    case \"flag\":\n    default:\n      return <Flag title={props.warning.message}>{props.warning.value}</Flag>;\n  }\n}\n\nfunction selectActiveSymbol(item) {\n  if (item.type === \"item\") {\n    return null;\n  }\n\n  if (item.manifest.options.iconActive) {\n    return item.manifest.options.iconActive;\n  }\n\n  if (item.type === \"folder\") {\n    return \"arrow-down\";\n  }\n\n  return null;\n}\n\nfunction selectSymbol(item) {\n  if (item.type === \"item\") {\n    return null;\n  }\n\n  if (item.manifest.options.icon) {\n    return item.manifest.options.icon;\n  }\n\n  if (item.type === \"folder\") {\n    return \"arrow-right\";\n  }\n\n  return null;\n}\n\nfunction selectName(item) {\n  if (typeof item.manifest.name === \"string\" && item.manifest.name) {\n    return item.manifest.name;\n  }\n  if (typeof item.manifest.displayName === \"string\" && item.manifest.displayName) {\n    return encodeURIComponent(item.manifest.displayName.replace(/[^\\w]/g, '-').toLowerCase());\n  }\n  return encodeURIComponent(item.id.replace(/[^\\w]/g, '-').toLowerCase());\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\n\nconst StyledSearchField = styled.label`\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding: 10px 15px;\n`;\n\nconst StyledIcon = styled(Icon)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  fill: ${props => props.theme.colors.color};\n`;\n\nconst StyledInput = styled.input`\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  border: 0;\n  border-radius: 0;\n  background: transparent;\n  font-size: 16px;\n  color: ${props => props.theme.colors.color};\n  padding: 0;\n  appearance: none;\n  border-radius: 0;\n  border: none;\n  :focus {\n    outline: none;\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  flex-shrink: 0;\n  margin-left: 10px;\n`;\n\nconst StyledInputSuggestion = styled(p => <StyledInput {...p} readOnly />)`\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  opacity: 0.3;\n`;\n\nclass SearchField extends React.Component {\n  constructor() {\n    super();\n    this.saveRef = this.saveRef.bind(this);\n  }\n\n  saveRef(ref) {\n    this.ref = ref;\n  }\n\n  componentDidMount() {\n    if (this.props.autoFocus && this.ref) {\n      const length = this.props.value.length;\n      this.ref.focus();\n      this.ref.setSelectionRange(length, length);\n    }\n  }\n\n  render() {\n    const { props } = this;\n    return (\n      <StyledSearchField>\n        <StyledIcon symbol=\"search\" />\n        <StyledInputContainer>\n          <StyledInputSuggestion value={props.suggestion || \"\"} />\n          <StyledInput\n            autoComplete=\"off\"\n            autoFocus={props.autoFocus}\n            name={props.name}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onFocus={props.onFocus}\n            onKeyDown={props.onKeyDown}\n            placeholder={props.placeholder}\n            title={props.title}\n            type=\"text\"\n            value={props.value}\n            data-search={props.mark}\n            innerRef={this.saveRef}\n          />\n        </StyledInputContainer>\n        {props.children}\n      </StyledSearchField>\n    );\n  }\n}\n\nmodule.exports = SearchField;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Link = require(\"../link\");\nconst Icon = require(\"../icon\");\nconst Text = require(\"../text\");\nconst InnerInfoPane = require(\"../info-pane\").InnerInfoPane;\nconst tag = require(\"tag-hoc\").default;\n\n// import Outside from \"./outside\";\n\nconst SearchFieldSlot = function SearchFieldSlot(props) {\n  return props.children;\n};\nconst PassThroughSlot = function PassThroughSlot(props) {\n  return props.children;\n};\n\nconst NOOP = function NOOP() { };\n\nfunction Search(props) {\n  const children = React.Children.toArray(props.children);\n\n  const searchResultList = children.filter(function (item) {\n    return item.type === StyledResultList;\n  });\n\n  const searchPreviewChildren = children.filter(function (item) {\n    return item.type === StyledResultPreview;\n  });\n\n  const searchField = children.filter(function (item) {\n    return item.type === SearchFieldSlot;\n  });\n\n  const passThrough = children.filter(function (item) {\n    return item.type === PassThroughSlot;\n  });\n\n  return (\n    <StyledFormBox\n      enabled={props.enabled}\n      inline={props.inline}\n      onClickOutside={props.inline || !props.enabled ? NOOP : props.onClickOutside}\n      onClick={props.inline && !props.enabled ? props.onFocus : NOOP}\n      value={props.value}\n    >\n      <StyledForm\n        onSubmit={props.onSubmit}\n        method=\"GET\"\n      >\n        <StyledSearchFieldBox\n          onClick={props.inline ? props.onClick : NOOP}\n        >\n          {searchField}\n          {passThrough}\n          <HiddenSubmit />\n          <SearchLegend\n            {...props.legend}\n          />\n        </StyledSearchFieldBox>\n        <StyledResults>\n          {searchResultList}\n          {searchPreviewChildren}\n        </StyledResults>\n      </StyledForm>\n    </StyledFormBox>\n  );\n}\n\nconst SEARCH_HEIGHT = \"55vh\";\nconst SEARCH_FIELD_HEIGHT = \"80px\";\nconst SEARCH_LEGEND_HEIGHT = \"30px\";\n\nconst StyledFormBox = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n  pointer-events: all;\n  overflow: hidden;\n  margin: ${props => props.inline ? 'calc(12.5vh - 30px) 0 60px 0' : '0'};\n  opacity: ${props => props.inline && props.enabled ? '0' : '1'};\n`;\n\nconst StyledForm = styled.form`\n  display:flex;\n  flex-direction:column;\n  position:relative;\n  z-index:2;\n  width:100%;\n  max-height: ${SEARCH_HEIGHT};\n  ${props => withTint(props)}\n`;\n\nconst StyledSearchFieldBox = styled.div`\n  position:relative;\n  z-index:1;\n  flex:0 0 auto;\n`;\n\nconst StyledResults = styled.div`\n  position:relative;\n  z-index:1;\n  flex:1 1 auto;\n  display:flex;\n  flex-direction:row;\n  max-height: calc(${SEARCH_HEIGHT} - ${SEARCH_FIELD_HEIGHT} - ${SEARCH_LEGEND_HEIGHT});\n`;\n\nconst StyledResultPreview = styled.div`\n  flex:1 1 60%;\n  overflow:scroll;\n  -webkit-touch-scroll:auto;\n`;\n\nconst StyledResultList = styled.div`\n  flex: 1 0 40%;\n  overflow: scroll;\n  -webkit-touch-scroll: auto;\n  border-right: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst StyledResultHeading = styled(Text)`\n  box-sizing:border-box;\n  position:-webkit-sticky;\n  position:sticky;\n  z-index:1;\n  top:0;\n  margin:0;\n  font-size:14px;\n  padding:3px 15px;\n  border-width:1px 0;\n  border-style:solid;\n  border-color: ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.color};\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledIcon = styled(tag([\"active\"])(Icon))`\n  flex:0 0 auto;\n  fill: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n  margin-right:10px;\n`;\n\nconst Linkable = tag([\"active\"])(Link);\n\nconst StyledPreviewLink = styled(Linkable)`\n  position:absolute;\n  right:15px;\n  top:50%;\n  transform:translateY(-50%);\n  text-decoration:none;\n  color: ${props => props.theme.colors.border};\n  opacity:0;\n  &:hover{\n    color: ${props => props.theme.colors.color};\n    text-decoration:underline;\n  }\n`;\n\nconst StyledResultLink = styled(Linkable)`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 10px 15px;\n  &:link, &:visited, &:active {\n    color: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n    text-decoration: none;\n  }\n`;\n\nconst StyledResultLinkText = styled(Text)`\n  line-height: 20px;\n  color: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n  text-decoration: none;\n`;\n\nconst StyledResult = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  &:hover{\n    mask-image: linear-gradient( to left,rgba(0,0,0,0) 75px,rgba(0,0,0,1) 125px);\n    -webkit-mask-image: linear-gradient( to left,rgba(0,0,0,0) 75px,rgba(0,0,0,1) 125px);\n  }\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nclass SearchResult extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  componentWillUpdate(next) {\n    if (next.active && this.ref) {\n      this.props.onScrollRequest({ target: this.ref });\n    }\n  }\n\n  render() {\n    const props = this.props;\n\n    return (\n      <StyledResult\n        innerRef={this.getRef}\n        active={props.active}\n        title={`Navigation to pattern ${props.name}`}\n        data-id={props.id}\n      >\n        <StyledResultLink\n          active={props.active}\n          href={props.href}\n          query={{ \"search-enabled\": false }}\n        >\n          <StyledResultLinkText\n            active={props.active}\n            size=\"l\"\n          >\n            {props.name}\n          </StyledResultLinkText>\n        </StyledResultLink>\n        <StyledPreviewLink\n          active={props.active}\n          query={{ \"search-preview\": props.index }}\n        >\n          <Text\n            active={props.active}\n            size=\"s\"\n          >\n            \"Preview\"\n          </Text>\n        </StyledPreviewLink>\n      </StyledResult>\n    );\n  }\n}\n\nSearchResult.defaultProps = {\n  onScrollRequest: function onScrollRequest() { }\n};\n\nconst HiddenSubmit = styled.input.attrs({\n  type: 'submit'\n})`\n  display: none;\n`;\n\nconst StyledClose = styled(Link)`\n  font-size: 0;\n  line-height: 0;\n`;\n\nconst StyledCloseIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.color};\n`;\n\nfunction Close(props) {\n  const verb = props.clears ? `Clear` : \"Close\";\n  const query = props.clears ? { search: null } : { \"search-enabled\": null };\n  const symbol = \"close\"; // TODO: Add and use icon for clearing\n  return (\n    <StyledClose\n      query={query}\n      title={`${verb} search ${props.shortcut.toString()}`}\n    >\n      <StyledCloseIcon size=\"m\" symbol={symbol} />\n      {verb}\n    </StyledClose>\n  );\n}\n\nconst StyledMarkdown = styled.div`\n  width: 80%;\n  margin: 0 auto;\n`;\n\nconst StyledSearchLegend = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 15px;\n  border: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.border};\n  ${props => withTint(props)};\n`;\n\nconst StyledSearchLegendBox = styled.div`\n  display:flex;\n  overflow:scroll;\n  -webkit-overflow-scrolling:touch;\n  width:100%;\n  position:relative;\n  z-index:1;\n  ::-webkit-scrollbar{\n    display:none;\n  }\n`;\n\nconst StyledField = styled(Text)`\n  padding:0 10px;\n  color: ${props => props.theme.colors.color};\n  &:first-child{\n    padding-left:0;\n  }\n}`;\n\nconst StyledLegendName = styled(StyledField)`\n  padding-right:20px;\n  font-weight:bold;\n  color: ${props => props.theme.colors.color};\n  position:relative;z-index:1;\n`;\n\nconst StyledFieldLink = styled(Link)`\n  white-space:nowrap;\n  &:link,\n  &:active,\n  &:visited,\n  &:hover {\n    color: ${props => props.theme.colors.color\n  }\n`;\n\nfunction SearchLegend(props) {\n  return (\n    <StyledSearchLegend\n      className={props.className}\n    >\n      {props.name && <StyledLegendName>{props.name}</StyledLegendName>}\n      <StyledSearchLegendBox>\n        {(props.items || []).map(function (l) {\n          switch (l.type) {\n            case \"field\":\n            default:\n              return React.createElement(\n                StyledField,\n                { key: l.key },\n                React.createElement(\n                  StyledFieldLink,\n                  {\n                    title: l.description,\n                    query: { search: `${l.value}` }\n                  },\n                  l.key\n                )\n              );\n            }\n          })\n        }\n      </StyledSearchLegendBox>\n    </StyledSearchLegend>\n  );\n}\n\nfunction withTint(props) {\n  return `\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tz-index: 0;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: ${props.theme.colors.background};\n\t\t\topacity: 0.975;\n\t\t}\n\t`;\n}\n\nmodule.exports.default = Search;\nmodule.exports.SearchResult = SearchResult;\nmodule.exports.SearchResultList = StyledResultList;\nmodule.exports.SearchResultHeading = StyledResultHeading;\nmodule.exports.SearchResultPreview = StyledResultPreview;\nmodule.exports.SearchFieldSlot = SearchFieldSlot;\nmodule.exports.PassThroughSlot = PassThroughSlot;\nmodule.exports.Close = Close;\n","const h = require(\"react\").createElement;\nconst b = require(\"btoa\");\nconst styled = require(\"styled-components\").default;\nconst { DOMParser, XMLSerializer } = require(\"xmldom\");\nconst { camelCase } = require(\"lodash\");\n\nconst parser = new DOMParser();\nconst serializer = new XMLSerializer();\n\n/**\n * These attributes are valid on all SVG elements and accepted by this\n * renderer.\n * All attributes will be converted to their camelCase version.\n * This allows using valid SVG strings.\n * Extend this list to allow additional default SVG attributes.\n *\n * @type {Array}\n */\nconst SHARED_ATTRIBUTES = [\"fill\", \"filter\", \"stroke\", \"stroke-width\"];\n\nconst ATTRIBUTES = {\n  defs: [...SHARED_ATTRIBUTES],\n  symbol: [\"id\"],\n  linearGradient: [...SHARED_ATTRIBUTES, \"id\", \"x1\", \"y1\", \"x2\", \"y2\"],\n  stop: [\"offset\", \"stop-color\"],\n  circle: [...SHARED_ATTRIBUTES, \"cx\", \"cy\", \"r\", \"style\"],\n  g: [...SHARED_ATTRIBUTES, \"x\", \"y\"],\n  path: [...SHARED_ATTRIBUTES, \"d\", \"style\"],\n  polygon: [...SHARED_ATTRIBUTES, \"points\"],\n  rect: [...SHARED_ATTRIBUTES, \"x\", \"y\", \"width\", \"height\", \"style\"],\n  svg: [\"width\", \"height\", \"viewBox\", \"x\", \"y\", \"style\", \"xmlns\", \"xmlns:xlink\"]\n};\n\nconst TAG_NAMES = Object.keys(ATTRIBUTES);\n\nfunction attributes(node, key) {\n  return (ATTRIBUTES[node.tagName] || []).reduce(\n    (props, name) => {\n      const attribute = node.attributes.getNamedItem(name);\n      const reactProp = camelCase(name);\n      if (attribute && attribute.specified) {\n        props[reactProp] = attribute.value;\n      }\n      return props;\n    },\n    { key }\n  );\n}\n\nexport function btoa(source) {\n  return `data:image/svg+xml;base64,${b(source)}`;\n}\n\nexport function parse(source) {\n  const doc = parser.parseFromString(source, \"image/svg+xml\");\n  const parsed = Array.prototype.slice.call(doc.childNodes).find(node => node.tagName === \"svg\");\n  parsed.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n  return parsed;\n}\n\nexport function png(source) {\n  return new Promise((resolve, reject) => {\n    const img = new global.Image();\n    const canvas = global.document.createElement(\"canvas\");\n    const ratio = global.devicePixelRatio || 1;\n\n    canvas.width = 16 * ratio;\n    canvas.height = 16 * ratio;\n\n    const context = canvas.getContext(\"2d\");\n\n    img.onload = () => {\n      context.drawImage(img, 0, 0);\n      resolve(canvas.toDataURL(\"image/png\"));\n    };\n\n    img.src = btoa(source);\n  });\n}\n\nexport function purge(parsed) {\n  return Array.prototype.slice.call(parsed)\n    .filter(node => TAG_NAMES.includes(node.tagName))\n    .map(node => {\n      node.childNodes = purge(node.childNodes);\n\n      const attributes = ATTRIBUTES[node.tagName] || [];\n\n      for (let i = 0; i < node.attributes.length; i++) {\n        const attribute = node.attributes[i];\n        if (!attributes.includes(attribute.name)) {\n          node.removeAttribute(attribute.name);\n        }\n      }\n\n      return node;\n    });\n}\n\nexport function render(element) {\n  const [tagName, props, children = []] = element;\n  const { style, ...rest } = props;\n  const tag = styled(tagName)`\n    ${style};\n  `;\n  return h(tag, rest, children.map(c => render(c)));\n}\n\nexport function sanitize(parsed) {\n  return [...parsed].map((node, i) => [\n    node.tagName,\n    attributes(node, i),\n    sanitize(node.childNodes)\n  ]);\n}\n\nexport function stringify(tree) {\n  return serializer.serializeToString(tree);\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Text = require(\"../text\");\n\nmodule.exports = styled(props => <Text className={props.className}>{props.children}</Text>)`\n  display: inline-block;\n  padding: 2px 4px;\n  margin-top: 1.5px;\n  margin-bottom: 1.5px;\n  color: ${props => props.theme.colors.color};\n  border: 1px solid ${props => props.theme.colors.color};\n  border-radius: 3px;\n  &:link,\n  &:visited,\n  &:active {\n    text-decoration: none;\n    color: ${props => props.theme.colors.color};\n  }\n  &:nth-child(2n) {\n    margin-left: 3px;\n  }\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require('tag-hoc').default;\n\nmodule.exports = Text;\n\nfunction Text(props) {\n  return (\n    <StyledText is={props.is} className={props.className}>\n      {props.children}\n    </StyledText>\n  );\n}\n\nconst StyledText = styled(tag([\"size\"])(\"div\"))`\n  font-family: ${props => props.theme.fonts.default};\n  color: ${props => props.theme.colors.color};\n`;\n","const color = require(\"color\");\nconst { merge } = require(\"lodash\");\nconst fonts = require(\"../fonts\");\n\nmodule.exports = function getThemes(ui = {}) {\n  const defaultMainColor = color.rgb(51, 153, 255);\n  const grayBaseTone = color.hsl(0, 0, 100);\n\n  const colorGroups = {\n    lightBlue: {\n      300: defaultMainColor.darken(0.3),\n      600: defaultMainColor.darken(0.4)\n    },\n    marine: {\n      500: defaultMainColor.desaturate(0.5).darken(0.5),\n      700: defaultMainColor.desaturate(0.5).darken(0.8),\n      800: defaultMainColor.desaturate(0.5).darken(0.85),\n      900: defaultMainColor.desaturate(0.5).darken(0.9)\n    },\n    gray: {\n      50: grayBaseTone.darken(0.05),\n      100: grayBaseTone.darken(0.15),\n      400: grayBaseTone.darken(0.4),\n      700: grayBaseTone.darken(0.735)\n    }\n  };\n\n  const active = ui.colorActive\n    ? color(ui.colorActive)\n    : defaultMainColor;\n\n  const error = ui.colorError\n    ? color(ui.colorError)\n    : color.rgb(250, 63, 69);\n\n  const warning = ui.colorWarning\n    ? color(ui.colorWarning)\n    : color.rgb(255, 189, 46);\n\n  const info = ui.colorInfo\n    ? color(ui.colorInfo)\n    : color.rgb(80, 179, 221);\n\n  const success = ui.colorSuccess\n    ? color(ui.colorSuccess)\n    : color.rgb(74, 165, 74);\n\n  const background = ui.colorBackgroundDark\n    ? color(ui.colorBackgroundDark)\n    : colorGroups.marine[900];\n\n  const backgroundSecondary = ui.colorBackgroundSecondaryDark\n    ? color(ui.colorBackgroundSecondaryDark)\n    : colorGroups.marine[800];\n\n  const backgroundTertiary = ui.colorBackgroundTertiaryDark\n    ? color(ui.colorBackgroundTertiaryDark)\n    : colorGroups.marine[700];\n\n  const border = ui.colorBorderDark\n    ? color(ui.colorBorderDark)\n    : colorGroups.marine[800];\n\n  const textColor = ui.colorTextDark\n    ? color(ui.colorTextDark)\n    : colorGroups.gray[50];\n\n  const textColorNegated = ui.colorTextNegatedDark\n    ? color(ui.colorTextNegatedDark)\n    : colorGroups.gray[700];\n\n  const recess = ui.colorRecessDark\n    ? color(ui.colorRecessDark)\n    : colorGroups.gray[400];\n\n  const backgroundLight = ui.colorBackgroundLight\n    ? color(ui.colorBackgroundLight)\n    : color.hsl(255, 0, 100);\n\n  const backgroundSecondaryLight = ui.colorBackgroundSecondaryLight\n    ? color(ui.colorBackgroundSecondaryLight)\n    : color.rgb(246, 248, 250);\n\n  const backgroundTertiaryLight = ui.colorBackgroundTertiaryLight\n    ? color(ui.colorBackgroundTertiaryLight)\n    : color.rgb(246, 248, 250);\n\n  const borderLight = ui.colorBorderLight\n    ? color(ui.colorBorderLight)\n    : color.rgb(228, 228, 228);\n\n  const colorLight = ui.colorTextLight\n    ? color(ui.colorTextLight)\n    : color.rgb(68, 68, 68, 1);\n\n  const colorLightNegated = ui.colorTextLightNegated\n    ? color(ui.colorTextLightNegated)\n    : color.rgb(238, 238, 238);\n\n  const colorRecessLight = ui.colorRecessLight\n    ? color(ui.colorRecessLight)\n    : color.rgb(106, 115, 125, 1);\n\n  const fontFaces = fonts();\n\n  const common = {\n    colors: {\n      active: active.string(),\n      error: error.string(),\n      warning: warning.string(),\n      info: info.string(),\n      success: success.string(),\n    },\n    fonts: {\n      fontWeight: 100,\n      fontSize: 14,\n      default: ui.fontDefault || fontFaces.default,\n      code: ui.fontCode || fontFaces.code,\n      headline: ui.fontHeadline || fontFaces.default\n    }\n  };\n\n  const dark = merge({}, common, {\n    name: \"dark\",\n    colors: {\n      background: background.string(),\n      backgroundSecondary: backgroundSecondary.string(),\n      backgroundTertiary: backgroundTertiary.string(),\n      border: border.string(),\n      color: textColor.string(),\n      colorNegated: textColorNegated.string(),\n      recess: recess.string()\n    }\n  });\n\n  const light = merge({}, common, {\n    name: \"light\",\n    colors: {\n      background: backgroundLight.string(),\n      backgroundSecondary: backgroundSecondaryLight.string(),\n      backgroundTertiary: backgroundTertiaryLight.string(),\n      border: borderLight.string(),\n      color: colorLight.string(),\n      colorNegated: colorLightNegated.string(),\n      recess: colorRecessLight.string()\n    }\n  });\n\n  return {\n    dark,\n    light\n  };\n};\n","module.exports = require(\"./lib/create-search\");\n","const Query = require(\"./query\");\nconst Registry = require(\"./registry\");\nconst Search = require(\"./search\");\nconst Term = require(\"./term\");\n\nmodule.exports = {\n  createSearch,\n  Query,\n  Term\n};\n\nfunction createSearch(items) {\n  const search = Search.create(items);\n  const registry = Registry.create(items);\n\n  return function performSearch(queryString) {\n    const query = Query.parse(queryString);\n    return Query.perform(query, termString => {\n      const term = Term.parse(termString);\n\n      if (term.valid) {\n        return registry.search(term);\n      }\n\n      return search.search(term.raw);\n    });\n  }\n}\n\n\n\n","const flatten = require(\"lodash.flatten\");\nconst intersection = require(\"lodash.intersection\");\nconst q = require(\"logic-query-parser\");\n\nmodule.exports = {\n  parse,\n  perform\n};\n\nfunction parse(queryString) {\n  const values = typeof queryString === \"string\" ? [queryString] : [];\n\n  try {\n    const parsed = q.parse(queryString);\n    const query = q.utils.binaryTreeToQueryJson(parsed);\n\n    if (query.type) {\n      return query;\n    }\n\n    return { type: \"and\", values };\n  } catch (err) {\n    return { type: \"and\", values };\n  }\n}\n\nfunction perform(query, predicate) {\n  if (typeof query === \"string\") {\n    return predicate(query);\n  }\n\n  const items = () => query.values.map(value => perform(value, predicate));\n  const value = typeof query.value === \"string\" ? query.value : \"\";\n\n  switch (query.type) {\n    case \"and\": {\n      return intersection(...items());\n    }\n    case \"or\": {\n      return flatten(...items());\n    }\n    case \"string\": {\n      return predicate(value);\n    }\n    default: {\n      throw new TypeError(`@patternplate/search.perform: Unknown query: ${JSON.stringify(query)}`);\n    }\n  }\n}\n","const semver = require(\"semver\");\n\nmodule.exports = {\n  create\n};\n\nconst FLAGS = {\n  deprecated: 0,\n  alpha: 0,\n  beta: 1,\n  rc: 2,\n  stable: 3\n};\n\n// TODO: create an efficient search data structure\nfunction create(items) {\n  return {\n    search(term) {\n      const matcher = getMatcher(term.field, term.value, term);\n      return items\n        .filter(item => typeof item.manifest === \"object\")\n        .filter(item => (term.negated ? !matcher(item) : matcher(item)))\n        .map(i => i.id);\n    }\n  };\n}\n\nfunction getMatcher(field, value, options) {\n  const depends = matchDepends(value, options);\n  const has = matchHas(value, options);\n  const provides = matchProvides(value, options);\n  const flag = matchFlag(value, options);\n  const tags = matchTags(value, options);\n  const version = matchVersion(value, options);\n  const is = matchIs(value);\n\n  return item => {\n    switch (field) {\n      case \"depends\":\n        return depends(item);\n      case \"description\":\n        return description(item);\n      case \"flag\":\n        return flag(item);\n      case \"has\":\n        return has(item);\n      case \"is\":\n        return is(item);\n      case \"provides\":\n        return provides(item);\n      case \"tag\":\n      case \"tags\":\n        return tags(item);\n      case \"version\":\n        return version(item);\n      case \"flag\":\n        return flag(item);\n      default:\n        return item[field] === value || item.manifest[field] === value;\n    }\n  };\n}\n\n\nconst manifest = item => item.manifest;\nconst flag = item => manifest(item).flag;\nconst index = item => FLAGS[flag(item)] || 0;\nconst version = item => manifest(item).version;\nconst tags = item => manifest(item).tags || [];\nconst depends = item =>\n  (item.dependencies || []).filter(i => typeof i === \"string\");\nconst dependents = item =>\n  (item.dependents || []).filter(i => typeof i === \"string\");\n\nfunction matchHas(value) {\n  return item => {\n    switch (value) {\n      case \"dependencies\":\n        return (item.dependencies || []).length > 0;\n      case \"dependents\":\n        return (item.dependents || []).length > 0;\n      case \"description\":\n        return Boolean(item.manifest.description);\n      case \"displayName\":\n        return Boolean((item.rawManifest || {}).displayName);\n      case \"doc\":\n      case \"docs\":\n        return item.contentType === \"pattern\" && Boolean(item.contents);\n      case \"flag\":\n        return Boolean((item.rawManifest || {}).flag);\n      case \"tag\":\n      case \"tags\":\n        return (item.manifest.tags || []).length > 0;\n      case \"version\":\n        return Boolean((item.rawManifest || {}).version);\n      default:\n        return false;\n    }\n  };\n}\n\nfunction matchIs(value) {\n  return item => item.contentType === value;\n}\n\nfunction matchDepends(value, options) {\n  if (options.startsWith) {\n    return item =>\n      depends(item).length > 0 && depends(item).some(d => d.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item =>\n      depends(item).length > 0 && depends(item).some(d => d.includes(value));\n  }\n\n  return item => depends(item).includes(value);\n}\n\nfunction matchFlag(value, options) {\n  const i = FLAGS[value] || 0;\n\n  if (options.lower) {\n    return item => (options.equals ? index(item) <= i : index(item) < i);\n  }\n  if (options.greater) {\n    return item => (options.equals ? index(item) >= i : index(item) > i);\n  }\n  if (options.startsWith) {\n    return item => flag(item).startsWith(value);\n  }\n  if (options.includes) {\n    return item => flag(item).includes(value);\n  }\n  return item => flag(item) === value;\n}\n\nfunction matchProvides(value, options) {\n  if (options.startsWith) {\n    return item =>\n      dependents(item).length > 0 &&\n      dependents(item).some(d => d.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item =>\n      dependents(item).length > 0 &&\n      dependents(item).some(d => d.includes(value));\n  }\n\n  return item => dependents(item).includes(value);\n}\n\nfunction matchTags(value, options) {\n  if (options.startsWith) {\n    return item =>\n      tags(item).length > 0 && tags(item).some(tag => tag.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item =>\n      tags(item).length > 0 && tags(item).some(tag => tag.includes(value));\n  }\n\n  return item => tags(item).includes(value);\n}\n\nfunction matchVersion(value, options) {\n  const modified =\n    options.lower || options.greater || options.startsWith || options.includes;\n  const valid = item => semver.valid(version(item));\n\n  if (modified) {\n    return item =>\n      valid(item)\n        ? semver.satisfies(\n            version(item),\n            `${options.operators}${options.value}`\n          )\n        : false;\n  }\n\n  return item =>\n    valid(item) ? semver.satisfies(version(item), options.value) : false;\n}\n","const Fuse = require(\"fuse.js\");\n\nmodule.exports = {\n  create\n};\n\nfunction create(items) {\n  return new Fuse(items, {\n    id: \"id\",\n    keys: [\n      \"id\",\n      \"contents\",\n      \"manifest.displayName\",\n      \"manifest.description\",\n      \"manifest.name\",\n      \"manifest.version\",\n      \"manifest.tags\",\n      \"manifest.flag\"\n    ]\n  });\n}\n","module.exports = {\n  parse\n};\n\nconst OPERATORS = /([^!><^~\\n=]+)?(?:(!)?(>|<|\\^|~)?(=)?)([^!><^~\\n=]+)?/;\n\nfunction parse(termString) {\n  const found = termString.match(OPERATORS) || [];\n  const [raw, field, negator, modifier, equality, value] = found;\n\n  return {\n    field,\n    value,\n    raw,\n    operators: [modifier, equality].join(\"\"),\n    negated: negator === \"!\",\n    greater: modifier === \">\",\n    lower: modifier === \"<\",\n    startsWith: equality === \"=\" && modifier === \"^\",\n    includes: equality === \"=\" && modifier === \"~\",\n    equals: equality === \"=\",\n    valid: Boolean(\n      field &&\n        value &&\n        (typeof modifier === \"string\" || typeof equality === \"string\")\n    )\n  };\n}\n","module.exports = require(\"./lib\");\n","import { patchLocation } from \"./\";\n\nexport default activateNode;\nexport const type = \"ACTIVATE_NODE\";\n\nfunction activateNode(id) {\n  return dispatch => {\n    dispatch(\n      patchLocation({\n        query: {\n          \"active-node\": id\n        }\n      })\n    );\n  };\n}\n\nactivateNode.key = \"\";\nactivateNode.property = \"\";\nactivateNode.type = type;\n","export default applyState;\nexport const type = \"@@APPLY_STATE\";\n\nfunction applyState(payload) {\n  return {\n    type,\n    payload\n  };\n}\n","import { push } from \"react-router-redux\";\nimport toggleNavigation from \"./toggle-navigation\";\nimport {flat as selectPool} from \"../selectors/pool\";\n\nexport default arrow;\nexport const type = \"ARROW\";\n\nconst OFFSETS = {\n  up: -1,\n  down: 1,\n  default: 0\n};\n\nfunction arrow(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    // Is handled locally\n    if (state.searchEnabled) {\n      return;\n    }\n\n    switch (payload) {\n      case \"right\": {\n        if (state.navigationEnabled) {\n          return dispatch(toggleNavigation());\n        }\n        return;\n      }\n      case \"left\": {\n        if (!state.navigationEnabled) {\n          return dispatch(toggleNavigation());\n        }\n        return;\n      }\n      case \"up\":\n      case \"down\":\n      default: {\n        if (!state.navigationEnabled) {\n          return;\n        }\n\n        const offset = payload in OFFSETS ? OFFSETS[payload] : OFFSETS.default;\n        const pool = selectPool(state);\n        const index = pool.findIndex((item) => `${item.contentType}/${item.id}` === state.id || state.id === '/' && item.id === '/root');\n        const next = pool[index + offset];\n        if (next) {\n          go(dispatch)(next.href);\n        }\n      }\n    }\n  };\n}\n\nfunction go(dispatch) {\n  return next => dispatch(push(next));\n}\n\n","import path from \"path\";\nimport urlQuery from \"../utils/url-query\";\nimport { patchLocation } from \"./\";\n\nexport default changeConcern;\nexport const type = \"CHANGE_CONCERN\";\n\nfunction changeConcern(concern) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const location = state.routing.locationBeforeTransitions;\n    const parsed = urlQuery.parse(location.query.source);\n    const previous = parsed.pathname;\n    const ext = path.extname(previous);\n\n    const hasDemo = state.pattern.files.some(file => {\n      return file.concern === \"demo\" && file.type === ext.slice(1);\n    });\n\n    const type = concern === \"index\" && hasDemo ? \"source\" : parsed.query.type;\n\n    const source = urlQuery.format({\n      pathname: `${path.dirname(previous)}/${concern}${ext}`,\n      query: {\n        ...parsed.query,\n        type\n      }\n    });\n\n    dispatch(\n      patchLocation({\n        query: {\n          source\n        }\n      })\n    );\n  };\n}\n\nchangeConcern.type = type;\n","import assert from \"assert\";\nimport { includes, merge } from \"lodash\";\nimport urlQuery from \"../utils/url-query\";\nimport { patchLocation } from \"./\";\n\nexport default changeType;\nexport const type = \"CHANGE_TYPE\";\n\nfunction changeType(input) {\n  assert.equal(\n    typeof input,\n    \"string\",\n    \"input for changeType action must be of type string\"\n  );\n\n  return (dispatch, getState) => {\n    const location = getState().routing.locationBeforeTransitions;\n    const parsed = urlQuery.parse(location.query.source || \"\");\n    const type = includes([\"source\", \"transformed\"], input) ? input : \"source\";\n    const query = { type };\n    const source = urlQuery.format(merge({}, parsed, { query }));\n    dispatch(patchLocation({ query: { source } }));\n  };\n}\n\nchangeType.type = type;\n","import { patchLocation, dismissAllMessages } from \"./\";\n\nexport default closeAllTheThings;\nexport const type = \"CLOSE_ALL_THE_THINGS\";\n\nfunction closeAllTheThings() {\n  return dispatch => {\n    dispatch(dismissAllMessages());\n    dispatch(\n      patchLocation({\n        query: {\n          issue: null,\n          lightbox: null,\n          \"menu-enabled\": null,\n          \"network-enabled\": null,\n          \"search-enabled\": null,\n          source: null,\n          \"source-expanded\": null\n        }\n      })\n    );\n  };\n}\n\ncloseAllTheThings.type = type;\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DEMO_CONTENT_RESIZE\", ({ width, height }) => ({\n  width,\n  height\n}));\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DISMISS_ALL_MESSAGES\");\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DISMISS_MESSAGE\");\n","import assert from \"assert\";\nimport { handleActions } from \"redux-actions\";\nimport { entries, pick } from \"lodash\";\n\nexport default handleDependentActions;\n\nfunction partialReduce(deps) {\n  return handlers => {\n    return entries(handlers).reduce((registry, entry) => {\n      const [name, fn] = entry;\n      registry[name] = (state, action) => {\n        return fn(state, action, deps);\n      };\n      return registry;\n    }, {});\n  };\n}\n\nfunction handleDependentActions(actionHandlers, options) {\n  assert.ok(\n    Array.isArray(options.dependencies),\n    \"options.dependencies must be an array\"\n  );\n\n  const handler = (...args) => {\n    const [, , dependencies = {}] = args;\n\n    if (Object.keys(dependencies).length > 0) {\n      const missing = options.dependencies.filter(\n        dependency => !(dependency in dependencies)\n      );\n      assert.ok(\n        missing.length === 0,\n        `dependencies for ${Object.keys(actionHandlers).join(\n          \", \"\n        )} must be present in state. missing: ${missing.join(\n          \",\"\n        )}. available: ${Object.keys(dependencies)}`\n      );\n    }\n\n    const deps = pick(dependencies, options.dependencies);\n    const handlers = partialReduce(deps)(actionHandlers);\n    const reducer = handleActions(handlers, options.defaultValue);\n    return reducer(...args);\n  };\n  handler.dependencies = options.dependencies;\n  return handler;\n}\n","import activateNode from \"./activate-node\";\nimport applyState from \"./apply-state\";\nimport arrow from \"./arrow\";\nimport changeConcern from \"./change-concern\";\nimport changeType from \"./change-type\";\nimport closeAllTheThings from \"./close-all-the-things\";\nimport demoContentResize from \"./demo-content-resize\";\nimport dismissAllMessages from \"./dismiss-all-messages\";\nimport dismissMessage from \"./dismiss-message\";\nimport listen from \"./listen\";\nimport loadPatternDemo from \"./load-pattern-demo\";\nimport loadSchema from \"./load-schema\";\nimport openDocumentation from \"./open-documentation\";\nimport openFullscreen from \"./open-fullscreen\";\nimport patchLocation from \"./patch-location\";\nimport reload from \"./reload\";\nimport resizeDemo from \"./resize-demo\";\nimport scrollDemo from \"./scroll-demo\";\nimport scrollTo from \"./scroll-to\";\nimport search from \"./search\";\nimport searchPreview from \"./search-preview\";\nimport themeLoaded from \"./theme-loaded\";\nimport toggleCode from \"./toggle-code\";\nimport toggleConsole from \"./toggle-console\";\nimport toggleDependencies from \"./toggle-dependencies\";\nimport toggleDependents from \"./toggle-dependents\";\nimport toggleDoc from \"./toggle-doc\";\nimport toggleHide from \"./toggle-hide\";\nimport toggleInfo from \"./toggle-info\";\nimport toggleKeyboardShortcuts from \"./toggle-keyboard-shortcuts\";\nimport toggleManifest from \"./toggle-manifest\";\nimport toggleNavigation from \"./toggle-navigation\";\nimport toggleNetwork from \"./toggle-network\";\nimport toggleOpacity from \"./toggle-opacity\";\nimport toggleComponentsEnabled from \"./toggle-components-enabled\";\nimport toggleRulers from \"./toggle-rulers\";\nimport toggleSearch from \"./toggle-search\";\nimport toggleTheme from \"./toggle-theme\";\nimport windowResize from \"./window-resize\";\n\nexport {\n  activateNode,\n  applyState,\n  arrow,\n  changeConcern,\n  changeType,\n  closeAllTheThings,\n  demoContentResize,\n  dismissAllMessages,\n  dismissMessage,\n  listen,\n  loadPatternDemo,\n  loadSchema,\n  openDocumentation,\n  openFullscreen,\n  patchLocation,\n  reload,\n  resizeDemo,\n  scrollDemo,\n  scrollTo,\n  search,\n  searchPreview,\n  themeLoaded,\n  toggleCode,\n  toggleConsole,\n  toggleDependencies,\n  toggleDependents,\n  toggleDoc,\n  toggleHide,\n  toggleInfo,\n  toggleKeyboardShortcuts,\n  toggleManifest,\n  toggleNavigation,\n  toggleNetwork,\n  toggleOpacity,\n  toggleComponentsEnabled,\n  toggleRulers,\n  toggleSearch,\n  toggleTheme,\n  windowResize\n};\n","import url from \"url\";\nimport { WebSocketClient } from \"@patternplate/websocket-client\";\nimport ARSON from \"arson\";\nimport { createPromiseThunkAction } from \"./promise-thunk-action\";\nimport loadPatternDemo from \"./load-pattern-demo\";\nimport loadSchema from \"./load-schema\";\nimport { flat as selectPool } from \"../selectors/pool\";\nimport { patchLocation } from \"./\";\n\nexport default createPromiseThunkAction(\n  \"LISTEN\",\n  (payload, dispatch, getState) => {\n    const { WebSocket } = global;\n\n    if (!WebSocket) {\n      return;\n    }\n\n    const state = getState();\n\n    window.addEventListener(\"message\", envelope => {\n      if (typeof envelope.data !== \"string\") {\n        return;\n      }\n\n      if (envelope.data.indexOf(\"[iFrameSizer]\") === 0) {\n        return;\n      }\n\n      const message = safeParse(envelope.data);\n      if (message.type === \"navigate\") {\n        dispatch(\n          patchLocation({\n            pathname: [message.itemType, message.id].join(\"/\")\n          })\n        );\n      }\n    });\n\n    if (state.isStatic) {\n      return;\n    }\n\n    const source = url.resolve(state.base, payload.url);\n\n    const ws = new WebSocketClient({\n      src: `ws://${global.location.host}${source}/`,\n      reconnect: true,\n      interval: 1000\n    });\n\n    ws.open();\n\n    ws.onOpen(() => dispatch({ type: \"LISTEN_HEARTBEAT\", payload: {} }));\n    ws.onClose(() => dispatch({ type: \"ERROR_HEARTBEAT\", payload: {} }));\n    ws.onError(() => dispatch({ type: \"ERROR_HEARTBEAT\", payload: {} }));\n\n    ws.onMessage(async envelope => {\n      const message = ARSON.parse(envelope.data);\n      const { type, payload } = message;\n\n      switch (type) {\n        case \"error\":\n          return dispatch({\n            type: \"ERROR_HEARTBEAT\",\n            payload\n          });\n        case \"start\": {\n          dispatch(loadSchema());\n          // TODO: only reload pattern if the current pattern is affected\n          return dispatch(loadPatternDemo({ force: false }));\n        }\n        case \"done\": {\n          return dispatch({\n            type: \"LISTEN_HEARTBEAT\",\n            payload: {}\n          });\n        }\n        case \"change\": {\n          return dispatch(loadSchema());\n        }\n        default: {\n          throw new TypeError(`Received unknown message of type ${type}`);\n        }\n      }\n    });\n  }\n);\n\nfunction safeParse(data) {\n  try {\n    return JSON.parse(data);\n  } catch (err) {\n    return {};\n  }\n}\n","import fetch from \"isomorphic-fetch\";\nimport * as demo from \"../selectors/demo\";\n\nexport default (payload) => {\n  return async (dispatch, getState) => {\n    const getSrc = src(getState);\n    const uri = getSrc();\n\n    if (!uri) {\n      return;\n    }\n\n    dispatch({\n      type: \"LOAD_PATTERN_DEMO_START\",\n      payload: { id: uri }\n    });\n\n    const response = await fetch(uri, {\n      headers: { Accept: \"text/html\" }\n    });\n\n    // Bail if the src changed in the meantime\n    if (uri !== getSrc()) {\n      return;\n    }\n\n    const body = await response.text();\n\n    // Bail if the src changed in the meantime\n    if (uri !== getSrc()) {\n      return;\n    }\n\n    if (response.status >= 400) {\n      return dispatch({\n        type: \"LOAD_PATTERN_DEMO_ERROR\",\n        payload: { id: uri, error: body }\n      });\n    }\n\n    dispatch({\n      type: \"LOAD_PATTERN_DEMO_SUCCESS\",\n      payload: { id: uri, contents: body, force: payload.force }\n    });\n  };\n};\n\nfunction src(getState) {\n  return () => demo.selectSrc(getState());\n}\n","import url from \"url\";\nimport { createPromiseThunkAction } from \"./promise-thunk-action\";\nimport fetch from \"../utils/fetch\";\n\nexport default createPromiseThunkAction(\n  \"LOAD_SCHEMA\",\n  async (_, __, getState) => {\n    const response = await fetch(`${prefix(getState().base)}/api/state.json`);\n    return response.json();\n  }\n);\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"MARK_BLOCK\");\n","import { patchLocation } from \"./\";\n\nexport default openDocumentation;\nexport const type = \"OPEN_DOCUMENTATION\";\n\nfunction openDocumentation() {\n  return (dispatch, getState) => {\n    const state = getState();\n    const pathname = state.base;\n    dispatch(patchLocation({ pathname }));\n  };\n}\n\nopenDocumentation.key = \"\";\nopenDocumentation.property = \"\";\nopenDocumentation.type = type;\n","import urlQuery from \"../utils/url-query\";\nimport { selectId, selectContentType } from \"../selectors/item\";\n\nexport default openFullscreen;\nexport const type = \"OPEN_FULLSCREEN\";\n\nfunction openFullscreen() {\n  return (dispatch, getState) => {\n    if (!global.open) {\n      return;\n    }\n\n    const state = getState();\n    const contentType = selectContentType(state);\n\n    if (contentType !== \"pattern\") {\n      return;\n    }\n\n    const id = selectId(state);\n\n    if (!id) {\n      return;\n    }\n\n    const href = urlQuery.format({\n      pathname: `${state.base}api/demo/${id}.html`\n    });\n\n    global.open(href, \"_blank\");\n  };\n}\n\nopenFullscreen.key = \"\";\nopenFullscreen.property = \"\";\nopenFullscreen.type = type;\n","import { merge } from \"lodash\";\nimport { push } from \"react-router-redux\";\nimport url from \"url\";\n\nexport default patchLocation;\nexport const type = \"PATCH_LOCATION\";\n\nfunction patchLocation(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const location = state.routing.locationBeforeTransitions;\n\n    if (payload.hasOwnProperty(\"pathname\")) {\n      payload.pathname = payload.pathname.indexOf(state.base) === 0\n        ? payload.pathname\n        : `${prefix(state.base)}/${payload.pathname}`;\n    }\n\n    dispatch(push(merge({}, location, payload)));\n  };\n}\n\npatchLocation.type = type;\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createAction } from \"redux-actions\";\nimport handleDependentActions from \"./handle-dependent-actions\";\n\nconst ident = i => i;\nconst asyncIdent = async i => i;\n\nexport function createPromiseThunkAction(name, rawCreator) {\n  const creator = rawCreator || asyncIdent;\n\n  const fn = payload => {\n    const delayedAction = createAction(`${name}_DELAYED`);\n    const successAction = createAction(`${name}_SUCCESS`);\n    const startAction = createAction(`${name}_START`);\n    const throwsAction = createAction(`${name}_THROWS`);\n\n    return async (dispatch, getState) => {\n      dispatch(startAction(payload, ident, getState));\n      const delayedTimer = global.setTimeout(() => {\n        dispatch(delayedAction(payload, ident, getState));\n      }, 1000);\n      try {\n        const result = await Promise.resolve(\n          creator(payload, dispatch, getState)\n        );\n        global.clearTimeout(delayedTimer);\n        dispatch(successAction(result));\n        return result;\n      } catch (error) {\n        console.error(error);\n        global.clearTimeout(delayedTimer);\n        dispatch(throwsAction(error));\n        return error;\n      }\n    };\n  };\n  fn.__name = name;\n  return fn;\n}\n\nexport function handlePromiseThunkAction(rawName, handler, options = {}) {\n  const name = rawName.__name || rawName;\n  options.dependencies = options.dependencies || [];\n  const reducer = handleDependentActions(\n    {\n      [`${name}_START`]: handler.start || ident,\n      [`${name}_DELAYED`]: handler.delayed || ident,\n      [`${name}_SUCCESS`]: handler.success || ident,\n      [`${name}_THROWS`]: handler.throws || ident\n    },\n    options\n  );\n  return reducer;\n}\n","import { loadPatternDemo, loadSchema } from \"./\";\n\nexport default reload;\n\nfunction reload() {\n  return async dispatch => {\n    const actions = [\n      async () => dispatch(await Promise.resolve(loadSchema())),\n      loadPatternDemo({ force: true })\n    ];\n\n    await Promise.all(actions.map(dispatch));\n  };\n}\n\nreload.type = \"RELOAD\";\nreload.key = \"\";\nreload.property = \"\";\n","import { patchLocation } from \"./\";\n\nexport default resizeDemo;\nexport const type = \"RESIZE_DEMO\";\n\nfunction resizeDemo(payload) {\n  return dispatch => {\n    dispatch(\n      patchLocation({\n        query: {\n          width: payload.x,\n          height: payload.y\n        }\n      })\n    );\n  };\n}\n\nresizeDemo.type = type;\n","export default scrollDemo;\nexport const type = \"SCROLL_DEMO\";\n\nlet loop;\nlet frame;\n\nfunction scrollDemo(payload) {\n  return (dispatch, getState) => {\n    function run() {\n      loop = global.requestAnimationFrame(() => {\n        const state = getState();\n\n        if (state.scrollDemoX.x !== frame.x) {\n          dispatch({\n            type: \"SCROLL_DEMO_X\",\n            payload: frame.x\n          });\n        }\n        if (state.scrollDemoY.y !== frame.y) {\n          dispatch({\n            type: \"SCROLL_DEMO_Y\",\n            payload: frame.y\n          });\n        }\n        run();\n      });\n    }\n\n    if (!loop) {\n      run();\n    }\n\n    frame = payload;\n  };\n}\n\nscrollDemo.type = type;\n","import scrollparent from \"scrollparent\";\n\nexport default scrollTo;\nexport const type = \"SCROLL_TO\";\n\nconst NOOP = () => {};\n\nfunction scrollTo(to) {\n  const { document } = global;\n\n  if (!document) {\n    return NOOP;\n  }\n\n  const target = getTarget(to);\n\n  if (!target) {\n    return NOOP;\n  }\n\n  const parent = scrollparent(target);\n\n  if (!parent) {\n    return NOOP;\n  }\n\n  parent.scrollTop = target.offsetParent.offsetTop;\n\n  return dispatch => {\n    dispatch({\n      type: \"SCROLLED_TO\",\n      payload: to\n    });\n  };\n}\n\nfunction getTarget(to) {\n  if (typeof to === \"string\") {\n    return document.getElementById(to);\n  }\n\n  return to;\n}\n\nscrollTo.type = type;\n","import { patchLocation } from \"./\";\n\nexport default searchPreview;\nexport const type = \"SEARCH_PREVIEW\";\n\nconst MOVEMENTS = {\n  up: -1,\n  down: 1\n};\n\nfunction searchPreview(payload) {\n  if (typeof payload === \"number\") {\n    return dispatch => {\n      dispatch(\n        patchLocation({\n          query: {\n            \"search-preview\": payload\n          }\n        })\n      );\n    };\n  }\n\n  return (dispatch, getState) => {\n    const state = getState();\n    const delta = MOVEMENTS[payload] || 0;\n\n    dispatch(\n      patchLocation({\n        query: {\n          \"search-preview\": state.searchPreview + delta\n        }\n      })\n    );\n  };\n}\n\nsearchPreview.type = type;\n","import raf from \"raf\";\nimport { patchLocation } from \"./\";\n\nexport default search;\nexport const type = \"SEARCH\";\n\nfunction search(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    dispatch({\n      type: \"SET_SEARCH\",\n      payload: payload.value\n    });\n\n    raf(() => {\n      if (payload.persist) {\n        dispatch(\n          patchLocation({\n            query: {\n              search: payload.value,\n              \"search-preview\":\n                state.search === payload.value ? state.searchPreview : 0\n            }\n          })\n        );\n      } else if (payload.perform) {\n        dispatch({\n          type: \"PERFORM_SEARCH\",\n          payload: payload.value\n        });\n      }\n    });\n  };\n}\n\nsearch.type = type;\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"THEME_LOADED\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"code-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"components-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"console-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"dependencies-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"dependents-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"doc-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"hide-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"info-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"shortcuts\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"manifest-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"navigation-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"network-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"opacity\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"rulers\");\n","import { patchLocation, search } from \"./\";\n\nexport default toggleSearch;\n\nexport const type = \"TOGGLE_SEARCH_ENABLED\";\n\nfunction toggleSearch(payload = {}) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    if (payload.sync) {\n      focus(state.searchEnabled);\n      return;\n    }\n\n    const next = \"focus\" in payload ? payload.focus : !state.searchEnabled;\n\n    if (!next) {\n      dispatch(search({ persist: true, value: value() }));\n    }\n\n    dispatch(\n      patchLocation({ query: { \"search-enabled\": next, \"search-preview\": 0 } })\n    );\n  };\n}\n\ntoggleSearch.type = type;\ntoggleSearch.key = \"search-enabled\";\ntoggleSearch.property = \"searchEnabled\";\n\nfunction focus(next) {\n  if (!next) {\n    return;\n  }\n\n  if (!(\"document\" in global)) {\n    return;\n  }\n\n  setTimeout(() => {\n    const el = global.document.querySelector(\"input[data-search]\");\n\n    if (!el) {\n      return;\n    }\n\n    if (global.document.activeElement !== el) {\n      el.focus();\n    }\n\n    const range = el.value.length;\n    el.setSelectionRange(range, range);\n  }, 100);\n}\n\nfunction value() {\n  if (!(\"document\" in global)) {\n    return;\n  }\n\n  const el = global.document.querySelector(\"input[data-search]\");\n\n  if (!el) {\n    return;\n  }\n\n  return el.value;\n}\n","import { patchLocation } from \"./\";\n\nexport default toggleTheme;\nexport const type = \"TOGGLE_THEME\";\n\nfunction toggleTheme(forced) {\n  return (dispatch, getState) => {\n    const theme = forced\n      ? forced\n      : getState().theme === \"dark\" ? \"light\" : \"dark\";\n    dispatch(\n      patchLocation({\n        query: {\n          theme\n        }\n      })\n    );\n  };\n}\n\ntoggleTheme.type = type;\n","import { camelCase, snakeCase } from \"lodash\";\nimport { patchLocation } from \"./\";\n\nexport function toggle(key) {\n  const property = camelCase(key);\n\n  const fn = (payload = {}) => {\n    return (dispatch, getState) => {\n      const next = \"forced\" in payload ? payload.forced : !getState()[property];\n      dispatch(patchLocation({ query: { [key]: next } }));\n    };\n  };\n\n  fn.type = `TOGGLE_${snakeCase(key).toUpperCase()}`;\n  fn.property = property;\n  fn.key = key;\n  return fn;\n}\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"WINDOW_RESIZE\", ({ width, height }) => ({\n  width,\n  height\n}));\n","import React from \"react\";\n\nexport function mountable(Component) {\n  return class MountableComponent extends React.Component {\n    componentDidMount() {\n      if (typeof this.props.onMount === \"function\") {\n        this.props.onMount();\n      }\n    }\n    render() {\n      const { onMount, ...rest } = this.props;\n      return <Component {...rest} />;\n    }\n  };\n}\n\nexport function skippable(Component, prop = \"active\") {\n  return props => (props[prop] === true ? <Component {...props} /> : null);\n}\n","import React from \"react\";\nimport { hydrate } from \"react-dom\";\nimport { Router, browserHistory } from \"@marionebl/react-router\";\nimport { Provider } from \"react-redux\";\nimport { syncHistoryWithStore } from \"react-router-redux\";\n\nimport routes from \"./routes\";\nimport configureStore from \"./store\";\n\nexport default function(data, el) {\n  const store = configureStore(browserHistory, data);\n  const history = syncHistoryWithStore(browserHistory, store);\n\n  const router = (\n    <Provider store={store}>\n      <Router history={history}>{routes(store)}</Router>\n    </Provider>\n  );\n\n  return hydrate(router, el);\n}\n","import React from \"react\";\nimport { Link, styled } from \"@patternplate/components\";\n\nexport default ToggleButton;\n\nfunction ToggleButton(props) {\n  const title =\n    props.title ||\n    `${props.shortcut.description(props)} ${props.shortcut.toString()}`;\n\n  if (props.active === false) {\n    return (\n      <StandIn className={props.className} title={title}>\n        {props.children}\n      </StandIn>\n    );\n  }\n\n  return (\n    <Link\n      className={props.className}\n      title={title}\n      query={{ [props.shortcut.key]: !props.enabled }}\n    >\n      {props.children}\n    </Link>\n  );\n}\n\nconst StandIn = styled.div`\n  font-size: 0;\n  line-height: 0;\n`;\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\nimport { findDOMNode } from \"react-dom\";\nimport Helmet from \"react-helmet\";\nimport Markdown from \"../containers/markdown\";\n\nexport default class Documentation extends React.Component {\n  componentWillUpdate(nextProps) {\n    const {props} = this;\n    const changed = props.location.pathname !== nextProps.location.pathname;\n    if (changed && typeof props.requestScroll === \"function\") {\n      props.requestScroll(findDOMNode(this.ref));\n    }\n  }\n\n  render () {\n    const {props} = this;\n    return (\n      <StyledDocumentation ref={ref => this.ref = ref}>\n        <div id=\"doctop\"/>\n        <Helmet\n          title={props.displayName}\n          />\n        <Markdown\n          linkable\n          source={props.doc}\n          />\n      </StyledDocumentation>\n    );\n  }\n}\n\nconst StyledDocumentation = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n  max-width: 860px;\n  padding: 80px 15px 15px 15px;\n  @media screen and (min-width: 720px) {\n    padding: 60px;\n  }\n`;\n","import React from \"react\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport Helmet from \"react-helmet\";\nimport {\n  styled,\n  themes,\n  Symbol,\n  IconDefinitions,\n  svg\n} from \"@patternplate/components\";\n\nimport platform from \"platform\";\n\nconst THEMES = themes();\n\nconst SVG_FAVICON_SUPPORT = [\"Firefox\"];\n\nclass FavIcon extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    if (SVG_FAVICON_SUPPORT.indexOf(platform.name) > -1) {\n      return;\n    }\n\n    svg\n      .png(getSource(this.props))\n      .then(pngHref => this.setState({\n        pngHref\n      }))\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          pngHref: null\n        });\n      });\n  }\n\n  componentWillReceiveProps(next) {\n    if (SVG_FAVICON_SUPPORT.indexOf(platform.name) > -1) {\n      return;\n    }\n\n    svg\n      .png(getSource(next))\n      .then(pngHref => this.setState({\n        pngHref\n      }))\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          pngHref: null\n        });\n      });\n  }\n\n  render() {\n    const source = getSource(this.props);\n    const svgHref = svg.btoa(source);\n\n    return (\n      <Helmet\n        link={[\n          ...(this.state.pngHref ? [{ rel: \"icon\", href: this.state.pngHref, type: \"image/png\" }] : []),\n          {\n            rel: \"icon\",\n            href: svgHref,\n            type: \"image/svg+xml\"\n          }\n        ]}\n      />\n    );\n  }\n}\n\nexport default styled(FavIcon)`\n  width: 100%;\n  height: auto;\n  stroke: ${props => props.theme.colors.color};\n  stroke-width: 0;\n  fill: ${props => props.theme.colors.color};\n`;\n\nfunction getSource(props) {\n  if (!props.source) {\n    return renderToStaticMarkup(\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <Symbol\n          definition={IconDefinitions.patternplate}\n          emit\n          style={{ fill: getFill(props) }}\n        />\n      </svg>\n    );\n  }\n\n  const [purged] = svg.purge([svg.parse(props.source)]);\n  return svg.stringify(purged);\n}\n\nfunction getFill(props) {\n  if (props.error) {\n    return THEMES.dark.error;\n  }\n  return THEMES.dark.active;\n}\n","import React from \"react\";\nimport { styled, css, keyframes, Text } from \"@patternplate/components\";\n\nexport default Indicator;\n\nfunction Indicator(props) {\n  return (\n    <StyledIndicator\n      onClick={props.onClick}\n      title={\n        isValid(props.status) ? `Force sync ${props.shortcut.toString()}` : \"\"\n      }\n    >\n      <StyledLabel size=\"s\" status={props.status}>\n        {getLabel(props)}\n      </StyledLabel>\n      <StyledDot status={props.status} />\n    </StyledIndicator>\n  );\n}\n\nconst StyledDot = styled.div`\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: 7.5px;\n  width: 7.5px;\n  margin-right: 5px;\n  border-radius: 50%;\n  background: ${props =>\n    props.status === \"error\" || props.status === \"offline\"\n      ? \"rgb(205, 63, 69)\"\n      : props.theme.colors.active};\n  transition: background 0.4s ease-in-out, opacity 0.5s ease-in;\n  opacity: ${props => (props.status ? 1 : 0)};\n  cursor: ${props => (props.status ? \"pointer\" : \"\")};\n  ${props => getGlow(props)};\n`;\n\nconst StyledIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst StyledLabel = styled(Text)`\n  position: absolute;\n  right: 20px;\n  color: ${props => props.theme.colors.color};\n  ${props => getOut(props)};\n`;\n\nfunction getGlow(props) {\n  return `\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\theight: 12px;\n\t\t\twidth: 12px;\n\t\t\tfilter: blur(3px);\n\t\t\tbackground: inherit;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\topacity: .6;\n\t\t\t${getPulse(props)};\n\t\t}\n\t`;\n}\n\nconst out = keyframes`\n\tto {\n\t\topacity: 0;\n\t}\n`;\n\nfunction getOut(props) {\n  if (props.status !== \"loaded\") {\n    return;\n  }\n\n  return css`\n    animation: ${out} 1s 0.15s;\n    animation-fill-mode: forwards;\n  `;\n}\n\nfunction getLabel(props) {\n  switch (props.status) {\n    case \"error\":\n      return \"error\";\n    case \"offline\":\n      return \"offline\";\n    case \"loaded\":\n      return \"synced\";\n    case \"loading\":\n      return \"syncing\";\n    default:\n      return \"\";\n  }\n}\n\nconst pulse = keyframes`\n  from {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  50% {\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(.75);\n  }\n  to {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n`;\n\nfunction getPulse(props) {\n  if (props.status !== \"loading\") {\n    return;\n  }\n\n  return css`\n    animation: ${pulse} 1s infinite;\n  `;\n}\n\nfunction isValid(status) {\n  return [\"loading\", \"loaded\"].includes(status);\n}\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\n\nexport default Message;\n\nfunction Message(props) {\n  return (\n    <StyledMessage>\n      <StyledMessageContent>\n        {props.message}\n        {props.details && (\n          <StyledDetails>\n            {props.summary && <StyledSummary>{props.summary}</StyledSummary>}\n            {props.details}\n          </StyledDetails>\n        )}\n      </StyledMessageContent>\n    </StyledMessage>\n  );\n}\n\nconst StyledMessage = styled.div`\n  background: ${props => props.theme.colors.error};\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 20px;\n`;\n\nconst StyledMessageContent = styled.pre`\n  color: #fff;\n  max-height: calc(100vh - 160px);\n  overflow: scroll;\n`;\n\nconst StyledDetails = styled.details`\n  margin: 10px 0;\n`;\n\nconst StyledSummary = styled.summary`\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n`;\n","import React, { Component } from \"react\";\n\nexport default class ClickOutside extends Component {\n  constructor(props) {\n    super(props);\n    this.handle = this.handle.bind(this);\n    this.getContainer = this.getContainer.bind(this);\n  }\n\n  getContainer(ref) {\n    this.container = ref;\n  }\n\n  render() {\n    return (\n      <div className={this.props.className} ref={this.getContainer}>\n        {this.props.children}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    global.document.addEventListener(\"click\", this.handle, true);\n  }\n\n  componentWillUnmount() {\n    global.document.removeEventListener(\"click\", this.handle, true);\n  }\n\n  handle(e) {\n    const { props } = this;\n    const el = this.container;\n    if (!el.contains(e.target)) {\n      props.onClickOutside(e);\n    }\n  }\n}\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport { Markdown, styled } from \"@patternplate/components\";\nimport tag from \"tag-hoc\";\nimport Transition from \"react-transition-group/Transition\";\n\nimport PatternDemo from \"./pattern-demo\";\nimport PatternSheet from \"./pattern-sheet\";\n\nconst btoa = global.btoa ? global.btoa : input => Buffer.from(input).toString('base64');\n\nconst VISIBILITY = props => (props.checkers ? \"block\" : \"none\");\nconst CROSSES = props => btoa(`\n<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path stroke-width=\"1\" stroke=\"#f2f2f2\" fill=\"none\" d=\"M10 6v8M6 10h8\"/>\n</svg>\n`);\n\nconst PAD = props => props.padded ? 50 : 0;\nconst OFF = props => props.navigationEnabled ? 300 : 0;\nconst OFFSET = props => PAD(props) + OFF(props);\n\nconst StyledPattern = styled(tag([\"checkers\", \"navigationEnabled\", \"padded\"])(\"div\"))`\n  position: fixed;\n  width: calc(100% - ${props => OFFSET(props) + PAD(props)}px);\n  top: ${PAD}px;\n  left: ${props => OFFSET(props)}px;\n  right: ${PAD}px;\n  bottom: ${PAD}px;\n  box-sizing: border-box;\n  height: 100%;\n  &::before {\n    content: \"\";\n    display: ${VISIBILITY};\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url(\"data:image/svg+xml;base64,${CROSSES}\");\n    background-size: 20px 20px;\n    background-repeat: repeat;\n    background-position: 50% 50%;\n  }\n`;\n\nconst StyledPatternFolder = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst StyledPatternDoc = styled.div`\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 30px;\n  box-sizing: border-box;\n`;\n\nconst StyledPatternDemo = styled.div`\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  max-width: 1920px;\n  margin: 0 auto;\n`;\n\nconst StyledPatternLoader = styled.div`\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 3px;\n  ${props => props.hidden ? 'display: none;' : ''}\n  &::after {\n    position: absolute;\n    top: 0;\n    z-index: 2;\n    content: \"\";\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: ${props =>\n      props.error ? props.theme.colors.error : props.theme.colors.active};\n    opacity: 1;\n    transition: ${props => (props.error ? \"none\" : \"transform 1s ease-in-out\")};\n    ${props => {\n      switch (props.status) {\n        case \"entering\":\n          return `\n            transform: translateX(-100%);\n          `;\n        case \"entered\":\n          return `${props =>\n            props.error ? \"\" : \"transform: translateX(-15%);\"}`;\n        case \"exiting\":\n          return `\n            transition: transform .3s ease-out;\n            transform: translateX(0);\n          `;\n        case \"exited\":\n        default:\n          return `\n            transform: translateX(-100%);\n            transition: opacity .3s .25s ease-out;\n          `;\n      }\n    }};\n  }\n`;\n\nconst PatternContainer = styled.div`\n  height: 100%;\n  padding-left: ${props => props.navigationEnabled ? 0 : 60}px;\n`;\n\nexport default class Pattern extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { srcdoc: false };\n  }\n\n  render() {\n    const { props } = this;\n\n    if (props.contentType !== \"pattern\") {\n      return null;\n    }\n\n    if (props.type === \"folder\") {\n      return (\n        <StyledPatternFolder>\n          <StyledPatternDoc>\n            <Markdown source={props.docs} />\n          </StyledPatternDoc>\n        </StyledPatternFolder>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <StyledPattern\n          padded={props.screenshot}\n          checkers={props.opacity}\n          navigationEnabled={props.navigationEnabled}\n          >\n          <Helmet\n            title={[getPrefix(props), props.displayName]\n              .filter(Boolean)\n              .join(\": \")}\n          />\n          <Transition\n            in={props.loading || props.error}\n            timeout={{ enter: 1000, exit: 850 }}\n          >\n            {status => (\n              <StyledPatternLoader\n                hidden={props.screenshot}\n                status={status}\n                error={props.error}\n                />\n            )}\n          </Transition>\n          <StyledPatternDemo>\n            <PatternContainer navigationEnabled={props.navigationEnabled}>\n              <PatternDemo\n                src={props.src}\n                contents={props.contents}\n                loading={props.loading}\n                updated={props.updated}\n              />\n            </PatternContainer>\n          </StyledPatternDemo>\n        </StyledPattern>\n        <PatternSheet/>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction getPrefix(props) {\n  if (props.loading) {\n    return \"Load\";\n  }\n  if (props.error) {\n    return \"Error\";\n  }\n  return \"\";\n}\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\n\nconst StyledDemo = styled.iframe`\n  width: 100%;\n  height: calc(100% - 30vh);\n  border: 0;\n`;\n\nfunction PatternDemo(props) {\n  const src = typeof props.updated === \"number\"\n    ? `${props.src}?reload=${props.updated}`\n    : props.src;\n\n  return <StyledDemo\n    src={src}\n    referrerpolicy=\"no-referrer\"\n    />;\n}\n\nexport default PatternDemo;\n","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport remark from \"remark\";\nimport emoji from \"remark-gemoji-to-emoji\";\n\nimport { Flag, Headline, Link, Markdown, styled, Tag, Text, ThemeProvider, themes } from \"@patternplate/components\";\n\nimport * as item from \"../../selectors/item\";\nimport Fullscreen from \"../../containers/trigger-fullscreen\";\nimport ToggleOpacity from \"../../containers/toggle-opacity\";\n\nconst processor = remark().use(emoji);\n\nexport default connect(mapProps)(PatternSheet);\n\nfunction PatternSheet(props) {\n  return (\n    <StyledPatternSheet screenshot={props.screenshot}>\n      <StyledPatternSheetContainer>\n          <StyledControlsBox>\n            <StyledName>\n              {props.name}\n              <StyledVersion>@{props.version}</StyledVersion>\n            </StyledName>\n            <ThemeProvider theme={themes().dark}>\n              <StyledControlsArea orient=\"right\">\n                <StyledControlsItem>\n                  <ToggleOpacity />\n                </StyledControlsItem>\n                <StyledControlsItem>\n                  <Fullscreen />\n                </StyledControlsItem>\n              </StyledControlsArea>\n            </ThemeProvider>\n          </StyledControlsBox>\n          {props.description &&\n            <StyledDescription>\n              {processor.processSync(props.description).contents}\n            </StyledDescription>\n          }\n          <StyledBoxLine>\n            <SearchTrigger field=\"flag\" search={props.flag}>\n              <Flag>{props.flag}</Flag>\n            </SearchTrigger>\n            <StyledTagList>\n              {\n                props.tags.map((tag, index) => (\n                  <SearchTrigger key={`${tag}-${index}`} field=\"tags\" search={tag}>\n                    <Tag>{tag}</Tag>\n                  </SearchTrigger>\n                ))\n              }\n            </StyledTagList>\n          </StyledBoxLine>\n          {typeof props.doc === \"string\" &&\n            <StyledMarkdownBox>\n              <Markdown\n                linkable={true}\n                source={props.doc}\n              />\n            </StyledMarkdownBox>\n          }\n      </StyledPatternSheetContainer>\n    </StyledPatternSheet>\n  );\n}\n\n\nconst StyledSearchTrigger = styled.span`\n  &:not(:first-child) {\n    margin-left: 10px;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n`;\n\nfunction SearchTrigger(props) {\n  return (\n    <StyledSearchTrigger>\n      <StyledLink\n        className={props.className}\n        query={{\n          \"search-enabled\": true,\n          search: `${props.field}=${props.search}`\n        }}\n        title={`Search other patterns with ${props.field} \"${props.search}\"`}\n      >\n        {props.children}\n      </StyledLink>\n    </StyledSearchTrigger>\n  );\n}\n\nfunction mapProps(state) {\n  return {\n    doc: item.selectContents(state),\n    description: item.selectDescription(state),\n    id: state.id,\n    icon: item.selectIcon(state),\n    type: item.selectType(state),\n    name: item.selectName(state),\n    flag: item.selectFlag(state),\n    tags: item.selectTags(state),\n    version: item.selectVersion(state),\n    screenshot: state.routing.locationBeforeTransitions.query.screenshot === \"true\"\n  };\n}\n\nconst TOOLBAR_HEIGHT = 60;\n\nconst StyledName = styled(props => <Headline {...props} is=\"h1\" order={1}/>)`\n  margin: 0 0 10px 0;\n`;\n\nconst StyledVersion = styled(props => <Headline {...props} is=\"small\" order={3}/>)`\n  display: inline-block;\n  color: ${props => props.theme.colors.color};\n  margin: 0;\n`;\n\nconst StyledDescription = styled(Text)`\n  color: ${props => props.theme.colors.recess};\n  margin-bottom: 20px;\n`;\n\nconst StyledPatternSheet = styled.div`\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 30vh;\n  margin-top: 70vh;\n  padding: 30px 60px;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.background};\n`;\n\nconst ORIENTATION = props => {\n  const direction = props.orient === \"right\" ? \"left\" : \"right\";\n  return `margin-${direction}: auto`;\n};\n\nconst StyledPatternSheetContainer = styled.div`\n  margin: 0 auto;\n  max-width: 1240px;\n`;\n\nconst StyledControlsArea = styled.div`\n  display: flex;\n  ${ORIENTATION};\n`;\n\nconst StyledControlsBox = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 0 0 auto;\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  background: white;\n`;\n\nconst StyledControlsItem = styled.div`\n  & + & {\n    padding-left: 10px;\n  }\n`;\n\nconst StyledTagList = styled.div`\n  display: inline-block;\n  margin-left: 10px;\n  padding: 2px 10px;\n  border-left: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst StyledBoxLine = styled.div`\n  display: flex;\n  align-items: center;\n  min-height: 32px;\n`;\n\nconst StyledMarkdownBox = styled.div`\n  margin-top: 30px;\n`;\n","import React from \"react\";\nimport { debounce } from \"lodash\";\n\nimport { SearchField as SearchFieldComponent } from \"@patternplate/components\";\n\nclass SearchField extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleStop = debounce(this.props.onStop, 300, { trailing: true });\n    this.timer = null;\n  }\n\n  handleChange(e) {\n    e.persist();\n    this.props.onChange(e);\n    this.handleStop(e);\n  }\n\n  handleKeyDown(e) {\n    const { target } = e;\n    const hasValue = target.value.length > 0;\n    const atEnd = hasValue && target.selectionStart === target.value.length;\n\n    if (e.which === 32 && e.altKey && e.ctrlKey) {\n      e.preventDefault();\n      this.props.onClose();\n    }\n    if (e.which !== 27) {\n      e.stopPropagation();\n    }\n    if (e.which === 27 && hasValue) {\n      e.preventDefault();\n      this.props.onClear();\n    }\n    if (e.which === 38) {\n      this.props.onUp(e);\n    }\n    if (e.which === 39 && atEnd && this.props.suggestion) {\n      e.preventDefault();\n      this.props.onComplete(this.props.suggestion);\n    }\n    if (e.which === 40 && atEnd) {\n      e.preventDefault();\n      this.props.onDown(e);\n    }\n  }\n\n  render() {\n    const props = this.props;\n\n    return (\n      <SearchFieldComponent\n        autoFocus={props.autoFocus}\n        name={props.name}\n        onBlur={props.onBlur}\n        onChange={this.handleChange}\n        onFocus={props.onFocus}\n        onKeyDown={this.handleKeyDown}\n        placeholder={props.placeholder}\n        suggestion={props.suggestion}\n        title={props.title}\n        value={props.value}\n        data-search={props.mark}\n      >\n        {props.children}\n      </SearchFieldComponent>\n    );\n  }\n}\n\nSearchField.defaultProps = {\n  blur: () => {},\n  onChange: () => {},\n  onFocus: () => {},\n  onUp: () => {},\n  onDown: () => {},\n  onBlur: () => {},\n  onStop: () => {},\n  value: \"\"\n};\n\nexport default SearchField;\n","import url from \"url\";\nimport { values } from \"lodash\";\nimport React from \"react\";\nimport {\n  Search as SearchComponents,\n  InnerInfoPane,\n  Icon,\n  Link,\n  Markdown,\n  styled,\n  Text\n} from \"@patternplate/components\";\nimport tag from \"tag-hoc\";\n\nimport Outside from \"./outside\";\nimport SearchField from \"./search-field\";\nimport withToggleStates from \"../connectors/with-toggle-states\";\nimport PassThrough from \"../containers/pass-through\";\n\nconst InfoPane = withToggleStates(InnerInfoPane);\nconst {\n  Search: SearchComponent,\n  SearchResult,\n  SearchResultList,\n  SearchResultHeading,\n  SearchResultPreview,\n  SearchFieldSlot,\n  Close: SearchClose,\n  PassThroughSlot: SearchPassThroughSlot\n} = SearchComponents;\n\nconst NOOP = () => { };\n\nexport default class Search extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUp = this.handleUp.bind(this);\n    this.handleDown = this.handleDown.bind(this);\n    this.handleActivate = this.handleActivate.bind(this);\n    this.handleScrollRequest = this.handleScrollRequest.bind(this);\n    this.getListRef = this.getListRef.bind(this);\n    this.getSearchResult = this.getSearchResult.bind(this);\n  }\n\n  handleScrollRequest(e) {\n    if (!this.list) {\n      return;\n    }\n    const l = this.list.getBoundingClientRect();\n    const i = e.target.getBoundingClientRect();\n\n    if (i.bottom > l.bottom) {\n      this.list.scrollTop = e.target.offsetTop - l.height + i.height;\n    }\n\n    if (i.top < l.top) {\n      this.list.scrollTop = e.target.offsetTop - 30;\n    }\n  }\n\n  getListRef(ref) {\n    this.list = ref;\n  }\n\n  getSearchResult = (item, type) => (\n    <SearchResult\n      active={(this.props.activeItem || {}).id === item.id}\n      href={[item.contentType, item.id].join('/')}\n      id={item.id}\n      index={item.index}\n      icon={item.manifest.icon || item.type}\n      name={item.manifest.displayName}\n      key={item.id}\n      onActivate={this.props.onActivate}\n      onScrollRequest={this.handleScrollRequest}\n      type={type}\n    />\n  );\n\n  getSearchResultPreview = () => {\n    const item = this.props.activeItem;\n\n    switch (item.contentType) {\n      case \"doc\":\n        return (\n          <SearchResultPreview {...this.props}>\n            <Markdown\n              source={item.contents}\n              />\n          </SearchResultPreview>\n        );\n      default:\n        return (\n          <SearchResultPreview {...this.props}>\n            <InfoPane\n              active\n              demoDependencies={values(item.demoDependencies)}\n              demoDependents={values(item.demoDependents)}\n              dependencies={values(item.dependencies)}\n              dependents={values(item.dependents)}\n              flag={item.manifest.flag}\n              id={item.id}\n              manifest={JSON.stringify(item.manifest, null, \"  \")}\n              name={item.manifest.displayName}\n              tags={item.manifest.tags}\n              version={item.manifest.version}\n            />\n          </SearchResultPreview>\n        );\n    }\n  }\n\n  componentDidMount() {\n    if (typeof this.props.onMount === \"function\") {\n      this.props.onMount();\n    }\n  }\n\n  handleActivate(e) {\n    const id = e.target.getAttribute(\"data-id\");\n    const index = [...this.props.docs, ...this.props.components].findIndex(\n      i => i.id === id\n    );\n\n    if (index > -1) {\n      this.props.onActivate(index);\n    }\n  }\n\n  handleUp(e) {\n    e.stopPropagation();\n    if (this.props.activeItem && this.props.activeItem.index > 0) {\n      e.preventDefault();\n      this.props.onUp();\n    }\n  }\n\n  handleDown(e) {\n    e.stopPropagation();\n    const available = this.props.components.length + this.props.docs.length - 2;\n\n    if (this.props.activeItem && available >= this.props.activeItem.index) {\n      this.props.onDown();\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const {props} = this;\n\n    if (!props.activeItem) {\n      return props.onSubmit(e);\n    }\n\n    const {activeItem} = props;\n    props.onNavigate(activeItem);\n  }\n\n  render() {\n    const { props } = this;\n\n    const withComponents = props.components.length > 0;\n    const withDocs = props.docs.length > 0;\n\n    return (\n      <SearchComponent\n        activeItem={props.activeItem}\n        docs={props.docs}\n        enabled={props.enabled}\n        inline={props.inline}\n        onActivate={props.inline ? NOOP : this.handleActivate}\n        onClickOutside={props.inline ? NOOP : props.onClickOutside}\n        onBlur={props.inline ? NOOP : props.onBlur}\n        onChange={props.inline ? NOOP : props.onChange}\n        onClear={props.inline ? NOOP : props.onClear}\n        onComplete={props.inline ? NOOP : props.onComplete}\n        onDown={props.inline ? NOOP : this.handleDown}\n        onFocus={props.inline ? NOOP : props.onFocus}\n        onStop={props.inline ? NOOP : props.onStop}\n        onSubmit={props.inline ? NOOP : this.handleSubmit}\n        onUp={props.inline ? NOOP : this.handleUp}\n        shortcuts={props.shortcuts}\n        suggestion={props.suggestion}\n        legend={props.legend}\n      >\n        <SearchResultList innerRef={this.getListRef}>\n          {withDocs > 0 && (\n            <SearchResultHeading>Docs ({props.docs.length})</SearchResultHeading>\n          )}\n\n          {props.docs.map(d => this.getSearchResult(d, \"doc\", props))}\n\n          {withComponents > 0 && (\n            <SearchResultHeading navigationEnabled={props.navigationEnabled}>\n              Components ({props.components.length})\n            </SearchResultHeading>\n          )}\n\n          {props.components.map(d => this.getSearchResult(d, \"pattern\"))}\n        </SearchResultList>\n\n        {(withComponents || withDocs) && this.getSearchResultPreview()}\n\n        <SearchFieldSlot>\n          <SearchField\n            autoFocus={!props.inline}\n            linkTo=\"/search\"\n            mark={props.inline ? null : true}\n            name={props.inline ? \"inline-search\" : \"search\"}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onClear={props.onClear}\n            onClose={props.onClose}\n            onComplete={props.onComplete}\n            onDown={this.handleDown}\n            onFocus={props.onFocus}\n            onStop={props.onStop}\n            onUp={this.handleUp}\n            placeholder=\"Search\"\n            suggestion={props.suggestion}\n            title={`Search for patterns ${props.shortcuts.toggleSearch.toString()}`}\n            value={props.value}\n          >\n            {props.enabled &&\n              <SearchClose\n                shortcut={props.shortcuts.close}\n                clears={typeof props.value === \"string\" && props.value.length > 0}\n              />\n            }\n          </SearchField>\n        </SearchFieldSlot>\n        <SearchPassThroughSlot>\n          <PassThrough query={{ \"search-enabled\": true, search: null }} />\n        </SearchPassThroughSlot>\n      </SearchComponent>\n    );\n  }\n}\n","import React from \"react\";\nimport { styled, Icon } from \"@patternplate/components\";\n\nimport ToggleButton from \"./common/toggle-button\";\n\nexport default Hamburger;\n\nfunction Hamburger(props) {\n  return (\n    <StyledToggleButton\n      enabled={props.enabled}\n      shortcut={props.shortcut}\n      >\n      <Icon symbol=\"hamburger\"/>\n      {props.shortcut.toString()}\n    </StyledToggleButton>\n  );\n}\n\nconst StyledToggleButton = styled(ToggleButton)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0;\n  line-height: 0;\n  width: 60px;\n  height: 60px;\n  cursor: pointer;\n  color: inherit;\n`;\n","import React from \"react\";\nimport { styled, Icon } from \"@patternplate/components\";\n\nimport ToggleButton from \"./common/toggle-button\";\n\nexport default Opacity;\n\nfunction Opacity(props) {\n  return (\n    <StyledToggleButton enabled={props.enabled} shortcut={props.shortcut}>\n      <StyledIcon symbol=\"checkers-inverted\" /> {props.shortcut.toString()}\n    </StyledToggleButton>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.background};\n`;\n\nconst StyledToggleButton = styled(ToggleButton)`\n  font-size: 0;\n  line-height: 0;\n`;\n","import React from \"react\";\nimport { styled, Link, Icon } from \"@patternplate/components\";\n\nexport default SearchButton;\n\nfunction SearchButton(props) {\n  return (\n    <StyledLink\n      debug\n      title={`Enable search ${props.shortcut.toString()}`}\n      query={{ \"search-enabled\": !props.enabled }}\n    >\n      <StyledIcon base={props.base} symbol=\"search\" />\n      Search\n    </StyledLink>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.color};\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: 0;\n`;\n","import React from \"react\";\nimport { styled, Link, Icon } from \"@patternplate/components\";\n\nexport default Fullscreen;\n\nfunction Fullscreen(props) {\n  return (\n    <StyledLink\n      external\n      title={`Open pattern demo for \"${props.id}\" in a new tab`}\n      href={props.href}\n    >\n      <StyledIcon symbol=\"fullscreen\" />\n    </StyledLink>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.background};\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: 0;\n  line-height: 0;\n`;\n","import { connect } from \"react-redux\";\nimport selectItem from \"../selectors/item\";\n\nexport default connect(withActiveForPattern);\n\nfunction withActiveForPattern(state) {\n  const item = selectItem(state);\n  return {\n    active: item ? item.contentType === \"pattern\" : false\n  };\n}\n","import { connect } from \"react-redux\";\nimport selectItem from \"../selectors/item\";\n\nexport default connect(withId);\n\nfunction withId(state) {\n  const item = selectItem(state);\n  return {\n    id: item ? item.id : null\n  };\n}\n","import { connect } from \"react-redux\";\n\nexport default connect(withToggleStates);\n\nfunction withToggleStates(state) {\n  return {\n    dependenciesEnabled: state.dependenciesEnabled,\n    dependentsEnabled: state.dependentsEnabled,\n    manifestEnabled: state.manifestEnabled\n  };\n}\n","import assert from \"assert\";\nimport { connect } from \"react-redux\";\nimport { values } from \"lodash\";\nimport shortcuts from \"../shortcuts\";\n\nconst s = values(shortcuts());\n\nexport default function withToggle(action) {\n  const shortcut = s.find(i => i.key === action.key);\n\n  assert(\n    shortcut,\n    `${action} passed to withToggle has no matching shortcut found for ${action.key}`\n  );\n\n  return Component => {\n    const mapProps = state => {\n      const enabled = state[action.property];\n      return { enabled, shortcut };\n    };\n    return connect(mapProps)(Component);\n  };\n}\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport tag from \"tag-hoc\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { createSelector } from \"reselect\";\nimport {\n  Link,\n  Icon,\n  styled,\n  injection,\n  Text,\n  ThemeProvider,\n  themes,\n  css\n} from \"@patternplate/components\";\n\nimport * as actions from \"../actions\";\nimport * as demo from \"../selectors/demo\";\n\nimport Logo from \"./logo\";\nimport Favicon from \"./favicon\";\nimport Indicator from \"./indicator\";\nimport ConnectedLink from \"./link\";\nimport Message from \"./message\";\nimport Navigation, { NavigationHeader, NavigationToolbar } from \"./navigation\";\nimport ToggleNavigation from \"./toggle-navigation\";\nimport ToggleSearch from \"./toggle-search\";\nimport Search from \"./search\";\n\nconst selectThemes = createSelector(state => state.config.ui, ui => themes(ui));\n\nconst selectLines = createSelector(\n  state => state.messages,\n  demo.selectSrc,\n  (messages, src) => (messages[src] || \"\").split(\"\\n\").filter(Boolean)\n);\n\nconst selectMessage = createSelector(selectLines, lines =>\n  lines\n    .slice(0, 2)\n    .map(l => l.trim())\n    .join(\"\\n\")\n);\n\nconst selectHasMessage = createSelector(\n  selectMessage,\n  message => typeof message === \"string\" && message !== \"\"\n);\n\nfunction mapProps(state) {\n  const q = state.routing.locationBeforeTransitions.query;\n\n  return {\n    base: state.base,\n    description: state.schema.description,\n    lightbox: state.lightbox,\n    location: state.routing.locationBeforeTransitions,\n    networkEnabled: state.networkEnabled,\n    logo: state.config.ui.renderedLogo,\n    navigationEnabled: state.navigationEnabled,\n    searchEnabled: state.searchEnabled,\n    theme: state.theme,\n    themes: selectThemes(state),\n    title: state.config.title || state.schema.name,\n    hasMessage: selectHasMessage(state),\n    screenshot: q.screenshot === \"true\",\n    jsWarningEnabled: q[\"js-warning-enabled\"] !== \"false\" && q[\"js-warning-enabled\"] !== false,\n    browserWarningEnabled: q[\"browser-warning-enabled\"] !== \"false\" && q[\"browser-warning-enabled\"] !== false,\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onLoad: () => actions.listen({ url: \"api\" }),\n      onResize: actions.windowResize\n    },\n    dispatch\n  );\n}\n\nconst injections = [\n  {\n    target: Link,\n    source: ConnectedLink\n  }\n];\n\nclass Application extends React.Component {\n  componentDidMount() {\n    document.body.style.overflow = this.props.screenshot ? \"hidden\" : \"auto\";\n  }\n\n  componentDidUpdate() {\n    document.body.style.overflow = this.props.screenshot ? \"hidden\" : \"auto\";\n  }\n\n  render() {\n    const { props } = this;\n    return (\n      <injection.InjectionProvider injections={injections}>\n        <ThemeProvider theme={props.themes[props.theme]}>\n          <StyledApplication screenshot={props.screenshot}>\n            <Helmet meta={meta(props)} title={props.title} />\n            <Favicon />\n            <ThemeProvider theme={props.themes.dark}>\n              <React.Fragment>\n                <NavigationControl\n                  data-toggle-name=\"navigation\"\n                  data-trigger-name=\"navigation\"\n                  data-toggle-enabled={props.navigationEnabled}\n                  enabled={props.navigationEnabled}\n                >\n                  <ToggleNavigation />\n                </NavigationControl>\n                <StyledNavigationBox\n                  data-toggle-name=\"navigation\"\n                  data-toggle-enabled={props.visible}\n                  enabled={props.navigationEnabled}\n                  >\n                  <Navigation>\n                    <NavigationHeader>\n                      <Logo />\n                    </NavigationHeader>\n                    <NavigationToolbar>\n                      <div />\n                      <ToggleSearch />\n                      <Indicator />\n                    </NavigationToolbar>\n                  </Navigation>\n                </StyledNavigationBox>\n              </React.Fragment>\n            </ThemeProvider>\n            <StyledContentContainer>\n              <StyledContent>\n                {props.browserWarningEnabled &&\n                  <StyledBrowserWarning\n                    navigationEnabled={props.navigationEnabled}\n                    data-browser-warning\n                  >\n                    <StyledBrowserContainer>\n                      <StyledBrowserContent>\n                        <StyledWarningLabel>\n                          Nice browser. Is it antique?\n                        </StyledWarningLabel>\n                        <StyledBrowserText>\n                          No, seriously - your browser is so old that some\n                          features of patternplate don't work as expected.\n                        </StyledBrowserText>\n                        <StyledBrowserText>\n                          Don't worry - you can either continue with a restricted\n                          version or install an up-to-date browser.\n                        </StyledBrowserText>\n                      </StyledBrowserContent>\n                      <StyledBrowserContainerClose\n                        title={`Close browser warning`}\n                        query={{ \"browser-warning-enabled\": false }}\n                      >\n                        <Icon symbol=\"close\" />\n                      </StyledBrowserContainerClose>\n                    </StyledBrowserContainer>\n                  </StyledBrowserWarning>\n                }\n                {props.jsWarningEnabled &&\n                  <StyledBrowserWarning\n                    navigationEnabled={props.navigationEnabled}\n                    data-js-warning\n                  >\n                    <StyledBrowserContainer>\n                      <StyledBrowserContent>\n                        <StyledWarningLabel>We messed up.</StyledWarningLabel>\n                        <StyledBrowserText>\n                          Sorry, but your user experience might be affected.\n                        </StyledBrowserText>\n                        <Text>- Try reloading the page</Text>\n                        <Text>\n                          - Report the problem at\n                          github.com/patternplate/patternplate\n                        </Text>\n                      </StyledBrowserContent>\n                      <StyledBrowserContainerClose\n                        title={`Close browser warning`}\n                        query={{ \"js-warning-enabled\": false }}\n                      >\n                        <Icon symbol=\"close\" />\n                      </StyledBrowserContainerClose>\n                    </StyledBrowserContainer>\n                  </StyledBrowserWarning>\n                }\n                {props.hasMessage && (\n                  <StyledMessageBox>\n                    <Message />\n                  </StyledMessageBox>\n                )}\n                {props.children}\n                {props.searchEnabled && (\n                  <ThemeProvider theme={props.themes.dark}>\n                    <StyledSearchBox\n                      navigationEnabled={props.navigationEnabled}\n                      screenshot={props.screenshot}\n                    >\n                      <StyledSearchFrame>\n                        <Search />\n                      </StyledSearchFrame>\n                    </StyledSearchBox>\n                  </ThemeProvider>\n                )}\n              </StyledContent>\n            </StyledContentContainer>\n          </StyledApplication>\n        </ThemeProvider>\n      </injection.InjectionProvider>\n    );\n  }\n}\n\nexport default connect(mapProps, mapDispatch)(Application);\n\nconst WIDTH = 300;\nconst NAVIGATION_WIDTH = props => (props.enabled ? WIDTH : 0);\nconst TOOLBAR_HEIGHT = 60;\n\nconst StyledWarningLabel = styled(Text)`\n  font-weight: bold;\n  margin-bottom: 1.3em;\n`;\n\nconst StyledBrowserWarning = styled.div`\n  display: none; /* overridden by separate js if needed */\n  box-sizing: border-box;\n  position: absolute;\n  position: sticky;\n  top: 0;\n  z-index: 4;\n  right: 0;\n  left: 0;\n  width: 100%;\n  padding: 15px 20px;\n  padding-left: ${props => (props.navigationEnabled ? 20 : 60)}px;\n  background: ${props => props.theme.colors.warning};\n`;\n\nconst StyledBrowserContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 1240px;\n  margin: 0 auto;\n  justify-content: space-between;\n`;\n\nconst StyledBrowserContent = styled.div``;\n\nconst StyledBrowserText = styled(Text)`\n  margin-bottom: 1.3em;\n`;\n\nconst StyledBrowserContainerClose = styled(Link)`\n  flex-shrink: 0;\n  margin-left: 15px;\n  &:link,\n  &:visited,\n  &:active {\n    color: ${props => props.theme.colors.color};\n  }\n`;\n\nconst StyledApplication = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background: ${props => props.theme.colors.background};\n\n  ${props =>\n    !props.screenshot\n      ? \"\"\n      : css`\n          height: calc(100vh - 100px);\n          width: calc(100vw - 100px);\n          margin: 50px;\n          border-radius: 10px;\n          box-shadow: 0 0 30px rgba(0, 0, 0, 0.15);\n          overflow: hidden;\n        `};\n`;\n\nconst StyledNavigationBox = styled(tag([\"enabled\"])(\"div\"))`\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  width: ${NAVIGATION_WIDTH}px;\n  flex: 0 0 ${NAVIGATION_WIDTH}px;\n  overflow: hidden;\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n`;\n\nconst StyledMessageBox = styled.div`\n  position: absolute;\n  box-sizing: border-box;\n  z-index: 3;\n  padding: 15px;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst StyledContent = styled.div`\n  flex: 1 1 100%;\n  width: 100%;\n`;\n\nconst StyledContentContainer = styled.div`\n  flex: 1 1 calc(100% - ${NAVIGATION_WIDTH}px);\n  width: calc(100% - ${NAVIGATION_WIDTH}px);\n  flex-direction: column;\n  overflow: auto;\n  position: relative;\n`;\n\nconst WITH_SCREENSHOT_OFFSET = factor => props => {\n  if (props.screenshot) {\n    return factor * 50;\n  }\n  return 0;\n};\n\nconst WITH_NAVIGATION_OFFSET = factor => props => {\n  if (props.navigationEnabled) {\n    return factor * 300;\n  }\n  return 0;\n};\n\nconst SUM = (...args) => props => args.reduce((acc, fn) => acc + fn(props), 0);\n\nconst StyledSearchBox = styled.div`\n  position: fixed;\n  top: 12.5vh;\n  bottom: 10vh;\n  right: ${WITH_SCREENSHOT_OFFSET(1)}px;\n  left: ${SUM(WITH_NAVIGATION_OFFSET(1), WITH_SCREENSHOT_OFFSET(1))}px;\n  width: calc(\n    100% - ${SUM(WITH_NAVIGATION_OFFSET(1), WITH_SCREENSHOT_OFFSET(2))}px\n  );\n  pointer-events: none;\n`;\n\nconst StyledSearchFrame = styled.div`\n  width: 90%;\n  min-width: 320px;\n  max-width: 750px;\n  max-height: 100%;\n  margin: 0 auto;\n  overflow: hidden;\n`;\n\nconst StyledFloatingBox = styled.div`\n  position: absolute;\n  pointer-events: none;\n  z-index: 2;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 10px 15px;\n  height: 300px;\n  display: flex;\n`;\n\nconst StyledInfoPane = styled.div`\n  flex: 0 0 auto;\n  box-sizing: border-box;\n  pointer-events: all;\n`;\n\nconst StyledPane = styled.div`\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: all;\n`;\n\nconst NavigationControl = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 5;\n  top: 0;\n  left: ${props => (props.enabled ? 300 : 0)}px;\n  transform: translate(-${props => (props.enabled ? 100 : 0)}%);\n  color: ${props =>\n    props.enabled ? props.theme.colors.color : props.theme.colors.background};\n  width: 60px;\n  height: 60px;\n  background: ${props =>\n    props.enabled ? props.theme.colors.backgroundSecondary : \"#fff\"};\n\n  &[data-toggle-enabled=\"true\"] {\n    left: 300;\n    transform: translate(-100%);\n    color: ${props => props.theme.colors.color};\n    background: ${props => props.theme.colors.backgroundSecondary};\n  }\n\n  &[data-toggle-enabled=\"false\"] {\n    left: 0;\n    transform: translate(0);\n    color: ${props => props.theme.colors.background};\n    background: #fff;\n  }\n\n  @media screen and (min-width: 720px) {\n    background: transparent;\n    &::before {\n      display: none;\n    }\n  }\n`;\n\nfunction meta(props) {\n  return [\n    { name: \"description\", content: props.description },\n    { name: \"viewport\", content: \"width=device-width, initial-scale=1\" }\n  ];\n}\n","import { themes } from \"@patternplate/components\";\nimport { connect } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { bindActionCreators } from \"redux\";\n\nimport * as actions from \"../actions\";\n\nimport Documentation from \"../components/documentation\";\nimport selectItem from \"../selectors/item\";\nimport {flat as selectPool} from \"../selectors/pool\";\n\nexport default connect(mapState, mapDispatch)(Documentation);\n\nconst selectNotFound = createSelector(\n  state => state.routing.locationBeforeTransitions.pathname,\n  url => `\n# Documentation not found\n\n> Pretty sure these aren't the hypertext documents you are looking for.\n\nWe looked everywhere and could not find a single thing at \\`${url}\\`.\n\nYou might want to navigate back to [Home](/) or use the [Search](?search-enabled=true).\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`\n);\n\nconst selectNoDocs = () => `\n# :construction: Add documentation\n\n> Undocumented software could not exist just as well.\n>\n> – The Voice of Common Sense\n\nCurrently there is no readme data at \\`./patterns/readme.md\\`, so we left this\nfriendly reminder here to change that soon.\n\nYou could start right away:\n\n\\`\\`\\`sh\necho \"# Docs\\\\n This patternplate contains ...\" > patterns/readme.md\n\\`\\`\\`\n\nSome ideas on what to write into your pattern readme\n\n*  Why this Living Styleguide interface exists, e.g. what problems it should solve\n*  What the components in are intended for, e.g. a brand, website or product\n*  The component hierarchy you use, e.g. Atomic Design\n*  Naming conventions\n*  Rules for dependencies\n*  Browser matrix\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate).\n`;\n\nconst selectDocItem = createSelector(\n  selectItem,\n  selectPool,\n  state => state.id,\n  (item, pool, id) => {\n    if (id === \"/\") {\n      const first = pool.find(i => i.contentType === \"doc\");\n      if (first) {\n        return first;\n      }\n    }\n    return item;\n  }\n);\n\nconst selectDoc = createSelector(\n  selectDocItem,\n  selectNoDocs,\n  selectNotFound,\n  (item, noDocs, notFound) => {\n    if (item && item.contents) {\n      return item.contents;\n    }\n\n    if (item && !item.contents) {\n      return noDocs;\n    }\n\n    return notFound;\n  }\n);\n\nconst selectDisplayName = createSelector(\n  selectDocItem,\n  item => {\n    if (!item) {\n      return 'patternplate';\n    }\n    return item.manifest.displayName;\n  }\n);\n\nconst selectType = createSelector(selectItem, match => {\n  if (match && match.contents) {\n    return \"doc\";\n  }\n  if (match && !match.contents) {\n    return \"fallback\";\n  }\n  return \"not-found\";\n});\n\nconst selectThemes = createSelector(\n  state => state.config.color,\n  color => themes(color)\n);\n\nfunction mapState(state) {\n  return {\n    displayName: selectDisplayName(state),\n    doc: selectDoc(state),\n    themes: selectThemes(state),\n    type: selectType(state),\n    isStatic: state.isStatic\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      requestScroll: actions.scrollTo\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\n\nimport Favicon from \"../components/favicon\";\n\nexport default connect(mapState)(Favicon);\n\nfunction mapState(state) {\n  return {\n    error: state.demo.error,\n    source: state.config.ui.favicon\n  };\n}\n","import { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport Indicator from \"../components/indicator\";\n\nexport default connect(mapProps, mapDispatch)(Indicator);\n\nfunction mapProps(state) {\n  return {\n    status: selectStatus(state),\n    shortcut: state.shortcuts.reload\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onClick: actions.reload\n    },\n    dispatch\n  );\n}\n\nfunction selectStatus(state) {\n  if (state.demo.error) {\n    return \"error\";\n  }\n  return state.connection;\n}\n","import url from \"url\";\nimport queryString from \"querystring\";\nimport { Link } from \"@patternplate/components\";\nimport { pickBy } from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { scrollTo } from \"../actions\";\n\nexport default connect(mapState, mapDispatch)(Link.RawLink);\n\nfunction mapState(state, own) {\n  const location = state.routing.locationBeforeTransitions;\n  return Object.assign({}, own,\n    {href: getHref(own, { base: state.base, location })}\n  );\n}\n\nfunction mapDispatch(dispatch, ownProps) {\n  return bindActionCreators(\n    {\n      onClick(e) {\n        if (ownProps.external) {\n          return { type: null };\n        }\n        e.preventDefault();\n        const parsed = url.parse(e.currentTarget.href);\n\n        if (parsed.hash) {\n          scrollTo(parsed.hash.slice(1));\n        }\n\n        return push([parsed.path, parsed.hash].join(\"\"));\n      }\n    },\n    dispatch\n  );\n}\n\nfunction getHref(props, context) {\n  if (props.external === true || !context.location) {\n    return props.href;\n  }\n\n  const parsed = props.href\n    ? url.parse(props.href)\n    : {\n        pathname: context.location.pathname,\n        query: queryString.stringify(context.location.query)\n      };\n\n  parsed.query = queryString.parse(parsed.query);\n\n  const query = props.query === null\n    ? {}\n    : pickBy(\n      Object.assign(\n        {},\n        context.location.query,\n        parsed.query,\n        props.query || context.location.query\n      ),\n      (value, key) => {\n        // TODO: deduce this for all keys from reduce config\n        // special case \"navigation-enabled\", invert logic\n        if (key === \"navigation-enabled\") {\n          return value !== true && value !== \"true\";\n        }\n\n        // if the key is not in the current query, add it\n        if (!context.location.query.hasOwnProperty(key)) {\n          return true;\n        }\n        // omit \"falsy\" values to keep url shorter\n        return value !== \"false\" && value !== \"0\" && !!(value);\n      }\n    );\n\n  const pathname =\n    typeof parsed.pathname === \"string\"\n      ? prefix(context.base, parsed.pathname)\n      : context.location.pathname;\n\n  return url.format({\n    pathname,\n    query,\n    hash: props.hash || (parsed.hash || \"#\").slice(1)\n  });\n}\n\nfunction prefix(base, pathname) {\n  const b = norm(base);\n  const p = norm(pathname);\n\n  if (p === '') {\n    return `/${b}`;\n  }\n\n  if (p.startsWith(b)) {\n    return `/${p}`;\n  }\n\n  return `/${[norm(base), norm(pathname)].join(\"/\")}`;\n}\n\nfunction norm(p) {\n  return p.split(\"/\").filter(Boolean).join(\"/\");\n}\n","import { connect } from \"react-redux\";\n\nimport { Logo } from \"@patternplate/components\";\n\nexport default connect(mapState)(Logo);\n\nfunction mapState(state) {\n  return {\n    source: state.config.ui.renderedLogo\n  };\n}\n","import { createSelector } from \"reselect\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Markdown, themes } from \"@patternplate/components\";\n\nimport { flat as selectPool } from \"../selectors/pool\";\nimport { scrollTo } from \"../actions\";\n\nconst selectWidgetSrc = createSelector(\n  state => state.staticBase,\n  (staticBase, manifest) => `${staticBase}/widgets.js`\n);\n\nconst selectThemes = createSelector(\n  state => state.config.ui,\n  ui => themes(ui)\n);\n\n\nfunction mapProps(state) {\n  const location = state.routing.locationBeforeTransitions;\n  return {\n    base: state.base,\n    hash: location.hash,\n    pathname: location.pathname,\n    query: location.query,\n    widgetSrc: selectWidgetSrc(state),\n    widgetState: {\n      themes: selectThemes(state),\n      base: state.base,\n      pool: selectPool(state)\n    }\n  };\n}\n\nexport function mapDispatch(dispatch) {\n  return bindActionCreators({ scrollTo }, dispatch);\n}\n\nexport default connect(mapProps, mapDispatch)(Markdown);\n","import { connect } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { skippable } from \"../behaviours\";\n\nimport Message from \"../components/message\";\nimport * as demo from \"../selectors/demo\";\n\nexport default connect(mapState)(skippable(Message));\n\nconst selectLines = createSelector(\n  state => state.messages,\n  demo.selectSrc,\n  (messages, src) => (messages[src] || \"\").split(\"\\n\").filter(Boolean)\n);\n\nconst selectMessage = createSelector(selectLines, lines =>\n  lines\n    .slice(0, 2)\n    .map(l => l.trim())\n    .join(\"\\n\")\n);\n\nconst selectDetails = createSelector(selectLines, lines => {\n  if (lines.length <= 2) {\n    return \"\";\n  }\n  return lines.join(\"\\n\");\n});\n\nconst selectActive = createSelector(\n  selectMessage,\n  message => typeof message === \"string\" && message !== \"\"\n);\n\nfunction mapState(state) {\n  return {\n    active: selectActive(state),\n    message: selectMessage(state),\n    details: selectDetails(state),\n    summary: \"Details\"\n  };\n}\n","import url from \"url\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { MainNavigation } from \"@patternplate/components\";\nimport { patchLocation } from \"../actions\";\n\nimport selectNavigation from \"../selectors/navigation\";\nimport selectDocs from \"../selectors/docs\";\n\nexport default connect(mapProps, mapDispatch)(MainNavigation);\nexport const NavigationHeader = MainNavigation.NavigationHeader;\nexport const NavigationToolbar = MainNavigation.NavigationToolbar;\n\nfunction mapProps(state) {\n  return {\n    active: state.id,\n    docs: selectDocs(state),\n    componentsEnabled: state.componentsEnabled,\n    navigation: selectNavigation(state),\n    query: state.routing.locationBeforeTransitions.query,\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onItemClick(e) {\n        e.preventDefault();\n\n        if (!e.currentTarget.href) {\n          return { type: \"noop\" };\n        }\n\n        const parsed = url.parse(e.currentTarget.href);\n        return push(`${parsed.pathname}?${parsed.query}`);\n      },\n      onLabelClick(query) {\n        return patchLocation({query});\n      }\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\nimport Documentation from \"../components/documentation\";\n\nexport default connect(state => {\n  return {\n    base: state.base,\n    id: state.id,\n    docs: {\n      contents: selectNotFound(state)\n    }\n  };\n})(Documentation);\n\nfunction selectNotFound(state) {\n  const url = state.routing.locationBeforeTransitions.pathname;\n  return `\n# Nothing found\n\n> Pretty sure these aren't the hypertext documents you are looking for.\n\nWe looked everywhere and could not find a single thing at \\`${url}\\`.\n\nYou might want to navigate back to [Home](/) or use the search.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`;\n}\n","import { entries } from \"lodash\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nexport default connect(mapProps)(PassThrough);\n\nfunction PassThrough(props) {\n  return (\n    <div>\n      {props.items.map(([name, value]) => (\n        <input type=\"hidden\" key={name} name={name} value={value} />\n      ))}\n    </div>\n  );\n}\n\nfunction mapProps(state, own) {\n  const { query } = state.routing.locationBeforeTransitions;\n  const q = { ...query, ...(own.query || {}) };\n  const items = entries(q).filter(([, value]) => value !== null);\n  return { items };\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { createSelector } from \"reselect\";\nimport * as demo from \"../selectors/demo\";\nimport selectItem, * as items from \"../selectors/item\";\nimport Pattern from \"../components/pattern\";\n\nimport * as actions from \"../actions\";\n\nclass PatternContainer extends React.Component {\n  render() {\n    const { props } = this;\n    return (\n      <Pattern\n        contents={props.contents}\n        contentType={props.contentType}\n        docs={props.docs}\n        error={props.error}\n        displayName={props.displayName}\n        loading={props.loading}\n        opacity={props.opacity}\n        src={props.src}\n        type={props.type}\n        updated={props.updated}\n        navigationEnabled={props.navigationEnabled}\n        screenshot={props.screenshot}\n      />\n    );\n  }\n}\n\nexport default connect(mapState, mapDispatch)(PatternContainer);\n\nconst DEFAULT_PATTERN_CONTENTS = `\n# :construction: Add documentation\n\n> Undocumented software could not exist just as well.\n>\n> – The Voice of Common Sense\n\nCurrently there is no readme data for this pattern folder.\nWe left this friendly reminder for you to change that soon.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate).\n`;\n\nconst NOT_FOUND = `\n# Pattern not found\n\n> Pretty sure this is not the component you are looking for.\n\nWe looked everywhere and could not find a single thing.\n\nYou might want to navigate back to [Home](/) or use the search.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`;\n\nconst selectDocs = createSelector(\n  selectItem,\n  items.selectType,\n  items.selectContents,\n  (pattern, type, contents) => {\n    if (pattern && pattern.type === 'folder') {\n      return contents;\n    }\n    if (type === \"not-found\") {\n      return NOT_FOUND;\n    }\n    return contents || DEFAULT_PATTERN_CONTENTS;\n  }\n);\n\nfunction mapState(state) {\n  return {\n    contents: state.demo.contents,\n    displayName: items.selectName(state),\n    docs: selectDocs(state),\n    error: state.demo.error,\n    loading: state.demo.fetching,\n    opacity: state.opacity,\n    src: demo.selectSrc(state),\n    type: items.selectType(state),\n    contentType: items.selectContentType(state),\n    updated: state.demo.updated,\n    navigationEnabled: state.navigationEnabled,\n    screenshot: state.routing.locationBeforeTransitions.query.screenshot === \"true\"\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onChange: actions.loadPatternDemo\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport Search from \"../components/search\";\nimport * as actions from \"../actions\";\nimport * as found from \"../selectors/found\";\n\nfunction mapProps(state) {\n  return {\n    activeItem: found.selectActiveItem(state), // Used for highlight in list\n    base: state.base,\n    components: found.selectPatterns(state), // List of components matching state.components\n    docs: found.selectDocs(state), // List of docs matching state.search\n    enabled: state.searchEnabled, // If search is to be displayed\n    legend: found.selectLegend(state),\n    shortcuts: state.shortcuts, // Reference to global shortcuts for help texts\n    suggestion: found.selectSuggestion(state), // The backdrop search suggestion string\n    value: state.searchValue // The synchronous search input value\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onChange: e =>\n        actions.search({\n          persist: false,\n          perform: false,\n          value: e.target.value\n        }),\n      onClear: () =>\n        actions.search({ persist: true, perform: true, value: \"\" }),\n      onClick: () => actions.toggleSearch({ focus: true }),\n      onClickOutside: () => actions.toggleSearch({ focus: false }),\n      onClose: () => actions.toggleSearch({ focus: false }),\n      onComplete: value =>\n        actions.search({ persist: true, perform: true, value }),\n      onFocus: () => actions.toggleSearch({ focus: true }),\n      onMount: () => actions.toggleSearch({ sync: true }),\n      onNavigate: item => {\n        const pathname = `${item.contentType}/${item.id}`;\n        return actions.patchLocation({ pathname, query: { \"search-enabled\": false } })\n      },\n      onSubmit: e => {\n        e.preventDefault();\n        return actions.search({\n          persist: true,\n          perform: true,\n          value: e.target.search.value\n        });\n      },\n      onUp: () => actions.searchPreview(\"up\"),\n      onDown: () => actions.searchPreview(\"down\"),\n      onActivate: index => actions.searchPreview(index),\n      onStop: e =>\n        actions.search({ persist: true, perform: true, value: e.target.value })\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapProps, mapDispatch)(Search);\n","import * as actions from \"../actions\";\nimport ToggleNavigation from \"../components/toggle-navigation\";\nimport withToggle from \"../connectors/with-toggle\";\n\nexport default withToggle(actions.toggleNavigation)(ToggleNavigation);\n","import * as actions from \"../actions\";\nimport Opacity from \"../components/toggle-opacity\";\nimport withToggle from \"../connectors/with-toggle\";\nimport withActiveForPattern from \"../connectors/with-active-for-pattern\";\nimport { skippable } from \"../behaviours\";\n\nconst OpacityToggle = withToggle(actions.toggleOpacity)(Opacity);\nexport default withActiveForPattern(skippable(OpacityToggle));\n","import * as actions from \"../actions\";\nimport SearchButton from \"../components/toggle-search\";\nimport withToggle from \"../connectors/with-toggle\";\n\nexport default withToggle(actions.toggleSearch)(SearchButton);\n","import querystring from \"querystring\";\nimport { connect } from \"react-redux\";\nimport Fullscreen from \"../components/trigger-fullscreen\";\nimport withActiveForPattern from \"../connectors/with-active-for-pattern\";\nimport withId from \"../connectors/with-id\";\nimport * as demo from \"../selectors/demo\";\nimport { skippable } from \"../behaviours\";\n\nconst SkippableFullscreen = withActiveForPattern(skippable(Fullscreen));\n\nconst mapProps = state => {\n  const q = querystring.stringify({\n    reload: state.isStatic ? null : true\n  });\n  return {\n    href: `${demo.selectSrc(state)}?${q}`\n  };\n};\n\nexport default connect(mapProps)(withId(SkippableFullscreen));\n","import { handleActions } from \"redux-actions\";\nimport markBlock from \"../actions/mark-block\";\n\nconst defaultValue = null;\n\nconst markBlockHandler = (state, { payload }) => {\n  const { active, id } = payload;\n\n  if (active) {\n    return id;\n  }\n\n  return defaultValue;\n};\n\nconst locationChangeHandler = () => {\n  return defaultValue;\n};\n\nexport default handleActions(\n  {\n    [markBlock]: markBlockHandler,\n    \"@@router/LOCATION_CHANGE\": locationChangeHandler\n  },\n  defaultValue\n);\n","import getIdByPathname from \"../utils/get-id-by-pathname\";\nimport { handleActions } from \"redux-actions\";\n\nfunction handler(_, { payload }) {\n  return payload.query[\"active-node\"];\n}\n\nexport default handleActions({\n  \"@@router/LOCATION_CHANGE\": handler\n});\n","import { handleAction } from \"redux-actions\";\nimport { getDepth } from \"./depth\";\n\nexport default (state) => {\n  return state;\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleCode, { defaultValue: false });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleComponentsEnabled, { defaultValue: false });\n","import {renderToString} from \"react-dom/server\";\nimport {merge} from \"lodash\";\nimport {svg} from \"@patternplate/components\";\n\nexport default (state, action) => {\n  let copy;\n\n  switch (action.type) {\n    case \"LOAD_SCHEMA_SUCCESS\": {\n      copy = merge({}, action.payload.config);\n      break;\n    }\n    default: {\n      copy = merge({}, state);\n    }\n  }\n\n  if (!copy.hasOwnProperty(\"ui\")) {\n    copy.ui = {};\n  }\n\n  const {ui} = copy;\n\n  ui.renderedLogo = ui.hasOwnProperty(\"logo\")\n    ? renderToString(svg.render(svg.sanitize(svg.purge([svg.parse(ui.logo)]))[0]))\n    : \"\";\n\n  const favicon = ui.favicon || ui.logo;\n\n  ui.renderedFavicon = global.document && favicon\n    ? svg.png(favicon)\n    : Promise.resolve(\"\");\n\n  return copy;\n};\n","import handleDependentActions from \"../actions/handle-dependent-actions\";\n\nexport default handleDependentActions(\n  {\n    LISTEN_HEARTBEAT: (...args) => handle(...args),\n    FETCHING: (...args) => handle(...args),\n    ERROR_HEARTBEAT: () => \"offline\"\n  },\n  {\n    defaultValue: \"\",\n    dependencies: [\"fetching\"]\n  }\n);\n\nfunction handle(state = \"loading\", action, { fetching }) {\n  return fetching ? \"loading\" : \"loaded\";\n}\n","const DEFAULT = {\n  error: null,\n  fetching: false,\n  id: null,\n  contents: null,\n  updated: null\n};\n\nexport default function demo(state = DEFAULT, action) {\n  switch (action.type) {\n    case \"LOAD_PATTERN_DEMO_START\":\n      return {\n        error: null,\n        fetching: true,\n        id: action.payload.id,\n        contents: state.contents,\n        updated: state.updated\n      };\n    case \"LOAD_PATTERN_DEMO_SUCCESS\": {\n      return {\n        error: null,\n        fetching: false,\n        id: action.payload.id,\n        contents: action.payload.contents,\n        updated: !action.payload.force && state.contents === action.payload.contents && state.id === action.payload.id\n          ? state.updated\n          : Date.now()\n      };\n    }\n    case \"LOAD_PATTERN_DEMO_ERROR\":\n      return {\n        error: true,\n        fetching: false,\n        id: action.payload.id,\n        contents: null,\n        updated: Date.now()\n      };\n    default:\n      return state;\n  }\n}\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleDependencies, { defaultValue: false });\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = false;\n\nfunction onLocationChange(_, action) {\n  return action.payload.query[\"dependents-enabled\"] === \"true\";\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onLocationChange\n  },\n  defaultValue\n);\n","import { handleAction } from \"redux-actions\";\n\nexport function getDepth(pathname) {\n  const fragments = pathname.split(\"/\").filter(Boolean);\n\n  const fragmentIndex = [\"pattern\", \"doc\"]\n    .map(known => fragments.indexOf(known))\n    .find(index => index !== -1);\n\n  const index = fragmentIndex === null ? fragments.length : fragmentIndex;\n  return fragments.slice(0, index).filter(Boolean).length;\n}\n\nexport default handleAction(\n  \"@@router/LOCATION_CHANGE\",\n  {\n    next(_, { payload: { pathname } }) {\n      return getDepth(pathname);\n    }\n  },\n  \".\"\n);\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleDoc, { defaultValue: false });\n","import { handlePromiseThunkAction } from \"../actions/promise-thunk-action\";\nimport { loadSchema } from \"../actions\";\n\nexport default handlePromiseThunkAction(\n  loadSchema,\n  {\n    start() {\n      return true;\n    },\n    success() {\n      return false;\n    },\n    error() {\n      return false;\n    }\n  },\n  {\n    defaultValue: false\n  }\n);\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleHide, { defaultValue: true });\n","import getIdByPathname from \"../utils/get-id-by-pathname\";\nimport handleDependentActions from \"../actions/handle-dependent-actions\";\n\nfunction handler(_, { payload }, { base }) {\n  return getIdByPathname(payload.pathname, base) || \"/\";\n}\n\nexport default handleDependentActions(\n  {\n    \"@@router/LOCATION_CHANGE\": handler\n  },\n  {\n    dependencies: [\"base\"]\n  }\n);\n","import activeBlock from \"./active-block\";\nimport activeNode from \"./active-node\";\nimport base from \"./base\";\nimport config from \"./config\";\nimport codeEnabled from \"./code-enabled\";\nimport connection from \"./connection\";\nimport depth from \"./depth\";\nimport demo from \"./demo\";\nimport dependenciesEnabled from \"./dependencies-enabled\";\nimport dependentsEnabled from \"./dependents-enabled\";\nimport docEnabled from \"./doc-enabled\";\nimport fetching from \"./fetching\";\nimport id from \"./id\";\nimport infoEnabled from \"./info-enabled\";\nimport isStatic from \"./is-static\";\nimport manifestEnabled from \"./manifest-enabled\";\nimport messages from \"./messages\";\nimport navigationEnabled from \"./navigation-enabled\";\nimport networkEnabled from \"./network-enabled\";\nimport opacity from \"./opacity\";\nimport componentsEnabled from \"./components-enabled\";\nimport search from \"./search\";\nimport searchEnabled from \"./search-enabled\";\nimport searchPreview from \"./search-preview\";\nimport searchValue from \"./search-value\";\nimport schema from \"./schema\";\nimport shortcuts from \"./shortcuts\";\nimport theme from \"./theme\";\nimport hideEnabled from \"./hide-enabled\";\nimport window from \"./window\";\n\nconst ident = state => state || {};\nconst getDependencies = (reducer = {}) => reducer.dependencies || [];\n\nexport default {\n  base,\n  config,\n  connection,\n  demo,\n  depth,\n  fetching,\n  hideEnabled,\n  id,\n  isStatic,\n  manifest: ident,\n  messages,\n  navigationEnabled,\n  opacity,\n  componentsEnabled,\n  schema,\n  search,\n  searchEnabled,\n  searchPreview,\n  searchValue,\n  shortcuts,\n  startBase: ident,\n  staticBase: ident,\n  theme,\n  window\n};\n\nexport const dependencies = {\n  connection: getDependencies(connection)\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleInfo, { defaultValue: false });\n","export default (state = false) => state;\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleManifest, { defaultValue: false });\n","import { omit, merge } from \"lodash\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case \"LOAD_PATTERN_DEMO_SUCCESS\":\n      if (action.payload.id in state) {\n        return omit(state, action.payload.id);\n      }\n      return state;\n    case \"LOAD_PATTERN_DEMO_ERROR\":\n      return merge({}, state, { [action.payload.id]: action.payload.error });\n    default:\n      return state;\n  }\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleNavigation, { defaultValue: true });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleNetwork, { defaultValue: null });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleOpacity, { defaultValue: false });\n","import { loadSchema } from \"../actions\";\nimport { handlePromiseThunkAction } from \"../actions/promise-thunk-action\";\n\nexport default handlePromiseThunkAction(loadSchema, {\n  success(state, action) {\n    return action.payload;\n  }\n});\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleSearch, { defaultValue: false });\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = 0;\n\nfunction onPreviewLocationChange(_, action) {\n  const index = Number(action.payload.query[\"search-preview\"]);\n  return isNaN(index) ? 0 : Math.max(0, index);\n}\n\nfunction onPerformSeach() {\n  return 0;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onPreviewLocationChange,\n    PERFORM_SEARCH: onPerformSeach\n  },\n  defaultValue\n);\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"\";\n\nfunction onSetSearchLocationChange(_, action) {\n  return action.payload.query.search;\n}\n\nfunction onSetSearch(_, action) {\n  return action.payload;\n}\n\nfunction onPerformSearch(_, action) {\n  return action.payload;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onSetSearchLocationChange,\n    SET_SEARCH: onSetSearch,\n    PERFORM_SEARCH: onPerformSearch\n  },\n  defaultValue\n);\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"\";\n\nfunction onSearchLocationChange(_, action) {\n  return action.payload.query.search;\n}\n\nfunction onPerformSeach(_, action) {\n  return action.payload;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onSearchLocationChange,\n    PERFORM_SEARCH: onPerformSeach\n  },\n  defaultValue\n);\n","export default state => state;\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"light\";\n\nconst locationChangeHandler = (_, { payload }) => {\n  return payload.query.theme || defaultValue;\n};\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": locationChangeHandler\n  },\n  defaultValue\n);\n","import assert from \"assert\";\nimport { handleActions } from \"redux-actions\";\n\nexport default (action, options = {}) => {\n  assert(\n    typeof action === \"function\",\n    `toggle needs an action to create a handler for, received ${action} of type ${typeof action}`\n  );\n\n  return handleActions(\n    {\n      \"@@router/LOCATION_CHANGE\": (_, { payload }) => {\n        if (!(action.key in payload.query)) {\n          return options.defaultValue;\n        }\n        return payload.query[action.key] === \"true\";\n      }\n    },\n    options.defaultValue\n  );\n};\n","import { isEqual } from \"lodash\";\nimport { handleActions } from \"redux-actions\";\nimport { windowResize } from \"../actions\";\n\nconst defaultValue = {\n  height: 0,\n  width: 0\n};\n\nexport default handleActions(\n  {\n    [windowResize]: onWindowResize\n  },\n  defaultValue\n);\n\nfunction onWindowResize(state, { payload }) {\n  const next = { width: payload.width, height: payload.height };\n  if (!isEqual(next, state)) {\n    return next;\n  }\n  return state;\n}\n","import React from \"react\";\nimport { Route, IndexRoute } from \"@marionebl/react-router\";\n\nimport Application from \"./containers/application\";\nimport Pattern from \"./containers/pattern\";\nimport Documentation from \"./containers/documentation\";\nimport NotFound from \"./containers/not-found\";\n\nexport default function(store) {\n  const state = store.getState();\n  return (\n    <Route path={state.base} component={Application}>\n      <IndexRoute component={Documentation} />\n      <Route path=\"pattern/*\" component={Pattern} />\n      <Route path=\"doc/*\" component={Documentation} />\n      <Route path=\"*\" component={NotFound} />\n    </Route>\n  );\n}\n","import { createSelector } from \"reselect\";\nimport selectItem from \"./item\";\n\nexport const selectSrc = createSelector(\n  selectItem,\n  state => state.base,\n  (item, base) => {\n    if (!item) {\n      return null;\n    }\n    if (item.contentType !== \"pattern\") {\n      return null;\n    }\n    return `${prefix(base)}/api/demo/${item.id}.html`;\n  }\n);\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createSearch } from \"@patternplate/search\";\nimport { merge } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport { flat as selectNavigation } from \"../selectors/navigation\";\nimport { enrich, flatten, sanitize } from \"./tree\";\n\nconst sd = createSelector(\n  state => state.schema.docs,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  () => () => [],\n  (tree, id, hide, location, base, search) => {\n    const context = { hide, id, prefix: \"doc\", location, base, search };\n    return flatten(sanitize(merge({}, tree), context)).filter(item => item.type !== \"folder\");\n  }\n);\n\nconst selectFlatPool = createSelector(\n  sd,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: () => []\n  }),\n  (docs, nav, context) => {\n    return docs\n      .map(d => enrich(d, context))\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nconst selectSubSearch = createSelector(\n  selectFlatPool,\n  flatPool => {\n    const search = createSearch(flatPool);\n    return term => {\n      const matches = search(term);\n      return matches.map(item => flatPool.find(p => p.id === item));\n    };\n  }\n);\n\nconst selectDocsTree = createSelector(\n  state => state.schema.docs,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  selectSubSearch,\n  (tree, id, hide, location, base, search) => {\n    const context = { hide, id, prefix: \"doc\", location, base, search };\n    return sanitize(merge({}, tree), context);\n  }\n);\n\nconst selectFirstItem = createSelector(\n  selectDocsTree,\n  (tree) => {\n    const list = flatten(tree);\n    return list ? list[0]: null;\n  }\n);\n\nconst selectQueries = createSelector(\n  selectDocsTree,\n  tree => flatten(tree)\n    .map(item => (item.manifest.options || {}).query)\n    .filter(Boolean)\n);\n\nconst selectQueried = createSelector(\n  selectDocsTree,\n  selectQueries,\n  (tree, queries) => {\n    const search = createSearch(flatten(tree));\n    return queries.reduce((acc, query) => {\n      return acc.concat(search(query).filter(r => acc.indexOf(r) === -1));\n    }, []);\n  }\n);\n\nconst selectDocs = createSelector(\n  selectDocsTree,\n  selectFirstItem,\n  selectQueried,\n  state => state.id,\n  (tree, first, queried, id) => {\n    tree.children = tree.children.filter(child => child.type === \"folder\" || queried.indexOf(child.id) === -1);\n\n    if (id === '/' && first) {\n      first.active = true;\n    }\n    return tree;\n  }\n);\n\nexport default selectDocs;\nexport const flat = createSelector(selectDocs, flatten);\n","import { createSearch, Query, Term } from \"@patternplate/search\";\nimport { flatten, uniq, uniqBy, sortBy } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport semver from \"semver\";\nimport {flat as selectPoolFlat} from \"./pool\";\n\nconst FLAGS = {\n  alpha: 0,\n  beta: 1,\n  rc: 2,\n  stable: 3,\n  deprecated: 4\n};\n\nconst FIELDS = [\n  /* {\n    type: \"field\",\n    key: \"depends\",\n    value: \"depends\",\n    description: \"patterns depending on id\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  }, */\n  {\n    type: \"field\",\n    key: \"flag\",\n    value: \"flag\",\n    description: \"being flagged as [value]\",\n    operators: [\"=\", \"!=\", \">\", \">=\", \"<\", \"<=\", \"^=\", \"~=\"]\n  },\n  {\n    type: \"field\",\n    key: \"is\",\n    value: \"is\",\n    description: \"being of type [value]\",\n    operators: [\"=\", \"!=\"]\n  },\n  {\n    type: \"field\",\n    key: \"has\",\n    value: \"has\",\n    description: \"having data of [value]\",\n    operators: [\"=\", \"!=\"]\n  },\n  /* {\n    type: \"field\",\n    key: \"provides\",\n    value: \"provides\",\n    description: \"patterns providing for id\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  }, */\n  {\n    type: \"field\",\n    key: \"tags\",\n    value: \"tags\",\n    description: \"having a tag of [value]\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  },\n  {\n    type: \"field\",\n    key: \"version\",\n    value: \"version\",\n    description: \"having version of [value]\",\n    operators: [\"=\", \"!=\", \">\", \">=\", \"<\", \"<=\", \"^=\", \"~=\"]\n  }\n];\n\nconst OPERATORS = [\n  {\n    type: \"op\",\n    key: \"=\",\n    description: \"exact match\"\n  },\n  {\n    type: \"op\",\n    key: \"!=\",\n    description: \"negated match\"\n  },\n  {\n    type: \"op\",\n    key: \">\",\n    description: \"greater than\"\n  },\n  {\n    type: \"op\",\n    key: \">=\",\n    description: \"greater than or equal\"\n  },\n  {\n    type: \"op\",\n    key: \"<\",\n    description: \"lesser than\"\n  },\n  {\n    type: \"op\",\n    key: \"<=\",\n    description: \"lesser than or equal\"\n  },\n  {\n    type: \"op\",\n    key: \"^=\",\n    description: \"starts with\"\n  },\n  {\n    type: \"op\",\n    key: \"~=\",\n    description: \"contains\"\n  }\n];\n\nconst selectSearch = createSelector(\n  selectPoolFlat,\n  createSearch\n)\n\nconst selectMatches = createSelector(\n  selectSearch,\n  state => state.search,\n  (search, queryString) => {\n    if (typeof queryString !== \"string\" || queryString.length < 3) {\n      return [];\n    }\n    return search(queryString);\n  }\n);\n\nconst selectParsedValue = createSelector(\n  state => state.searchValue,\n  search => Query.parse(search)\n);\n\nconst selectLastQuery = createSelector(selectParsedValue, parsed =>\n  last(parsed)\n);\n\nfunction last(query) {\n  switch (query.type) {\n    case \"string\":\n      return query.value;\n    case \"and\":\n    case \"or\":\n    default: {\n      const q = query || {};\n      const values = q.values || [];\n      const cand = values[values.length - 1];\n      return cand ? last(cand) : \"\";\n    }\n  }\n}\n\nconst selectFields = createSelector(selectLastQuery, query =>\n  FIELDS.filter(f => f.value.startsWith(query))\n);\n\nconst selectFieldHit = createSelector(\n  state => state.searchValue,\n  selectLastQuery,\n  (value, query) => {\n    if (query.length === 0) {\n      return null;\n    }\n\n    return FIELDS.find(f => query.startsWith(f.value));\n  }\n);\n\nconst selectParsedQuery = createSelector(selectLastQuery, query =>\n  Term.parse(query)\n);\n\nconst selectOps = createSelector(\n  selectParsedQuery,\n  selectFieldHit,\n  (parsed, hit) => {\n    if (!hit) {\n      return [];\n    }\n    return hit.operators\n      .map(o => OPERATORS.find(op => op.key === o))\n      .filter(o => !parsed.operators || o.key.includes(parsed.operators))\n      .map(o => {\n        o.value = `${hit.value}${o.key}`;\n        return o;\n      });\n  }\n);\n\nconst selectOpsHit = createSelector(\n  selectParsedQuery,\n  selectOps,\n  (query, ops) => {\n    return ops.find(i => {\n      if (query.negated) {\n        return i.key === `!${query.operators}`;\n      }\n      return i.key === query.operators;\n    });\n  }\n);\n\nexport const selectFound = createSelector(\n  selectPoolFlat,\n  selectMatches,\n  (pool, matches) => {\n    const sorted = uniqBy(\n      sortBy(matches.map(match => pool.find(p => p.id === match)), \"contentType\"),\n      \"id\"\n    );\n    return sorted.map((s, i) => {\n      s.index = i;\n      return s;\n    });\n  }\n);\n\nexport const selectPatterns = createSelector(selectFound, found =>\n  found.filter(f => f.contentType === \"pattern\")\n);\n\nconst selectPatternPool = createSelector(selectPoolFlat, pool =>\n  pool.filter(f => f.contentType === \"pattern\")\n);\n\nconst selectOptions = createSelector(\n  selectPatternPool,\n  selectParsedQuery,\n  selectFieldHit,\n  selectOpsHit,\n  (patterns, parsed, field, op) => {\n    if (!field || !op) {\n      return [];\n    }\n\n    switch (field.key) {\n      case \"has\":\n        return [\n          {\n            type: \"quality\",\n            key: \"docs\",\n            value: [field.key, op.key, \"docs\"].join(\"\"),\n            description: \"colocated markdown\"\n          },\n          /* {\n            type: \"quality\",\n            key: \"dependencies\",\n            value: [field.key, op.key, \"dependencies\"].join(\"\"),\n            description: \"patterns with dependencies\"\n          },\n          {\n            type: \"quality\",\n            key: \"dependents\",\n            value: [field.key, op.key, \"dependents\"].join(\"\"),\n            description: \"patterns with dependents\"\n          }, */\n          {\n            type: \"quality\",\n            key: \"flag\",\n            value: [field.key, op.key, \"flag\"].join(\"\"),\n            description: \"flag specified\"\n          },\n          {\n            type: \"quality\",\n            key: \"version\",\n            value: [field.key, op.key, \"version\"].join(\"\"),\n            description: \"version specified\"\n          },\n          {\n            type: \"quality\",\n            key: \"description\",\n            value: [field.key, op.key, \"description\"].join(\"\"),\n            description: \"description provided\"\n          },\n          {\n            type: \"quality\",\n            key: \"displayName\",\n            value: [field.key, op.key, \"displayName\"].join(\"\"),\n            description: \"display name provided\"\n          },\n          {\n            type: \"quality\",\n            key: \"tags\",\n            value: [field.key, op.key, \"tags\"].join(\"\"),\n            description: \"tag attached\"\n          }\n        ];\n      case \"depends\":\n      case \"provides\":\n        return patterns\n          .filter(item => item.id.startsWith(parsed.value || \"\"))\n          .map(item => {\n            return {\n              type: \"pattern\",\n              key: item.id,\n              value: [field.key, op.key, item.id].join(\"\"),\n              description: `${item.id}`\n            };\n          });\n      case \"tags\":\n        return uniq(flatten(patterns.map(item => item.manifest.tags)))\n          .filter(Boolean)\n          .map(tag => {\n            return {\n              type: \"tag\",\n              key: tag,\n              value: [field.key, op.key, tag].join(\"\"),\n              description: tag\n            };\n          });\n      case \"version\": {\n        const versions = uniqBy(\n          patterns\n            .filter(item =>\n              item.manifest.version.startsWith(parsed.value || \"\")\n            )\n            .map(item => item.manifest.version)\n        )\n          .filter(version => semver.valid(version))\n          .sort((a, b) => (semver.gt(a, b) ? 1 : -1));\n\n        return versions.map(v => {\n          return {\n            type: \"version\",\n            key: v,\n            value: [field.key, op.key, v].join(\"\"),\n            description: `${v}`\n          };\n        });\n      }\n      case \"flag\": {\n        const flags = uniqBy(\n          patterns\n            .filter(item => item.manifest.flag.startsWith(parsed.value || \"\"))\n            .map(item => item.manifest.flag)\n        )\n          .filter(flag => typeof flag === \"string\")\n          .sort((a, b) => {\n            const delta = (FLAGS[a] || 0) - (FLAGS[b] || 0);\n            return delta === 0 ? a.localeCompare(b) : delta;\n          });\n\n        return flags.map(f => {\n          return {\n            type: \"flag\",\n            key: f,\n            value: [field.key, op.key, f].join(\"\"),\n            description: `${f}`\n          };\n        });\n      }\n      case \"is\":\n        return [\n          {\n            type: \"is\",\n            key: \"pattern\",\n            value: [field.key, op.key, \"pattern\"].join(\"\"),\n            description: \"is a pattern\"\n          },\n          {\n            type: \"is\",\n            key: \"doc\",\n            value: [field.key, op.key, \"doc\"].join(\"\"),\n            description: \"is a doc\"\n          }\n        ];\n      default:\n        return [];\n    }\n  }\n);\n\nconst selectOptionsHit = createSelector(\n  selectParsedQuery,\n  selectOptions,\n  (query, ops) => ops.some(o => o.value === query.raw)\n);\n\nexport const selectLegend = createSelector(\n  selectParsedValue,\n  selectParsedQuery,\n  selectFields,\n  selectFieldHit,\n  selectOps,\n  selectOpsHit,\n  selectOptions,\n  selectOptionsHit,\n  (parsedValue, parsed, fields, fieldHit, ops, opsHit, options, optionsHit) => {\n    if (!fieldHit) {\n      return {\n        name: \"Fields\",\n        items: fields\n      };\n    }\n\n    if (!opsHit && !parsed.value) {\n      return {\n        name: \"Operators\",\n        items: ops\n      };\n    }\n\n    if (!optionsHit && fieldHit && opsHit) {\n      return {\n        name: fieldHit.key,\n        items: options\n      };\n    }\n\n    return {\n      name: \"\",\n      items: []\n    };\n  }\n);\n\nexport const selectDocs = createSelector(selectFound, found =>\n  found.filter(f => f.contentType === \"doc\")\n);\n\nexport const selectSuggestion = createSelector(\n  state => state.searchValue,\n  selectPoolFlat,\n  selectLegend,\n  (search, pool, legend) => {\n    if (typeof search !== \"string\" || search.length === 0) {\n      return \"\";\n    }\n\n    const match = pool.find(m =>\n      [m.id, m.name, (m.manifest || {}).displayName].some(\n        k => k && k.startsWith(search)\n      )\n    );\n\n    if (match) {\n      return (\n        [match.id, match.name, match.manifest.displayName].find(\n          k => k && k.startsWith(search)\n        ) || \"\"\n      );\n    }\n\n    const lmatch = (legend.items || []).find(i => i.value.startsWith(search));\n    return lmatch ? lmatch.value : null;\n  }\n);\n\nexport const selectActiveItem = createSelector(\n  state => state,\n  selectFound,\n  state => state.searchPreview,\n  (state, found, preview) => {\n    const index = Math.min(preview, found.length - 1);\n    const item = found[index];\n    return item\n      ? Object.assign({}, item, {\n          index,\n          dependents: [],// rel(\"dependents\"),\n          dependencies: [] // rel(\"dependencies\")\n        })\n      : item;\n  }\n);\n","import { createSelector } from \"reselect\";\nimport { flat as selectDocs } from \"./docs\";\nimport { flat as selectPool } from \"./pool\";\nimport createRelationSelector from \"./relation\";\n\nconst selectVirtual = createSelector(\n  selectDocs,\n  docs => {\n    return docs.filter(d => {\n      const {manifest} = d;\n      const {options = {}} = manifest;\n      const {query = \"\"} = options;\n      return Boolean(query);\n    });\n  }\n);\n\nconst selectItem = createSelector(\n  selectPool,\n  state => state.id,\n  (pool, id) => {\n    const item = pool.find(item => id === `${item.contentType}/${item.id}`);\n\n    if (item) {\n      return item;\n    }\n\n    if (id === '/') {\n      return pool[0];\n    }\n  }\n);\n\nexport default selectItem;\n\nconst filter = hidden => {\n  return hidden\n    ? item => (item.manifest.options || {}).hidden !== true\n    : i => i;\n};\n\nconst selectFilter = createSelector(state => state.hide, hide => filter(hide));\n\nconst relation = key => createRelationSelector(key, selectItem, selectFilter);\n\nexport const selectDependencies = relation(\"dependencies\");\nexport const selectDependents = relation(\"dependents\");\n\nexport const selectManifest = createSelector(\n  selectItem,\n  item => (item ? JSON.stringify(item.manifest, null, \"  \") : \"\")\n);\n\nexport const selectContentType = createSelector(\n  selectItem,\n  item => (item ? item.contentType : \"\")\n);\n\nexport const selectType = createSelector(\n  selectItem,\n  item => (item ? item.type : \"\")\n);\n\nexport const selectActive = createSelector(\n  selectItem,\n  state => state.searchEnabled,\n  (item, search) => !search && item !== null && typeof item !== \"undefined\"\n);\n\nexport const selectIcon = createSelector(\n  selectItem,\n  item => (item ? item.manifest.icon || item.type : \"\")\n);\n\nexport const selectName = createSelector(\n  selectItem,\n  item => (item ? item.manifest.displayName : \"\")\n);\n\nexport const selectTags = createSelector(\n  selectItem,\n  item => (item ? item.manifest.tags || [] : [])\n);\n\nexport const selectVersion = createSelector(\n  selectItem,\n  item => (item ? item.manifest.version : \"\")\n);\n\nexport const selectFlag = createSelector(\n  selectItem,\n  item => (item ? item.manifest.flag : \"\")\n);\n\nexport const selectId = createSelector(\n  selectItem,\n  item => (item ? item.id : \"\")\n);\n\nexport const selectContents = createSelector(selectItem, item => {\n  if (!item) {\n    return null;\n  }\n  return typeof item.contents === \"string\" ? item.contents : null;\n});\n\nexport const selectDescription = createSelector(\n  selectItem,\n  item => (item ? item.manifest.description : \"\")\n);\n","import { merge } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport { flatten, sanitize } from \"./tree\";\n\nconst navigation = createSelector(\n  state => state.schema.meta,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  (tree, id, hide, location, base) => {\n    const context = { base, hide, id, prefix: \"pattern\", location };\n    return sanitize(merge({}, tree), context);\n  }\n);\n\nexport default navigation;\n\nexport const flat = createSelector(navigation, flatten);\n","import { createSearch } from \"@patternplate/search\";\nimport { createSelector } from \"reselect\";\nimport { flat as selectDocs } from \"../selectors/docs\";\nimport { flat as selectNavigation } from \"../selectors/navigation\";\nimport { enrich } from \"../selectors/tree\";\n\nexport const selectFlatPool = createSelector(\n  selectDocs,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: () => []\n  }),\n  (docs, nav, context) => {\n    const enriched = flatten(docs.map(d => {\n      return enrich(d, context);\n    }));\n    return enriched\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nconst selectSearch = createSelector(\n  selectFlatPool,\n  flatPool => {\n    const search = () => [];\n    return term => {\n      const matches = search(term);\n      return matches.map(item => flatPool.find(p => p.id === item));\n    };\n  }\n);\n\nconst selectPool = createSelector(\n  selectDocs,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: selectSearch(state)\n  }),\n  (docs, nav, context) => {\n    const enriched = flatten(docs.map(d => {\n      return enrich(d, context);\n    }));\n    return enriched\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nfunction flatten(tree, initial = []) {\n  return tree.reduce((acc, item) => {\n    acc.push(item);\n    if (Array.isArray(item.children)) {\n      flatten(item.children, acc);\n    }\n    return acc;\n  }, initial);\n}\n\nexport default selectPool;\nexport const flat = createSelector(\n  selectDocs,\n  selectNavigation,\n  (docs, nav) => flatten(docs.concat(nav)).filter(item => item.type === \"item\")\n);\n","import { createSelector } from \"reselect\";\nimport selectPatterns from \"./navigation\";\nimport find from \"../utils/find\";\n\nexport default function createRelationSelector(key, selectItem) {\n  return createSelector(selectPatterns, selectItem, (patterns, item) => {\n    if (!item) {\n      return [];\n    }\n    return (item[key] || [])\n      .map(id => find(patterns, `pattern/${id}`, { type: \"pattern\" }))\n      .filter(Boolean);\n  });\n}\n","import path from \"path\";\nimport querystring from \"querystring\";\nimport url from \"url\";\nimport { merge } from \"lodash\";\n\nconst WEIGHTS = {\n  folder: 0,\n  doc: 1,\n  pattern: 2\n};\n\nexport function flatten(tree) {\n  return tree.children;\n}\n\nexport function sanitize(tree, context) {\n  const { id, config = {}, prefix, base, location, search } = context;\n\n  tree.children = tree.children\n    .map(child => {\n      const enriched = enrich(child, {\n        base,\n        location,\n        id,\n        config,\n        prefix,\n        search,\n      });\n      return enriched.children\n        ? sanitize(enriched, context)\n        : enriched;\n    })\n    .sort((a, b) => {\n      const order =\n        ((((a.manifest || {}).options || {}).order || 0) - (((b.manifest || {}).options || {}).order || 0));\n      const weight = (WEIGHTS[a.type] || 0) - (WEIGHTS[b.type] || 0);\n      const comp = a.manifest.displayName.localeCompare(b.manifest.displayName);\n\n      if (order !== 0) {\n        return order;\n      }\n\n      if (weight !== 0) {\n        return weight;\n      }\n\n      return comp;\n    });\n\n  return enrich(tree, { base, location, id, config, prefix, search });\n}\n\nexport function enrich(child, context) {\n  const { id, prefix, search } = context;\n  const childid = [child.contentType, child.id].join('/');\n  child.active = (childid === id) || `doc/${context.parent}/${childid}` === id;\n  const parsed = url.parse(child.href || path.join(prefix, child.id || child.path));\n\n  const q =\n    typeof parsed.query === \"string\"\n      ? querystring.parse(parsed.query)\n      : parsed.query;\n\n  child.href = url.format({\n    pathname: pre(context.base || '', parsed.pathname || ''),\n    query: Object.assign({}, context.location.query, q)\n  });\n\n  child.warnings = child.warnings || [];\n  child.type = child.contentType === \"doc\" && typeof ((child.manifest).options || {}).query === \"string\"\n    ? \"folder\"\n    : \"item\";\n\n  if (child.type === \"folder\") {\n    child.children = search(child.manifest.options.query)\n      .filter(item => item.id !== child.id);\n  }\n\n  if (\n    child.manifest &&\n    child.type === \"pattern\" &&\n    (child.manifest.flag === \"alpha\" || child.manifest.flag === \"deprecated\")\n  ) {\n    child.warnings.push({\n      type: \"flag\",\n      value: child.manifest.flag,\n      message: `${child.manifest.displayName} is flagged as ${child.manifest\n        .flag}.`\n    });\n  }\n\n  return child;\n}\n\nfunction pre(base, pathname) {\n  const b = norm(base);\n  const p = norm(pathname);\n\n  if (p.startsWith(b)) {\n    return `/${p}`;\n  }\n\n  return `/${[norm(base), norm(pathname)].join(\"/\")}`;\n}\n\nfunction norm(p) {\n  return p.split(\"/\").filter(Boolean).join(\"/\");\n}\n","import * as actions from \"./actions\";\nimport Shortcut from \"./utils/shortcut\";\n\nexport default createShortcuts;\n\nfunction createShortcuts() {\n  const bind = store => {\n    Object.keys(bind).forEach(name => {\n      bind[name].bind(store);\n    });\n  };\n\n  bind.toggleConsole = new Shortcut({\n    character: \"c\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} console`,\n    action: actions.toggleConsole\n  });\n\n  bind.toggleDoc = new Shortcut({\n    character: \"d\",\n    description: () => `Open documentation for this pattern`,\n    action: actions.toggleDoc\n  });\n\n  bind.openDocumentation = new Shortcut({\n    character: \"7\",\n    description: () => `Navigate back to / route`,\n    action: actions.openDocumentation\n  });\n\n  bind.openFullscreen = new Shortcut({\n    character: \"f\",\n    description: () => `Open fullscreen view`,\n    action: actions.openFullscreen\n  });\n\n  bind.toggleHide = new Shortcut({\n    character: \"h\",\n    description: props => `${props.enabled ? \"Show\" : \"Hide\"} hidden items`,\n    action: actions.toggleHide\n  });\n\n  bind.info = new Shortcut({\n    character: \"i\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} pattern infos`,\n    action: actions.toggleInfo\n  });\n\n  bind.toggleOpacity = new Shortcut({\n    character: \"o\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} opacity indicators`,\n    action: actions.toggleOpacity\n  });\n\n  bind.toggleShortcuts = new Shortcut({\n    character: \"k\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} keyboard shortcuts`,\n    action: actions.toggleKeyboardShortcuts\n  });\n\n  bind.toggleRulers = new Shortcut({\n    character: \"l\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} rulers`,\n    action: actions.toggleRulers\n  });\n\n  bind.toggleCode = new Shortcut({\n    character: \"m\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} pattern code`,\n    action: actions.toggleCode\n  });\n\n  bind.toggleNavigation = new Shortcut({\n    character: \"n\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} navigation`,\n    action: actions.toggleNavigation\n  });\n\n  bind.toggleNetwork = new Shortcut({\n    character: \"d\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} dependency network`,\n    action: actions.toggleNetwork\n  });\n\n  const reload = () => actions.reload({ reloadTime: Date.now() });\n  reload.type = actions.reload.type;\n  reload.key = actions.reload.key;\n  reload.property = actions.reload.property;\n\n  bind.reload = new Shortcut({\n    character: \"r\",\n    description: () => `Force sync`,\n    action: reload\n  });\n\n  bind.toggleSearch = new Shortcut({\n    character: \"space\",\n    description: props => `${props.enabled ? \"Disable\" : \"Enable\"} search`,\n    action: actions.toggleSearch\n  });\n\n  bind.toggleTheme = new Shortcut({\n    character: \"t\",\n    description: \"Toggle active theme\",\n    action: actions.toggleTheme\n  });\n\n  bind.close = new Shortcut({\n    character: \"esc\",\n    modifiers: [],\n    action: actions.closeAllTheThings\n  });\n\n  bind.up = new Shortcut({\n    character: \"arrow-up\",\n    action: () => actions.arrow(\"up\")\n  });\n\n  bind.right = new Shortcut({\n    character: \"arrow-right\",\n    action: () => actions.arrow(\"right\")\n  });\n\n  bind.down = new Shortcut({\n    character: \"arrow-down\",\n    action: () => actions.arrow(\"down\")\n  });\n\n  bind.left = new Shortcut({\n    character: \"arrow-left\",\n    action: () => actions.arrow(\"left\")\n  });\n\n  return bind;\n}\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport { routerReducer as routing, routerMiddleware } from \"react-router-redux\";\nimport thunk from \"redux-thunk\";\nimport topology from \"topologically-combine-reducers\";\n\nimport * as actions from \"./actions\";\nimport createShortcuts from \"./shortcuts\";\nimport reducers, { dependencies } from \"./reducers\";\n\nexport default function configureStore(history, initial) {\n  const reducer = hydrateable(topology({ routing, ...reducers }, dependencies));\n  const enhance = global.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const middlewares = [thunk, routerMiddleware(history)];\n\n  const middleware = applyMiddleware(...middlewares);\n  const shortcuts = createShortcuts();\n  const store = createStore(\n    reducer,\n    { ...initial, shortcuts },\n    enhance(middleware)\n  );\n\n  listen(store, { url: \"/api\" });\n  shortcuts(store);\n\n  return store;\n}\n\nfunction hydrateable(reducer) {\n  return (state, action) => {\n    switch (action.type) {\n      case \"@@APPLY_STATE\":\n        return reducer(action.payload, action);\n      default:\n        return reducer(state, action);\n    }\n  };\n}\n\nfunction listen(store, options) {\n  store.dispatch(actions.listen({ url: options.url }));\n}\n","import \"isomorphic-fetch\";\nimport { merge } from \"lodash\";\n\nexport default fetch;\n\nconst defaultHeaders = {\n  headers: { accept: \"application/json\" },\n  credentials: \"include\"\n};\n\nfunction fetch(uri, userHeaders) {\n  const headers =\n    userHeaders === false ? defaultHeaders : merge({}, userHeaders, defaultHeaders);\n\n  return global.fetch(uri, headers);\n}\n","export default find;\n\nfunction find(tree, id, { type }) {\n  if (id === \"/\") {\n    return tree;\n  }\n\n  if (!id || !id.startsWith(`${type}/`)) {\n    return null;\n  }\n\n  const reg = new RegExp(`^${type}/`);\n\n  const frags = id\n    .replace(reg, \"\")\n    .split(\"/\")\n    .filter(Boolean);\n\n  const match = tree.children.find(\n    child =>\n      child.path.every((s, i) => frags[i] === s) &&\n      (child.type === type || child.type === \"folder\")\n  );\n\n  return match;\n}\n","import path from \"path\";\nimport urlQuery from \"./url-query\";\n\nexport default function getIdByPathname(pathname, base = \"/\") {\n  const parsed = urlQuery.parse(pathname);\n  return (path.posix || path).relative(base, parsed.pathname);\n}\n","import ARSON from \"arson\";\nimport assert from \"assert\";\n\nconst CODES = {\n  \"arrow-up\": 38,\n  \"arrow-right\": 39,\n  \"arrow-down\": 40,\n  \"arrow-left\": 37,\n  esc: 27,\n  space: 32,\n  c: 67,\n  d: 68,\n  e: 69,\n  f: 70,\n  h: 72,\n  i: 73,\n  o: 79,\n  k: 75,\n  l: 76,\n  m: 77,\n  n: 78,\n  r: 82,\n  t: 84\n};\n\nexport default class Shortcut {\n  constructor({ action, character, description, modifiers }) {\n    this.character = character;\n    this.code = CODES[character];\n    this.action = action;\n    this.key = this.action.key;\n    this.active = \"document\" in global;\n    this.description = description;\n    this.modifiers = modifiers || [\"ctrlKey\", \"altKey\"];\n    this.bind = this.bind.bind(this);\n  }\n\n  bind(store) {\n    if (!this.active) {\n      return;\n    }\n\n    const onKeyPress = e => {\n      if (!this.modifiers.every(m => e[m])) {\n        return;\n      }\n\n      if (e.keyCode !== this.code) {\n        return false;\n      }\n\n      store.dispatch(this.action());\n    };\n\n    global.addEventListener(\"message\", e => {\n      try {\n        const message = ARSON.parse(e.data);\n        if (message.type === \"keydown\") {\n          onKeyPress(message.payload);\n        }\n      } catch (err) {\n\n      }\n    }, false);\n\n    global.addEventListener(\"keydown\", e => {\n      const prevent = onKeyPress({\n        altKey: e.altKey,\n        ctrlKey: e.ctrlKey,\n        keyCode: (e.data || e).keyCode,\n      });\n      if (prevent) {\n        e.preventDefault();\n      }\n    });\n  }\n\n  toString() {\n    const keys = [...this.modifiers, this.character].map(c =>\n      c.replace(\"Key\", \"\")\n    );\n    return `[${keys.join(\"+\")}]`;\n  }\n}\n","import path from \"path\";\nimport url from \"url\";\nimport { entries, includes } from \"lodash\";\n\nfunction has(token) {\n  return item => includes(item, token);\n}\n\nfunction div(token) {\n  return item => item.split(token).slice(0, 2);\n}\n\nfunction not(fn) {\n  return (...args) => !fn(...args);\n}\n\nfunction shove(input) {\n  const index = input.length - 1;\n  if (input[index] === \"/\") {\n    return input.slice(0, index);\n  }\n  return input;\n}\n\nexport function format(parsed = {}) {\n  const query = entries(parsed.query || {}).reduce(\n    (result, entry) => [...result, entry.join(\"--\")],\n    []\n  );\n\n  const extension = path.extname(parsed.pathname || \"\");\n\n  const before = extension\n    ? path.dirname(parsed.pathname)\n    : shove(parsed.pathname);\n  const after = extension ? path.basename(parsed.pathname) : \"\";\n\n  return [before, ...query, after].filter(Boolean).join(\"/\");\n}\n\nexport function parse(urlPath = \"\") {\n  const parsed = url.parse(urlPath);\n  const raw = parsed.pathname || \"\";\n\n  const pathname = raw\n    .split(\"/\")\n    .filter(not(has(\"--\")))\n    .join(\"/\");\n\n  const query = raw\n    .split(\"/\")\n    .filter(has(\"--\"))\n    .map(div(\"--\"))\n    .reduce((registry, entry) => {\n      const [key, value] = entry;\n      registry[key] = value;\n      return registry;\n    }, {});\n\n  return {\n    pathname,\n    query\n  };\n}\n\nexport default { parse, format };\n","const ARSON = require(\"arson\");\nconst url = require(\"url\");\nconst fetch = require(\"isomorphic-fetch\");\nconst platform = require(\"platform\");\nconst router = require(\"./app/client\").default;\nconst { merge } = require(\"lodash\");\n\nconst { document } = global;\n\nmain().catch(err => {\n  console.error(err);\n});\n\nasync function main() {\n  const slot = document.querySelector('[data-application-el=\"patternplate\"]');\n  const vault = document.querySelector('[data-application-state=\"patternplate\"]');\n  const data = await getData(vault);\n\n  if (data.isStatic) {\n    slot.innerHTML = '';\n  }\n\n  router(data, slot);\n\n  document.body.setAttribute(\"data-mounted\", true);\n}\n\nasync function getData(vault) {\n  const data = ARSON.parse(decodeURIComponent(vault.textContent));\n  const schema = await getStateData(data.base);\n\n  return merge(data, getPlatformData(), getWindowData(), {\n    schema,\n    navigation: schema.meta\n  });\n}\n\nasync function getStateData(base) {\n  return (await fetch(`${prefix(base)}/api/state.json`, {credentials: \"include\"})).json();\n}\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n\nfunction getPlatformData() {\n  return {\n    clientRuntimeName: platform.name,\n    clientRuntimeVersion: platform.version,\n    clientOsName: platform.os.name,\n    clientOsVersion: platform.os.version\n  };\n}\n\nfunction getWindowData() {\n  return {\n    window: {\n      width: global.innerWidth,\n      height: global.innerHeight\n    }\n  };\n}\n"],"sourceRoot":""}