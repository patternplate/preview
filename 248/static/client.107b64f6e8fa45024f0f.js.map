{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../components/index.js","webpack:///../components/lib/button/index.js","webpack:///../components/lib/code-pane/index.js","webpack:///../components/lib/code/index.js","webpack:///../components/lib/flag/index.js","webpack:///../components/lib/fonts/index.js","webpack:///../components/lib/headline/index.js","webpack:///../components/lib/icon/index.js","webpack:///../components/lib/index.js","webpack:///../components/lib/info-pane/index.js","webpack:///../components/lib/injection.js","webpack:///../components/lib/link/index.js","webpack:///../components/lib/logo.js","webpack:///../components/lib/main-header/index.js","webpack:///../components/lib/main-navigation/index.js","webpack:///../components/lib/markdown/index.js","webpack:///../components/lib/markdown/markdown-blockquote.js","webpack:///../components/lib/markdown/markdown-code-block.js","webpack:///../components/lib/markdown/markdown-code.js","webpack:///../components/lib/markdown/markdown-copy.js","webpack:///../components/lib/markdown/markdown-headline.js","webpack:///../components/lib/markdown/markdown-hr.js","webpack:///../components/lib/markdown/markdown-image.js","webpack:///../components/lib/markdown/markdown-item.js","webpack:///../components/lib/markdown/markdown-link.js","webpack:///../components/lib/markdown/markdown-list.js","webpack:///../components/lib/navigation-item/index.js","webpack:///../components/lib/navigation-label/index.js","webpack:///../components/lib/navigation-toolbar/index.js","webpack:///../components/lib/navigation-tree/index.js","webpack:///../components/lib/search-field/index.js","webpack:///../components/lib/search/index.js","webpack:///../components/lib/svg.js","webpack:///../components/lib/tag/index.js","webpack:///../components/lib/text/index.js","webpack:///../components/lib/themes/index.js","webpack:///../search/index.js","webpack:///../search/lib/create-search.js","webpack:///../search/lib/query.js","webpack:///../search/lib/registry.js","webpack:///../search/lib/search.js","webpack:///../search/lib/term.js","webpack:///../websocket-client/index.js","webpack:///../websocket-client/lib/index.js","webpack:///./src/app/actions/activate-node.js","webpack:///./src/app/actions/apply-state.js","webpack:///./src/app/actions/arrow.js","webpack:///./src/app/actions/change-concern.js","webpack:///./src/app/actions/change-type.js","webpack:///./src/app/actions/close-all-the-things.js","webpack:///./src/app/actions/demo-content-resize.js","webpack:///./src/app/actions/dismiss-all-messages.js","webpack:///./src/app/actions/dismiss-message.js","webpack:///./src/app/actions/handle-dependent-actions.js","webpack:///./src/app/actions/index.js","webpack:///./src/app/actions/listen.js","webpack:///./src/app/actions/load-pattern-demo.js","webpack:///./src/app/actions/load-schema.js","webpack:///./src/app/actions/mark-block.js","webpack:///./src/app/actions/open-documentation.js","webpack:///./src/app/actions/open-fullscreen.js","webpack:///./src/app/actions/patch-location.js","webpack:///./src/app/actions/promise-thunk-action.js","webpack:///./src/app/actions/reload.js","webpack:///./src/app/actions/resize-demo.js","webpack:///./src/app/actions/scroll-demo.js","webpack:///./src/app/actions/scroll-to.js","webpack:///./src/app/actions/search-preview.js","webpack:///./src/app/actions/search.js","webpack:///./src/app/actions/theme-loaded.js","webpack:///./src/app/actions/toggle-code.js","webpack:///./src/app/actions/toggle-components-enabled.js","webpack:///./src/app/actions/toggle-console.js","webpack:///./src/app/actions/toggle-dependencies.js","webpack:///./src/app/actions/toggle-dependents.js","webpack:///./src/app/actions/toggle-doc.js","webpack:///./src/app/actions/toggle-hide.js","webpack:///./src/app/actions/toggle-info.js","webpack:///./src/app/actions/toggle-keyboard-shortcuts.js","webpack:///./src/app/actions/toggle-manifest.js","webpack:///./src/app/actions/toggle-navigation.js","webpack:///./src/app/actions/toggle-network.js","webpack:///./src/app/actions/toggle-opacity.js","webpack:///./src/app/actions/toggle-rulers.js","webpack:///./src/app/actions/toggle-search.js","webpack:///./src/app/actions/toggle-theme.js","webpack:///./src/app/actions/toggle.js","webpack:///./src/app/actions/window-resize.js","webpack:///./src/app/behaviours.js","webpack:///./src/app/client.js","webpack:///./src/app/components/common/toggle-button.js","webpack:///./src/app/components/documentation.js","webpack:///./src/app/components/favicon.js","webpack:///./src/app/components/indicator.js","webpack:///./src/app/components/message.js","webpack:///./src/app/components/outside.js","webpack:///./src/app/components/pattern/index.js","webpack:///./src/app/components/pattern/pattern-demo.js","webpack:///./src/app/components/pattern/pattern-sheet.js","webpack:///./src/app/components/search-field.js","webpack:///./src/app/components/search.js","webpack:///./src/app/components/toggle-navigation.js","webpack:///./src/app/components/toggle-opacity.js","webpack:///./src/app/components/toggle-search.js","webpack:///./src/app/components/trigger-fullscreen.js","webpack:///./src/app/connectors/with-active-for-pattern.js","webpack:///./src/app/connectors/with-id.js","webpack:///./src/app/connectors/with-toggle-states.js","webpack:///./src/app/connectors/with-toggle.js","webpack:///./src/app/containers/application.js","webpack:///./src/app/containers/documentation.js","webpack:///./src/app/containers/favicon.js","webpack:///./src/app/containers/indicator.js","webpack:///./src/app/containers/link.js","webpack:///./src/app/containers/logo.js","webpack:///./src/app/containers/markdown.js","webpack:///./src/app/containers/message.js","webpack:///./src/app/containers/navigation.js","webpack:///./src/app/containers/not-found.js","webpack:///./src/app/containers/pass-through.js","webpack:///./src/app/containers/pattern.js","webpack:///./src/app/containers/search.js","webpack:///./src/app/containers/toggle-navigation.js","webpack:///./src/app/containers/toggle-opacity.js","webpack:///./src/app/containers/toggle-search.js","webpack:///./src/app/containers/trigger-fullscreen.js","webpack:///./src/app/reducers/active-block.js","webpack:///./src/app/reducers/active-node.js","webpack:///./src/app/reducers/base.js","webpack:///./src/app/reducers/code-enabled.js","webpack:///./src/app/reducers/components-enabled.js","webpack:///./src/app/reducers/config.js","webpack:///./src/app/reducers/connection.js","webpack:///./src/app/reducers/demo.js","webpack:///./src/app/reducers/dependencies-enabled.js","webpack:///./src/app/reducers/dependents-enabled.js","webpack:///./src/app/reducers/depth.js","webpack:///./src/app/reducers/doc-enabled.js","webpack:///./src/app/reducers/fetching.js","webpack:///./src/app/reducers/hide-enabled.js","webpack:///./src/app/reducers/id.js","webpack:///./src/app/reducers/index.js","webpack:///./src/app/reducers/info-enabled.js","webpack:///./src/app/reducers/is-static.js","webpack:///./src/app/reducers/manifest-enabled.js","webpack:///./src/app/reducers/messages.js","webpack:///./src/app/reducers/navigation-enabled.js","webpack:///./src/app/reducers/network-enabled.js","webpack:///./src/app/reducers/opacity.js","webpack:///./src/app/reducers/schema.js","webpack:///./src/app/reducers/search-enabled.js","webpack:///./src/app/reducers/search-preview.js","webpack:///./src/app/reducers/search-value.js","webpack:///./src/app/reducers/search.js","webpack:///./src/app/reducers/shortcuts.js","webpack:///./src/app/reducers/theme.js","webpack:///./src/app/reducers/toggle.js","webpack:///./src/app/reducers/window.js","webpack:///./src/app/routes.js","webpack:///./src/app/selectors/demo.js","webpack:///./src/app/selectors/docs.js","webpack:///./src/app/selectors/found.js","webpack:///./src/app/selectors/item.js","webpack:///./src/app/selectors/navigation.js","webpack:///./src/app/selectors/pool.js","webpack:///./src/app/selectors/relation.js","webpack:///./src/app/selectors/tree.js","webpack:///./src/app/shortcuts.js","webpack:///./src/app/store.js","webpack:///./src/app/utils/fetch.js","webpack:///./src/app/utils/find.js","webpack:///./src/app/utils/get-id-by-pathname.js","webpack:///./src/app/utils/shortcut.js","webpack:///./src/app/utils/url-query.js","webpack:///./src/client.js"],"names":["module","exports","require","React","styled","default","tag","Icon","Link","Button","props","OuterElement","type","className","title","onClick","external","href","children","symbol","defaultProps","StyledLabel","span","theme","fonts","FRAME","frameless","TRANSPARENCY","transparent","StyledButton","colors","background","color","StyledIcon","Code","CodePane","hermit","source","BORDER_RADIUS","StyledCodePane","div","StyledScrollbox","_require","includes","refractor","toh","register","highlight","toElements","highlightCode","language","code","createElement","StyledCode","block","themes","dark","mono1","mono2","mono3","hue1","hue2","hue3","hue4","hue5","hue52","hue6","hue62","light","themed","key","name","withConfig","displayName","arguments","length","undefined","hast","ALIASES","md","sh","lang","registered","Array","isArray","root","tagName","text","Flag","StyledText","border","getFlagColor","flag","error","warning","info","success","EMOJI","SYSTEM_FONTS","concat","CODE_FONTS","join","Text","ORDERS","Headline","is","order","headline","ReactDOM","omit","merge","uniq","withSideEffect","arrowLeft","arrowRight","arrowDown","d","transform","close","dependencies","ecospheres","externalLink","fillmode","folder","fullscreen","globals","environment","home","link","molecules","organisms","pattern","patternplate","polymers","react","reload","rulers","search","atoms","arrowDoubleLeft","arrowDoubleRight","folderOpen","documentation","cx","cy","r","issue","command","placeholder","x","y","width","height","hamburger","icons","checkers","doc","inverted","count","dim","offset","field","fields","range","map","_","i","filled","product","inArea","rect","filter","Boolean","joinPaths","p","fill","paths","path","iconNames","Object","keys","toState","onChange","symbols","Symbol","definitions","propsList","list","item","sort","registry","element","getRegistryMountPoint","render","global","document","found","querySelector","created","setAttribute","body","appendChild","SIZES","s","m","l","size","inline","svg","IconRegistry","creator","StyledRegistry","definition","emit","style","id","Path","def","Component","css","IconDefinitions","InnerInfoPane","InfoPane","injectGlobal","injection","keyframes","Logo","MainHeader","MainNavigation","Markdown","NavigationItem","NavigationLabel","NavigationToolbar","NavigationTree","Search","SearchResult","SearchResultList","SearchResultHeading","SearchResultPreview","SearchFieldSlot","PassThroughSlot","Close","SearchField","ServerStyleSheet","StyleSheetManager","Tag","ThemeProvider","semver","StyledInfoPane","StyledInnerPane","StyledName","StyledToolbar","StyledDisplayName","StyledId","recess","StyledData","table","StyledDataCell","td","StyledKey","SearchTrigger","VERSION_COLOR","v","valid","satisfies","StyledVersion","Version","StyledTag","StyledToggleHead","ToggleHead","StyledToggleBody","innerProps","standalone","version","has","tags","t","envs","onEnvChange","env","e","dependenciesEnabled","dependents","dependentsEnabled","demoDependencies","demoDependenciesEnabled","demoDependents","demoDependentsEnabled","manifestEnabled","manifest","StyledSelectContainer","StyledSelect","select","Select","value","StyledArrow","rotated","StyledHead","query","enabled","StyledPatternList","PatternList","StyledPatternItem","PatternItem","StyledToggle","Toggle","head","val","PropTypes","childContextTypes","injections","arrayOf","shape","target","any","InjectionProvider","Children","only","inject","RawComponent","InjectedComponent","context","applicable","find","Source","contextTypes","args","handleClick","bind","selectTarget","onHover","grow","hint","iconSize","RawLink","StyledLinkContainer","StyledLinkLabel","StyledLink","active","__html","backgroundSecondary","image","StyledMainHeader","StyledTitle","Header","Navigation","getRef","handleScrollRequest","ref","toArray","toolbar","child","header","NavigationHeader","handleKeyDown","applicationTitle","docs","onItemClick","onLabelClick","navigation","componentsEnabled","tools","StyledNavigatHeader","getPadding","el","getComputedStyle","parseInt","getPropertyValue","direction","StyledHeader","StyledNavigation","PASSAGE_HEIGHT","StyledNavigationTree","StyledNavigationToolbar","Documentation","visible","onScrollRequest","StyledDocumentationTree","frontmatter","remark","emoji","reactRenderer","vm","resizer","MarkdownBlockQuote","MarkdownCode","MarkdownCodeBlock","MarkdownCopy","MarkdownHeadline","MarkdownHr","MarkdownImage","MarkdownItem","MarkdownList","MarkdownLink","next","prop","linkable","use","sanitize","remarkReactComponents","a","blockquote","h1","h2","h3","h4","h5","h6","hr","img","li","pre","preProps","childProps","replace","widgetSrc","srcdoc","encodeURIComponent","JSON","stringify","state","widgetState","ul","ol","processSync","contents","WidgetFrame","iframeResizer","warningTimeout","log","StyledWidgetFrame","iframe","StyledMarkdown","backgroundTertiary","MarkdownBlockquote","textContent","langs","getLanguages","split","n","ORDER","ThemedIcon","StyledTarget","StyledHeadline","toLowerCase","MarkdownHeadlineLink","url","queryString","parsed","parse","abs","absolute","pathname","hash","protocol","startsWith","processor","setTimeout","symbolActive","nested","meta","StyledMeta","StyledNavigationItem","LinkTag","StyledNavigationLink","fontSize","fontWeight","S","M","StyledLabelIcon","StyledLabelContainer","StyledLabelLink","data","index","options","hidden","icon","selectSymbol","iconActive","selectActiveSymbol","selectName","warnings","prefix","NavigationItemList","NavigationMeta","message","StyledSearchField","label","StyledInput","input","StyledInputContainer","StyledInputSuggestion","saveRef","autoFocus","focus","setSelectionRange","suggestion","onBlur","onFocus","onKeyDown","mark","NOOP","searchResultList","StyledResultList","searchPreviewChildren","StyledResultPreview","searchField","passThrough","onClickOutside","onSubmit","legend","SEARCH_HEIGHT","SEARCH_FIELD_HEIGHT","SEARCH_LEGEND_HEIGHT","StyledFormBox","StyledForm","form","withTint","StyledSearchFieldBox","StyledResults","StyledResultHeading","Linkable","StyledPreviewLink","StyledResultLink","StyledResultLinkText","StyledResult","HiddenSubmit","attrs","StyledClose","StyledCloseIcon","verb","clears","shortcut","toString","StyledSearchLegend","StyledSearchLegendBox","StyledField","StyledLegendName","StyledFieldLink","SearchLegend","items","description","h","b","DOMParser","XMLSerializer","camelCase","parser","serializer","SHARED_ATTRIBUTES","ATTRIBUTES","defs","linearGradient","stop","circle","g","polygon","TAG_NAMES","attributes","node","reduce","attribute","getNamedItem","reactProp","specified","btoa","parseFromString","prototype","slice","call","childNodes","png","Promise","resolve","reject","Image","canvas","ratio","devicePixelRatio","getContext","onload","drawImage","toDataURL","src","purge","removeAttribute","rest","c","tree","serializeToString","getThemes","ui","defaultMainColor","rgb","grayBaseTone","hsl","colorGroups","lightBlue","darken","marine","desaturate","gray","colorActive","colorError","colorWarning","colorInfo","colorSuccess","colorBackgroundDark","colorBackgroundSecondaryDark","colorBackgroundTertiaryDark","colorBorderDark","textColor","colorTextDark","textColorNegated","colorTextNegatedDark","colorRecessDark","backgroundLight","colorBackgroundLight","backgroundSecondaryLight","colorBackgroundSecondaryLight","backgroundTertiaryLight","colorBackgroundTertiaryLight","borderLight","colorBorderLight","colorLight","colorTextLight","colorLightNegated","colorTextLightNegated","colorRecessLight","fontFaces","common","string","fontDefault","fontCode","fontHeadline","colorNegated","Query","Registry","Term","createSearch","create","performSearch","perform","term","termString","raw","flatten","intersection","q","values","utils","binaryTreeToQueryJson","err","predicate","TypeError","FLAGS","deprecated","alpha","beta","rc","stable","matcher","getMatcher","negated","depends","matchDepends","matchHas","provides","matchProvides","matchFlag","matchTags","matchVersion","matchIs","rawManifest","contentType","some","lower","equals","greater","modified","operators","Fuse","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","iterator","_s","done","push","OPERATORS","match","_found","negator","modifier","equality","EventEmitter","WebSocketClient","reconnect","interval","opened","ended","ee","exec","listeners","forEach","open","instance","WebSocket","addEventListener","removeEventListener","loop","setInterval","handler","on","activateNode","dispatch","property","applyState","payload","arrow","OFFSETS","up","down","getState","searchEnabled","navigationEnabled","pool","findIndex","go","changeConcern","concern","location","routing","locationBeforeTransitions","previous","ext","extname","hasDemo","files","file","format","dirname","changeType","equal","closeAllTheThings","lightbox","handleDependentActions","partialReduce","deps","handlers","entry","fn","action","actionHandlers","ok","missing","dependency","reducer","defaultValue","window","envelope","indexOf","safeParse","itemType","isStatic","base","ws","host","onOpen","onClose","onError","onMessage","force","getSrc","uri","headers","Accept","response","status","demo","selectSrc","__","json","charAt","openDocumentation","openFullscreen","patchLocation","hasOwnProperty","ident","asyncIdent","createPromiseThunkAction","rawCreator","delayedAction","successAction","startAction","throwsAction","delayedTimer","console","clearTimeout","result","__name","handlePromiseThunkAction","rawName","start","delayed","throws","actions","all","resizeDemo","scrollDemo","frame","run","requestAnimationFrame","scrollDemoX","scrollDemoY","scrollTo","to","getTarget","parent","scrollTop","offsetParent","offsetTop","getElementById","searchPreview","MOVEMENTS","delta","persist","toggleSearch","sync","activeElement","toggleTheme","forced","toggle","toUpperCase","mountable","onMount","skippable","store","history","router","ToggleButton","StandIn","nextProps","changed","requestScroll","StyledDocumentation","THEMES","SVG_FAVICON_SUPPORT","FavIcon","getSource","then","setState","pngHref","catch","svgHref","rel","getFill","purged","Indicator","isValid","getLabel","StyledDot","getGlow","StyledIndicator","getOut","getPulse","out","pulse","Message","details","summary","StyledMessage","StyledMessageContent","StyledDetails","StyledSummary","ClickOutside","handle","getContainer","container","contains","Buffer","from","VISIBILITY","CROSSES","PAD","padded","OFF","OFFSET","StyledPattern","StyledPatternFolder","StyledPatternDoc","StyledPatternDemo","StyledPatternLoader","PatternContainer","Pattern","screenshot","opacity","getPrefix","loading","enter","exit","updated","StyledDemo","PatternDemo","mapProps","PatternSheet","StyledSearchTrigger","selectContents","selectDescription","selectIcon","selectType","selectFlag","selectTags","selectVersion","TOOLBAR_HEIGHT","StyledDescription","StyledPatternSheet","ORIENTATION","orient","StyledPatternSheetContainer","StyledControlsArea","StyledControlsBox","StyledControlsItem","StyledTagList","StyledBoxLine","StyledMarkdownBox","handleChange","handleStop","onStop","trailing","timer","hasValue","atEnd","selectionStart","which","altKey","ctrlKey","preventDefault","stopPropagation","onClear","onUp","onComplete","onDown","blur","SearchComponent","SearchClose","SearchPassThroughSlot","activeItem","onActivate","handleSubmit","handleUp","handleDown","handleActivate","getListRef","getSearchResult","getBoundingClientRect","bottom","top","getAttribute","components","available","onNavigate","withComponents","withDocs","shortcuts","getSearchResultPreview","Hamburger","StyledToggleButton","Opacity","SearchButton","Fullscreen","withActiveForPattern","withId","withToggleStates","withToggle","selectThemes","config","selectLines","messages","selectMessage","lines","trim","selectHasMessage","schema","networkEnabled","logo","renderedLogo","hasMessage","jsWarningEnabled","browserWarningEnabled","mapDispatch","onLoad","listen","onResize","windowResize","Application","overflow","WIDTH","NAVIGATION_WIDTH","StyledWarningLabel","StyledBrowserWarning","StyledBrowserContainer","StyledBrowserContent","StyledBrowserText","StyledBrowserContainerClose","StyledApplication","StyledNavigationBox","StyledMessageBox","StyledContent","StyledContentContainer","WITH_SCREENSHOT_OFFSET","factor","WITH_NAVIGATION_OFFSET","SUM","acc","StyledSearchBox","StyledSearchFrame","StyledFloatingBox","StyledPane","NavigationControl","content","mapState","selectNotFound","selectNoDocs","selectDocItem","first","selectDoc","noDocs","notFound","selectDisplayName","favicon","selectStatus","connection","own","assign","getHref","ownProps","currentTarget","norm","selectWidgetSrc","staticBase","selectDetails","selectActive","PassThrough","DEFAULT_PATTERN_CONTENTS","NOT_FOUND","selectDocs","fetching","selectContentType","loadPatternDemo","selectActiveItem","selectPatterns","selectLegend","selectSuggestion","searchValue","toggleNavigation","OpacityToggle","toggleOpacity","SkippableFullscreen","markBlockHandler","locationChangeHandler","toggleCode","toggleComponentsEnabled","copy","renderedFavicon","LISTEN_HEARTBEAT","FETCHING","ERROR_HEARTBEAT","DEFAULT","Date","now","toggleDependencies","onLocationChange","getDepth","fragments","fragmentIndex","known","toggleDoc","toggleHide","getDependencies","depth","hideEnabled","startBase","toggleInfo","toggleManifest","toggleNetwork","onPreviewLocationChange","Number","isNaN","Math","max","onPerformSeach","PERFORM_SEARCH","onSetSearchLocationChange","onSetSearch","onPerformSearch","SET_SEARCH","onSearchLocationChange","onWindowResize","sd","hide","selectFlatPool","nav","selectSubSearch","flatPool","matches","selectDocsTree","selectFirstItem","selectQueries","selectQueried","queries","queried","flat","FIELDS","selectSearch","selectMatches","selectParsedValue","selectLastQuery","last","cand","selectFields","f","selectFieldHit","selectParsedQuery","selectOps","hit","op","o","selectOpsHit","ops","selectFound","sorted","selectPatternPool","selectOptions","patterns","versions","gt","flags","localeCompare","selectOptionsHit","parsedValue","fieldHit","opsHit","optionsHit","k","lmatch","preview","min","selectVirtual","selectItem","selectFilter","relation","selectDependencies","selectDependents","selectManifest","selectId","enriched","selectPool","initial","createRelationSelector","WEIGHTS","enrich","weight","comp","childid","createShortcuts","toggleConsole","character","toggleShortcuts","toggleKeyboardShortcuts","toggleRulers","reloadTime","modifiers","right","left","configureStore","hydrateable","enhance","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","middlewares","middleware","fetch","defaultHeaders","accept","credentials","userHeaders","reg","RegExp","frags","every","getIdByPathname","posix","relative","CODES","esc","space","Shortcut","onKeyPress","keyCode","prevent","token","not","shove","extension","before","after","basename","urlPath","ARSON","platform","main","slot","vault","getData","innerHTML","decodeURIComponent","getStateData","getPlatformData","getWindowData","clientRuntimeName","clientRuntimeVersion","clientOsName","os","clientOsVersion","innerWidth","innerHeight"],"mappings":"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","file":"client.107b64f6e8fa45024f0f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t\"client\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/client.js\",\"vendors~client\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = require('./lib');\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require(\"tag-hoc\").default;\n\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\n\nfunction Button(props) {\n  const OuterElement =\n    props.type === \"link\"\n      ? tag([\"external\", \"type\"])(Link)\n      : tag([\"external\"])(\"button\");\n\n  return (\n    <OuterElement\n      className={props.className}\n      title={props.title}\n      onClick={props.onClick}\n      external={props.external}\n      href={props.href}\n      type={props.type}\n    >\n      {props.children && <StyledLabel>{props.children}</StyledLabel>}\n      {props.symbol && <StyledIcon symbol={props.symbol} />}\n    </OuterElement>\n  );\n}\n\nButton.defaultProps = {\n  type: \"button\"\n};\n\nconst StyledLabel = styled.span`\n  font-family: ${props => props.theme.fonts.default};\n`;\n\nconst FRAME = props =>\n  !props.frameless &&\n  `\n  padding: 4px;\n  border: 1px solid currentColor\n`;\n\nconst TRANSPARENCY = props =>\n  props.transparent &&\n  `\n  background: transparent;\n`;\n\nconst StyledButton = styled(Button)`\n  appearance: none;\n  display: inline-flex;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  border: none;\n  outline: 0;\n  background: ${props => props.theme.colors.background};\n  color: ${props => props.theme.colors.color};\n  font: inherit;\n  box-sizing: border-box;\n  vertical-align: top;\n  ${FRAME};\n  ${TRANSPARENCY};\n`;\n\nconst StyledIcon = styled(Icon)`\n  &:not(:first-child) {\n    margin-left: 5px;\n  }\n`;\n\nmodule.exports = StyledButton;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Code = require(\"../code\");\n\nmodule.exports = CodePane;\n\nfunction CodePane(props) {\n  return (\n    <StyledCodePane className={props.className} hermit={props.hermit}>\n      <StyledScrollbox>\n        <Code block language=\"html\">\n          {props.source}\n        </Code>\n      </StyledScrollbox>\n    </StyledCodePane>\n  );\n}\n\nconst BORDER_RADIUS = 10;\n\nconst StyledCodePane = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  &::before {\n    content: \"\";\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border-radius: ${props =>\n      props.hermit\n        ? `${BORDER_RADIUS}px`\n        : `0 ${BORDER_RADIUS}px ${BORDER_RADIUS}px 0`};\n    background: ${props => props.theme.colors.background};\n  }\n`;\n\nconst StyledScrollbox = styled.div`\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n`;\n","\"use strict\";\n\nvar React = require(\"react\");\n\nvar styled = require(\"styled-components\").default;\n\nvar _require = require(\"lodash\"),\n    includes = _require.includes;\n\nvar refractor = require(\"refractor/core.js\");\n\nvar toh = require(\"hast-to-hyperscript\"); // in core: css\n\n\nrefractor.register(require(\"refractor/lang/less.js\"));\nrefractor.register(require(\"refractor/lang/scss.js\"));\nrefractor.register(require(\"refractor/lang/stylus.js\")); // in core: js\n\nrefractor.register(require(\"refractor/lang/jsx.js\"));\nrefractor.register(require(\"refractor/lang/typescript.js\"));\nrefractor.register(require(\"refractor/lang/tsx.js\"));\nrefractor.register(require(\"refractor/lang/json.js\")); // in core: xml, html, svg\n\nrefractor.register(require(\"refractor/lang/markdown.js\"));\nrefractor.register(require(\"refractor/lang/bash.js\"));\nrefractor.register(require(\"refractor/lang/diff.js\"));\nmodule.exports = Code;\nmodule.exports.highlight = highlight;\nmodule.exports.toElements = toElements;\n\nfunction Code(props) {\n  var source = highlightCode(props.language, props.children);\n  var code = React.createElement(StyledCode, {\n    className: props.className\n  }, source);\n  return props.block ? React.createElement(\"pre\", null, code) : code;\n}\n\nvar themes = {\n  dark: {\n    mono1: \"#abb2bf\",\n    mono2: \"#818896\",\n    mono3: \"#5c6370\",\n    hue1: \"#56b6c2\",\n    hue2: \"#61aeee\",\n    hue3: \"#c678dd\",\n    hue4: \"#7ec699\",\n    hue5: \"#e2777a\",\n    hue52: \"#be5046\",\n    hue6: \"#f8c555\",\n    hue62: \"#f08d49\"\n  },\n  light: {\n    mono1: \"#383a42\",\n    mono2: \"#686b77\",\n    mono3: \"#a0a1a7\",\n    hue1: \"#0184bb\",\n    hue2: \"#4078f2\",\n    hue3: \"#a626a4\",\n    hue4: \"#50a14f\",\n    hue5: \"#e45649\",\n    hue52: \"#c91243\",\n    hue6: \"#f08d49\",\n    hue62: \"#c18401\"\n  }\n};\n\nvar themed = function themed(key) {\n  return function (props) {\n    return themes[props.theme.name][key];\n  };\n};\n\nvar StyledCode = styled.code.withConfig({\n  displayName: \"code__StyledCode\"\n})([\"display:block;overflow-x:auto;padding:0.5em;color:\", \";font-family:\", \";.token.comment,.token.block-comment,.token.prolog,.token.doctype,.token.cdata{color:\", \";}.token.punctuation{color:\", \";}.token.tag,.token.attr-name,.token.namespace,.token.deleted{color:\", \";}.token.function-name{color:#6196cc;}.token.boolean,.token.number,.token.function{color:\", \";}.token.property,.token.class-name,.token.constant,.token.symbol{color:\", \";}.token.selector,.token.important,.token.atrule,.token.keyword,.token.builtin{color:\", \";}.token.string,.token.char,.token.attr-value,.token.regex,.token.variable{color:\", \";}.token.operator,.token.entity,.token.url{color:\", \";}.token.important,.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}.token.inserted{color:green;}\"], themed(\"mono1\"), function (props) {\n  return props.theme.fonts.code;\n}, themed(\"mono3\"), themed(\"mono1\"), themed(\"hue5\"), themed(\"hue62\"), themed(\"hue6\"), themed(\"hue2\"), themed(\"hue4\"), themed(\"hue5\"));\n\nfunction highlightCode(language) {\n  var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n  if (!language) {\n    return source;\n  }\n\n  if (!source) {\n    return source;\n  }\n\n  var hast = highlight(language, source);\n  return toElements(hast);\n}\n\nvar ALIASES = {\n  md: 'markdown',\n  sh: 'bash'\n};\n\nfunction highlight(language, source) {\n  var lang = ALIASES[language] || language;\n\n  if (!refractor.registered(lang)) {\n    return source;\n  }\n\n  return refractor.highlight(source, lang);\n}\n\nfunction toElements(children) {\n  if (!Array.isArray(children)) {\n    return children;\n  }\n\n  var root = toh(React.createElement, {\n    type: \"element\",\n    tagName: \"div\",\n    children: children\n  });\n  return root.props.children;\n}","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst text = require(\"react-addons-text-content\");\n\nmodule.exports = Flag;\n\nfunction Flag(props) {\n  return <StyledText className={props.className}>{props.children}</StyledText>;\n}\n\nconst StyledText = styled.span`\n  display: inline-block;\n  padding: 2px 4px;\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 3px;\n  font-family: ${props => props.theme.fonts.default};\n  ${props => {\n    const color = getFlagColor(text(props.children), props.theme.colors);\n    return `\n\t\t\tborder-color: ${color};\n\t\t\tcolor: ${color};\n\t\t`;\n  }};\n`;\n\nfunction getFlagColor(flag, theme) {\n  switch (flag) {\n    case \"alpha\":\n      return theme.error;\n    case \"beta\":\n      return theme.warning;\n    case \"rc\":\n      return theme.info;\n    case \"stable\":\n      return theme.success;\n    case \"deprecated\":\n      return theme.error;\n    default:\n      return theme.error;\n  }\n}\n","\"use strict\";\n\nmodule.exports = fonts;\nvar EMOJI = [\"\\\"Apple Color Emoji\\\"\", \"\\\"Segoe UI Emoji\\\"\", \"\\\"Segoe UI Symbol\\\"\"];\nvar SYSTEM_FONTS = [\"-apple-system\", \"BlinkMacSystemFont\", \"\\\"Segoe UI\\\"\", \"Helvetica\", \"Arial\", \"sans-serif\"].concat(EMOJI);\nvar CODE_FONTS = [\"SFMono-Regular\", \"Consolas\", \"Liberation Mono\", \"Menlo\", \"Courier\", \"monospace\"].concat(EMOJI);\n\nfunction fonts() {\n  return {\n    default: SYSTEM_FONTS.join(\", \"),\n    code: CODE_FONTS.join(\", \")\n  };\n}","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Text = require(\"../text\");\n\nconst ORDERS = {\n  0: 72,\n  1: 36,\n  2: 27,\n  3: 23,\n  4: 18\n};\n\nconst Headline = props => {\n  const is = props.is || 'h1';\n  return <Text is={is} className={props.className}>{props.children}</Text>;\n};\n\nmodule.exports = styled(Headline)`\n  color: ${props => props.theme.colors.color};\n  font-size: ${props => ORDERS[props.order]}px;\n  font-family: ${props => props.theme.fonts.headline};\n  margin: 60px 0 16px 0;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n","const React = require(\"react\");\nconst ReactDOM = require(\"react-dom\");\nconst styled = require(\"styled-components\").default;\nconst { omit, merge, uniq } = require(\"lodash\");\nconst withSideEffect = require(\"react-side-effect\");\n\n/* eslint-disable max-len */\nconst arrowLeft =\n  \"M9.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\";\nconst arrowRight =\n  \"m 14.202,10.767 c 0.14,0.147 0.258,0.31 0.344,0.494 0.215,0.464 0.215,1.01 0,1.474 -0.085,0.185 -0.203,0.347 -0.343,0.494 L 10.66,16.775 9.6,15.715 c 1.183,-1.186 2.46,-2.285 3.55,-3.558 0.058,-0.075 0.073,-0.176 0.033,-0.262 -0.013,-0.03 -0.033,-0.055 -0.056,-0.08 L 9.601,8.29 l 1.06,-1.06 3.54,3.54 z\";\nconst arrowDown = {\n  d: \"m 14.202,10.767 c 0.14,0.147 0.258,0.31 0.344,0.494 0.215,0.464 0.215,1.01 0,1.474 -0.085,0.185 -0.203,0.347 -0.343,0.494 L 10.66,16.775 9.6,15.715 c 1.183,-1.186 2.46,-2.285 3.55,-3.558 0.058,-0.075 0.073,-0.176 0.033,-0.262 -0.013,-0.03 -0.033,-0.055 -0.056,-0.08 L 9.601,8.29 l 1.06,-1.06 3.54,3.54 z\",\n  transform: \"rotate(90, 12.1536, 12.0025)\"\n};\nconst code =\n  \"M20.54 10.76l-3.313-3.313-.777 1.344 3.03 3.03c.098.1.098.257 0 .354l-3.533 3.538 1.06 1.06 3.536-3.538c.68-.683.68-1.792-.002-2.473zM4.52 11.82L8.05 8.29l-1.06-1.06L3.46 10.76c-.682.683-.683 1.79-.003 2.474l3.316 3.32.777-1.345-3.032-3.036c-.097-.097-.097-.255 0-.353zM7.6 18.12l7.5-12.99 1.3.75-7.5 12.99z\";\nconst close = [\n  \"M11.988 1.333C6.08 1.333 1.274 6.14 1.274 12.047c0 5.908 4.806 10.714 10.714 10.714s10.714-4.806 10.714-10.714c0-5.907-4.807-10.714-10.714-10.714zm0 19.78c-5 0-9.066-4.067-9.066-9.066s4.067-9.065 9.066-9.065 9.065 4.066 9.065 9.065-4.067 9.066-9.065 9.066z\",\n  \"M17.232 6.802a.824.824 0 0 0-1.165 0l-4.08 4.08-4.079-4.08a.824.824 0 1 0-1.165 1.166l4.08 4.08-4.08 4.079a.824.824 0 1 0 1.165 1.165l4.08-4.08 4.079 4.08a.82.82 0 0 0 1.165 0 .824.824 0 0 0 0-1.165l-4.08-4.08 4.08-4.079a.824.824 0 0 0 0-1.166z\"\n];\nconst dark =\n  \"M12 16v3.227L5.52 15.15l-.02-6.3L12 4.77V8l-2 2 4 4-2 2zm0-13L4 8.02l.02 7.96L12 21l7.937-5L20 8l-8-5z\";\nconst dependencies =\n  \"M9.453 20.026L6.75 21.378v-4.17l3.256-1.627v3.56c0 .38-.214.73-.553.9m-6.906 0c-.34-.17-.553-.515-.553-.893v-3.55l3.256 1.62v4.17L2.547 20.03zm3.006-7.062c.14-.07.294-.106.447-.106.153 0 .306.036.447.106l2.72 1.36L6 15.906 2.833 14.32l2.72-1.36zm4.57.16L7.12 11.62c-.345-.17-.732-.263-1.118-.263-.386 0-.773.09-1.118.26L1.878 13.12c-.854.423-1.384 1.28-1.384 2.233v3.77c0 .953.53 1.81 1.382 2.237l3.006 1.503c.345.174.732.266 1.118.266.386 0 .773-.09 1.118-.27l3.006-1.505c.852-.427 1.382-1.283 1.382-2.236v-3.77c0-.954-.53-1.81-1.382-2.237m11.33 6.906l-2.704 1.35V17.2l3.256-1.625v3.55c0 .38-.214.728-.553.897m-6.906 0c-.34-.17-.553-.517-.553-.895v-3.55l3.256 1.627v4.17l-2.703-1.353zm3.006-7.064c.14-.07.294-.104.447-.104.153 0 .306.04.447.11l2.72 1.36L18 15.91l-3.167-1.583 2.72-1.36zm4.57.16l-3.005-1.5c-.345-.17-.732-.262-1.118-.262-.386 0-.773.097-1.118.27l-3.006 1.502c-.852.425-1.382 1.28-1.382 2.234v3.772c0 .952.53 1.81 1.382 2.236l3.006 1.503c.345.17.732.262 1.118.262.386 0 .773-.092 1.118-.264l3.006-1.5c.852-.43 1.382-1.287 1.382-2.24v-3.77c0-.953-.53-1.81-1.382-2.236M8.547 9.53c-.34-.17-.553-.516-.553-.894v-3.55l3.256 1.627v4.17L8.547 9.53zm3.006-7.063c.14-.07.294-.106.447-.106.153 0 .306.04.447.11l2.72 1.36L12 5.41 8.833 3.827l2.72-1.36zm3.9 7.063l-2.703 1.352v-4.17l3.256-1.627v3.55c0 .38-.214.726-.553.895m.67 1.342c.853-.427 1.383-1.283 1.383-2.236V4.864c0-.953-.53-1.81-1.382-2.236l-3.006-1.503C12.773.953 12.386.86 12 .86c-.386 0-.773.093-1.118.265L7.876 2.628c-.852.427-1.382 1.283-1.382 2.236v3.772c0 .952.53 1.81 1.382 2.236l3.006 1.503c.345.172.732.264 1.118.264.386 0 .773-.1 1.118-.27l3.006-1.51z\";\nconst ecospheres =\n  \"M18.052 15.315c0 .287-.162.55-.418.677l-5.296 2.648c-.107.053-.222.08-.338.08-.116 0-.232-.027-.34-.08l-5.295-2.648c-.256-.128-.418-.39-.418-.677v-6.63c0-.287.162-.55.418-.677L11.66 5.36c.108-.053.224-.08.34-.08.116 0 .23.027.338.08l5.296 2.648c.256.128.418.39.418.677v6.63zm.253-8.65L13.01 4.02c-.313-.155-.662-.238-1.01-.238-.35 0-.698.083-1.01.238L5.696 6.666c-.77.385-1.248 1.16-1.248 2.02v6.63c0 .86.478 1.633 1.247 2.017l5.296 2.648c.315.16.66.24 1.01.24s.7-.08 1.01-.235l5.298-2.65c.77-.383 1.247-1.157 1.247-2.017v-6.63c0-.86-.478-1.634-1.247-2.02\";\nconst externalLink = [\n  {\n    d: \"m20.35093,4.63239l-7.85822,7.85822a0.69591,0.69591 0 0 1 -0.98402,-0.98402l7.85822,-7.85822l-5.27918,0a0.69591,0.69591 0 0 1 0,-1.39182l6.9591,0a0.69591,0.69591 0 0 1 0.69591,0.69591l0,6.95911a0.69591,0.69591 0 0 1 -1.39182,0l0,-5.27918zm-12.52639,0.4078l-3.48095,0c-1.15243,0 -2.08634,0.93113 -2.08634,2.08216l0,12.53892c0,1.14825 0.94505,2.08216 2.09052,2.08216l12.51943,0a2.08773,2.08773 0 0 0 2.09051,-2.09052l0,-3.47677a0.69591,0.69591 0 0 0 -1.39182,0l0,3.47677a0.69591,0.69591 0 0 1 -0.69869,0.6987l-12.51943,0a0.70148,0.70148 0 0 1 -0.69869,-0.69035l0,-12.53892c0,-0.38136 0.31038,-0.69034 0.69452,-0.69034l3.48095,0a0.69591,0.69591 0 0 0 0,-1.39182z\",\n    fillmode: \"nonzero\"\n  }\n];\nconst folder =\n  \"M10.5 4.5h-8v14c0 .552.448 1 1 1h17c.552 0 1-.448 1-1v-11h-11v-3zM9 6v3h11v9H4V6h5\";\nconst fullscreen =\n  \"M9 3.75v-1.5l-5 .003c-.966 0-1.75.785-1.75 1.75V9h1.5V4.813L8.38 9.44l1.06-1.06-4.63-4.63H9zm-.62 10.81l-4.63 4.626V15h-1.5v4.997c0 .964.785 1.75 1.75 1.75l5 .002v-1.5l-4.19-.005 4.63-4.626-1.06-1.06zM20 2.25l-5-.005v1.5l4.194.003-4.634 4.63 1.06 1.06 4.63-4.624v4.18h1.5V4c0-.966-.785-1.75-1.75-1.75m.25 16.936l-4.63-4.626-1.06 1.06 4.634 4.63-4.194.005v1.5l5-.004c.965 0 1.75-.782 1.75-1.75v-4.993h-1.5v4.18z\";\nconst globals =\n  \"M12 20.5c-3.046 0-5.716-1.616-7.217-4.03l.16.065 1.75-4.25c.08-.196.075-.416-.015-.607l-1.936-4.08c.595-.977 1.38-1.824 2.305-2.49L8.25 6.31V9c0 .116.028.23.08.335l3 6c.1.2.282.343.498.394.057.01.115.02.172.02.16 0 .32-.06.45-.15l4-3c.167-.13.275-.32.296-.53l.283-2.746 2.83-.543c.404.99.632 2.075.632 3.21 0 4.688-3.814 8.5-8.5 8.5M3.92 9.37l1.258 2.65-1.172 2.848C3.686 13.97 3.5 13.008 3.5 12c0-.92.15-1.802.422-2.63M19.138 7.4l-2.94.564c-.324.06-.57.33-.604.66l-.306 2.972-3.02 2.264L9.75 8.823V6c0-.2-.08-.39-.22-.53L8.38 4.32c1.1-.52 2.325-.82 3.62-.82 2.992 0 5.623 1.558 7.138 3.9M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2\";\nconst environment = globals;\nconst home =\n  \"M12.055 2l-11 10h1.89v9.02c0 .524.422.95.943.95h7.223V18.2H13v3.77l7.103.03h.008c.524 0 .947-.424.947-.95v-9.01l1.89-.04-10.89-10zm-.005 2.032l7.505 6.892v9.574l-5.055-.023V16.7H9.61v3.77H4.445v-9.525L12.05 4.03\";\nconst light =\n  \"M12 8V4.773l6.48 4.078.018 6.3L12 19.23V16l2-2-4-4 2-2zm0 13l8-5.02-.02-7.96L12 3 4.063 8 4 16l8 5z\";\nconst link = [\n  \"M13.836 15.767h-.749c-.05 0-.105 0-.155-.01a3.425 3.425 0 0 1-.935-.151 3.772 3.772 0 0 1-1.918-1.346 3.146 3.146 0 0 1-.321-.502 2.998 2.998 0 0 1-.216-.502c-.146-.393-.222-.814-.222-1.256s.076-.864.222-1.256h1.37c.096 0 .186.01.277.03a2.264 2.264 0 0 0 0 2.45c.1.152.216.293.351.418.136.13.286.241.457.337.321.176.693.281 1.09.281h3.516c1.245 0 2.26-1.014 2.26-2.26s-1.015-2.26-2.26-2.26h-1.487a4.758 4.758 0 0 0-1.28-1.507h2.767a3.768 3.768 0 0 1 0 7.534h-2.767z\",\n  \"M12.46 10.358a2.156 2.156 0 0 0-.462-.336 2.198 2.198 0 0 0-1.085-.282H7.397c-1.245 0-2.26 1.014-2.26 2.26s1.015 2.26 2.26 2.26h1.492c.316.587.753 1.1 1.275 1.507H7.397a3.768 3.768 0 0 1 0-7.534h3.516c.055 0 .105 0 .156.01.321.005.632.06.929.15a3.73 3.73 0 0 1 1.918 1.347c.13.16.236.326.327.502.085.16.16.326.216.502.146.391.22.814.22 1.256s-.074.863-.22 1.255h-1.371a1.19 1.19 0 0 1-.276-.03c.23-.351.361-.773.361-1.225a2.223 2.223 0 0 0-.714-1.642z\"\n];\nconst molecules =\n  \"M6.372 4.75h11.255v1.5H6.372zM12.9 16.172c.32.124.617.31.868.56.12.12.222.248.312.383l5.626-9.143c-.514-.06-.99-.274-1.377-.624l-5.43 8.824zM6.08 6.886c-.09.135-.193.263-.312.382-.25.25-.548.437-.87.56l5.43 8.825c.388-.35.864-.564 1.378-.624L6.08 6.883zm4.86 10.554c-.587.586-.587 1.536 0 2.12.585.587 1.535.587 2.12 0 .586-.584.586-1.534 0-2.12-.585-.586-1.535-.586-2.12 0m10.12-13c-.585-.586-1.535-.586-2.12 0-.586.586-.586 1.536 0 2.12.585.587 1.535.587 2.12 0 .587-.584.587-1.534 0-2.12m-16 0c-.585-.586-1.535-.586-2.12 0-.586.586-.586 1.536 0 2.12.585.587 1.535.587 2.12 0 .587-.584.587-1.534 0-2.12\";\nconst organisms =\n  \"M6.475 15.75c.008.084.025.165.025.25 0 .48-.142.922-.376 1.302l3.766 2.37c.287-.455.715-.808 1.224-1.002l-4.64-2.92zm11.05-.004l-4.64 2.923c.51.19.937.54 1.225 1l3.765-2.37c-.233-.38-.375-.83-.375-1.3 0-.09.017-.17.026-.26m2.454-5.25c-.564-.004-1.078-.203-1.495-.524l-.032 4.08c.417-.33.934-.54 1.505-.55l.023-3.005zm-15.973.01l.008 3c.567.003 1.083.203 1.5.524l-.01-4.042c-.418.318-.933.515-1.498.516m13.515-2.28c-.007-.08-.022-.15-.022-.22 0-.49.145-.94.386-1.32l-3.773-2.36c-.285.45-.71.81-1.22 1l4.63 2.893zm-11.046.01l4.635-2.91c-.5-.194-.93-.548-1.22-1.003L6.12 6.69c.237.383.38.83.38 1.31 0 .082-.016.16-.024.238M4 9.5c.828 0 1.5-.672 1.5-1.5S4.828 6.5 4 6.5 2.5 7.172 2.5 8 3.172 9.5 4 9.5m8-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5m-8 10c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8 5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m-8-4c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-1c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5\";\nconst pattern =\n  \"M12.75 18.948v-7.412c.846-.34 2.457-1.153 5.75-2.892v7.43l-5.75 2.874zM5.5 8.588l5.75 2.874v7.486L5.5 16.073V8.588zm6.5-3.91l5.546 2.772c-3.208 1.687-4.896 2.514-5.47 2.75l-5.56-2.78L12 4.676zm7.447 2.046l-7-3.5c-.14-.07-.294-.106-.447-.106-.153 0-.306.035-.447.106l-7 3.5c-.34.17-.553.515-.553.894v8.764c0 .38.214.725.553.894l7 3.5c.14.07.294.106.447.106.153 0 .307-.035.447-.106l7-3.5c.34-.17.553-.515.553-.894V7.618c0-.38-.214-.725-.553-.894\";\nconst patternplate = [\n  \"M12.002 20.426a1.264 1.264 0 0 1-.675-.189l-9.05-5.63a.86.86 0 1 1 .906-1.455l8.819 5.494 8.815-5.494a.86.86 0 1 1 .906 1.456l-9.047 5.643a1.267 1.267 0 0 1-.674.175z\",\n  \"M12 17.055a1.244 1.244 0 0 1-.657-.185l-8.886-5.545a1.193 1.193 0 0 1 0-2.023l8.886-5.542a1.25 1.25 0 0 1 1.314 0l8.886 5.542a1.193 1.193 0 0 1 0 2.023l-8.886 5.541a1.24 1.24 0 0 1-.657.19zm-7.99-6.742l7.99 4.98 7.99-4.98L12 5.334l-7.99 4.98z\"\n];\nconst polymers =\n  \"M6.475 15.75c.008.084.025.165.025.25 0 .48-.142.922-.376 1.302l3.766 2.37c.287-.455.715-.808 1.224-1.002l-4.64-2.92zm11.05-.004l-4.64 2.923c.51.19.937.54 1.225 1l3.765-2.37c-.233-.38-.375-.83-.375-1.3 0-.09.017-.17.026-.26m2.454-5.25c-.564-.008-1.078-.207-1.495-.528l-.032 4.08c.417-.33.934-.54 1.505-.55l.023-3.005zm-15.973.01l.008 3c.567 0 1.083.2 1.5.52l-.01-4.04c-.418.32-.933.514-1.498.515m13.515-2.28c-.007-.08-.022-.15-.022-.22 0-.49.145-.94.386-1.32l-3.773-2.36c-.285.45-.71.81-1.22 1l4.63 2.893zm-11.046.01l4.635-2.91c-.5-.194-.93-.548-1.22-1.003L6.12 6.69c.237.383.38.83.38 1.31 0 .082-.016.16-.024.238m11.064.152l-4.79 2.392v-5.41c-.238.076-.486.127-.75.127-.262 0-.51-.06-.75-.13v5.44l-4.79-2.4c-.088.51-.327.98-.68 1.34l4.512 2.26-4.502 2.24c.35.36.58.82.67 1.34l4.79-2.397v5.42c.24-.074.48-.127.75-.127s.51.05.75.126v-5.38l4.78 2.394c.077-.516.31-.983.653-1.35l-4.543-2.27 4.56-2.27c-.35-.36-.584-.827-.666-1.343M4 9.5c.828 0 1.5-.672 1.5-1.5S4.828 6.5 4 6.5 2.5 7.172 2.5 8 3.172 9.5 4 9.5m8-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5m-8 10c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8 5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m8-5c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5m0-5c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5\";\nconst react =\n  \"M 16.019531 3 C 15.671125 3.00715 15.300981 3.091375 14.921875 3.2324219 C 14.163662 3.5145156 13.340776 4.0384002 12.503906 4.7753906 C 12.340395 4.9193891 12.176009 5.0979185 12.011719 5.2578125 C 11.901617 5.1513016 11.791835 5.0267433 11.681641 4.9277344 C 10.795655 4.1316628 9.9236686 3.5712298 9.125 3.2695312 C 8.7256657 3.1186821 8.3365968 3.0284378 7.9726562 3.0195312 C 7.6087157 3.0106212 7.270437 3.0833582 6.9726562 3.2578125 C 6.3972498 3.5948924 6.0860013 4.2551581 5.9492188 5.0585938 C 5.8124361 5.8620294 5.8476604 6.8442943 6.0605469 7.9453125 C 6.1031041 8.1654193 6.1740595 8.4036874 6.2304688 8.6328125 C 5.97484 8.7063633 5.7047008 8.7722283 5.46875 8.8554688 C 4.432811 9.2209626 3.5945928 9.6796197 2.9921875 10.201172 C 2.3897822 10.722724 2 11.327349 2 11.984375 C 2 12.662118 2.4082566 13.289795 3.0429688 13.839844 C 3.6776808 14.389892 4.5645597 14.878259 5.65625 15.255859 C 5.8317684 15.316571 6.0331245 15.360088 6.21875 15.414062 C 6.1582822 15.66053 6.0832065 15.917073 6.0390625 16.152344 C 5.8346362 17.241844 5.8098143 18.204961 5.9550781 18.992188 C 6.1003415 19.779412 6.4197964 20.423275 6.9863281 20.753906 C 7.5707485 21.094948 8.3167421 21.047508 9.1054688 20.765625 C 9.8941954 20.483741 10.754805 19.951627 11.623047 19.183594 C 11.761961 19.060717 11.898899 18.906452 12.037109 18.771484 C 12.216283 18.945766 12.396455 19.138171 12.574219 19.292969 C 13.405466 20.016801 14.218158 20.522511 14.966797 20.789062 C 15.715436 21.055615 16.430103 21.095246 16.996094 20.763672 C 17.579942 20.42164 17.910332 19.748024 18.0625 18.917969 C 18.214668 18.087913 18.188624 17.069767 17.964844 15.925781 C 17.929929 15.747281 17.867388 15.554788 17.822266 15.371094 C 17.950462 15.332733 18.093563 15.303037 18.216797 15.261719 C 19.34199 14.884455 20.256474 14.401339 20.914062 13.853516 C 21.571651 13.305692 22 12.675711 22 11.984375 C 22 11.316537 21.592337 10.708795 20.972656 10.185547 C 20.352976 9.6622986 19.494727 9.2034761 18.445312 8.8378906 C 18.238082 8.7656964 18.000825 8.7093156 17.779297 8.6445312 C 17.816133 8.4924793 17.870208 8.3318492 17.900391 8.1835938 C 18.13931 7.0099907 18.183182 5.96782 18.042969 5.1191406 C 17.902756 4.2704612 17.578578 3.5803124 16.982422 3.2324219 C 16.694443 3.0643682 16.367938 2.9928547 16.019531 3 z M 16.023438 3.8652344 C 16.246408 3.8595757 16.422746 3.9010322 16.548828 3.9746094 C 16.815675 4.1303292 17.07873 4.5521623 17.195312 5.2578125 C 17.311895 5.9634627 17.281462 6.9169667 17.058594 8.0117188 C 17.032589 8.1394545 16.984815 8.2822106 16.953125 8.4140625 C 16.134284 8.2234679 15.235015 8.0912672 14.294922 8.0019531 C 13.751908 7.2186476 13.191061 6.4913648 12.617188 5.8652344 C 12.768776 5.7177962 12.922862 5.5514965 13.072266 5.4199219 C 13.849433 4.7355084 14.600382 4.2698533 15.220703 4.0390625 C 15.530864 3.9236671 15.800467 3.8708931 16.023438 3.8652344 z M 7.9667969 3.8847656 C 8.204941 3.8916645 8.4921202 3.9495056 8.8222656 4.0742188 C 9.4825566 4.3236447 10.28203 4.8247788 11.107422 5.5664062 C 11.205243 5.6542984 11.305753 5.7681072 11.404297 5.8632812 C 10.828373 6.4891798 10.260402 7.2150849 9.7109375 8 C 8.7742691 8.0878313 7.878881 8.2210717 7.0605469 8.4082031 C 7.0093893 8.1995211 6.9427183 7.979966 6.9042969 7.78125 C 6.7063246 6.7573656 6.6823383 5.8644203 6.7949219 5.203125 C 6.9075054 4.5418297 7.1543156 4.1475862 7.40625 4 C 7.5395435 3.9219104 7.7286527 3.8778668 7.9667969 3.8847656 z M 12.011719 6.4746094 C 12.406433 6.9082361 12.7994 7.4001799 13.1875 7.9238281 C 12.794349 7.9049913 12.404259 7.8808594 12 7.8808594 C 11.601264 7.8808594 11.215567 7.9055035 10.826172 7.9238281 C 11.218061 7.4011371 11.614064 6.9090918 12.011719 6.4746094 z M 12 8.7402344 C 12.62139 8.7402344 13.227614 8.7668454 13.818359 8.8125 C 14.151039 9.3088157 14.475839 9.8245485 14.785156 10.365234 C 15.09578 10.908201 15.379531 11.451329 15.642578 11.990234 C 15.381336 12.536206 15.099335 13.084929 14.787109 13.632812 C 14.47815 14.17496 14.155199 14.694701 13.826172 15.193359 C 13.231026 15.236716 12.621925 15.263672 12 15.263672 C 11.385158 15.263672 10.783354 15.241979 10.195312 15.203125 C 9.857099 14.704207 9.5270761 14.182489 9.2148438 13.636719 C 8.9026472 13.090995 8.6226165 12.543692 8.3652344 12.001953 C 8.6223479 11.459349 8.9033118 10.912375 9.2128906 10.369141 C 9.5231725 9.8246773 9.8493881 9.3072485 10.183594 8.8125 C 10.77474 8.7671354 11.382161 8.7402344 12 8.7402344 z M 9.0917969 8.9335938 C 8.8809698 9.2664173 8.6672078 9.5936441 8.4667969 9.9453125 C 8.26942 10.29166 8.0992881 10.639079 7.921875 10.986328 C 7.6728423 10.387485 7.4513424 9.8008736 7.2792969 9.2402344 C 7.8448649 9.1122912 8.4555981 9.0142998 9.0917969 8.9335938 z M 14.912109 8.9335938 C 15.551594 9.0156474 16.16691 9.1173252 16.734375 9.2480469 C 16.562073 9.8064733 16.34146 10.391171 16.089844 10.988281 C 15.90762 10.63874 15.729215 10.288907 15.529297 9.9394531 C 15.33083 9.5925325 15.120651 9.264526 14.912109 8.9335938 z M 6.4472656 9.4648438 C 6.6951622 10.278405 7.0319189 11.134632 7.4277344 12.003906 C 7.026288 12.886892 6.6864667 13.756169 6.4355469 14.582031 C 6.272336 14.53433 6.0902943 14.49621 5.9375 14.443359 C 4.9277033 14.094085 4.1309727 13.643168 3.6074219 13.189453 C 3.0838711 12.735738 2.859375 12.295484 2.859375 11.984375 C 2.859375 11.681865 3.0645925 11.275878 3.5546875 10.851562 C 4.0447825 10.427248 4.7971191 10.004273 5.7558594 9.6660156 C 5.9674342 9.5913747 6.2155634 9.5317521 6.4472656 9.4648438 z M 17.5625 9.4765625 C 17.761147 9.5349289 17.977705 9.5841952 18.162109 9.6484375 C 19.135811 9.987647 19.909923 10.414765 20.417969 10.84375 C 20.926014 11.272735 21.140625 11.684825 21.140625 11.984375 C 21.140625 12.30116 20.909935 12.739581 20.365234 13.193359 C 19.820534 13.647138 18.990692 14.096108 17.943359 14.447266 C 17.839835 14.481976 17.715549 14.506445 17.607422 14.539062 C 17.350826 13.718687 16.99339 12.85937 16.583984 11.988281 C 16.977973 11.130028 17.315538 10.284009 17.5625 9.4765625 z M 16.097656 12.992188 C 16.360815 13.600657 16.599902 14.199577 16.779297 14.767578 C 16.197615 14.901882 15.568725 15.005518 14.908203 15.085938 C 15.119082 14.747835 15.331463 14.412597 15.533203 14.058594 C 15.735416 13.703757 15.915097 13.347868 16.097656 12.992188 z M 7.921875 13.021484 C 8.1000429 13.369168 8.2716246 13.716461 8.4707031 14.064453 C 8.6760168 14.423334 8.8964141 14.759151 9.1132812 15.099609 C 8.4651932 15.026399 7.8402627 14.934137 7.2675781 14.808594 C 7.4427132 14.236002 7.6671378 13.634621 7.921875 13.021484 z M 16.994141 15.599609 C 17.033614 15.76138 17.090652 15.934214 17.121094 16.089844 C 17.32857 17.150499 17.342782 18.076459 17.216797 18.763672 C 17.090815 19.450885 16.824358 19.868082 16.5625 20.021484 C 16.307877 20.17065 15.861548 20.194868 15.253906 19.978516 C 14.646267 19.762166 13.908649 19.315011 13.138672 18.644531 C 12.976886 18.503647 12.809552 18.324509 12.644531 18.164062 C 13.213719 17.533605 13.768067 16.796304 14.304688 16.009766 C 15.256548 15.924226 16.164838 15.793207 16.994141 15.599609 z M 7.046875 15.644531 C 7.8734712 15.828556 8.7843105 15.944441 9.7285156 16.021484 C 10.281098 16.80836 10.851201 17.535739 11.429688 18.164062 C 11.304718 18.286056 11.178838 18.429245 11.054688 18.539062 C 10.250844 19.250131 9.4655785 19.725022 8.8164062 19.957031 C 8.1672342 20.18904 7.6820257 20.164669 7.4199219 20.011719 C 7.1650564 19.862976 6.9174785 19.478939 6.7988281 18.835938 C 6.6801777 18.192936 6.695132 17.321208 6.8847656 16.310547 C 6.9241429 16.100681 6.9927179 15.866659 7.046875 15.644531 z M 13.201172 16.083984 C 12.816824 16.612397 12.428545 17.113513 12.037109 17.550781 C 11.636336 17.112875 11.235674 16.616934 10.839844 16.089844 C 11.2244 16.104917 11.606956 16.123047 12 16.123047 C 12.406689 16.123047 12.803605 16.101833 13.201172 16.083984 z\";\nconst reload =\n  \"M17.266 6.664C15.91 5.327 14.05 4.5 12 4.5c-4.135 0-7.5 3.365-7.5 7.5s3.365 7.5 7.5 7.5 7.5-3.365 7.5-7.5c0-.544-.058-1.074-.168-1.586h1.53C20.95 10.93 21 11.46 21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.453 0 4.677.98 6.3 2.572v-.986h1.5v3.578h-3.578v-1.5h1.044zM12 13.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5c.828 0 1.5.673 1.5 1.5s-.672 1.5-1.5 1.5z\";\nconst rulers =\n  \"M21 7H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm-.5 8.5H18V13h-1.5v2.5h-2V13H13v2.5h-2V13H9.5v2.5h-2V13H6v2.5H3.5v-7h17z\";\nconst search =\n  \"M8.65 14.248c-.376-.46-.697-.962-.955-1.496-.335-.695-.56-1.44-.668-2.205-.11-.787-.096-1.59.044-2.373.13-.726.37-1.432.71-2.09.75-1.448 1.96-2.636 3.43-3.343.64-.3 1.32-.52 2.02-.64.35-.05.69-.08 1.04-.09h.29c.35.01.7.03 1.04.09.7.11 1.39.32 2.03.62 1.53.717 2.8 1.95 3.55 3.466.32.63.54 1.31.67 2.006.14.78.16 1.584.05 2.37-.106.76-.332 1.51-.667 2.204-.393.81-.933 1.55-1.586 2.174-.675.643-1.472 1.16-2.34 1.515-.895.365-1.862.553-2.832.553s-1.933-.186-2.83-.553c-.684-.28-1.325-.66-1.9-1.13-2.09 2.21-4.294 4.307-6.437 6.464-.09.08-.186.15-.3.187-.1.034-.205.046-.31.035-.072-.01-.145-.03-.213-.058-.308-.13-.497-.455-.454-.79.02-.15.088-.28.184-.395 2.09-2.23 4.3-4.343 6.46-6.506zM14.377 3.5c-.28.006-.56.027-.836.07-.56.085-1.1.25-1.62.49-1.16.542-2.13 1.457-2.74 2.58-.28.518-.48 1.075-.6 1.65-.13.65-.15 1.318-.07 1.974.08.612.25 1.21.52 1.77.31.655.73 1.253 1.25 1.758.54.523 1.17.945 1.86 1.236.715.302 1.486.462 2.26.472.777.01 1.554-.13 2.277-.416.695-.275 1.34-.682 1.885-1.192.53-.492.97-1.08 1.29-1.726.276-.55.464-1.144.557-1.753.1-.63.09-1.273-.01-1.9-.094-.56-.266-1.103-.51-1.613-.58-1.197-1.555-2.185-2.744-2.776-.505-.252-1.047-.43-1.603-.53-.273-.05-.55-.077-.83-.09-.1-.003-.204-.004-.31-.004z\";\n\nconst atoms = [\n  \"M12 3c-1.39 0-2.7.324-3.874.886.355.357.608.807.75 1.305.952-.436 2.008-.69 3.124-.69 4.135 0 7.5 3.367 7.5 7.5s-3.365 7.5-7.5 7.5-7.5-3.363-7.5-7.5c0-1.114.252-2.17.69-3.123-.497-.14-.947-.395-1.304-.75C3.324 9.3 3 10.612 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9-4.03-9-9-9\",\n  \"M13.5 12c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5.672 1.5 1.5 1.5 1.5-.672 1.5-1.5M6 7.5c.828 0 1.5-.672 1.5-1.5S6.828 4.5 6 4.5 4.5 5.172 4.5 6 5.172 7.5 6 7.5\"\n];\n\nconst arrowDoubleLeft = [\n  \"M7.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\",\n  \"M12.452 13.233c-.14-.148-.258-.31-.344-.494-.215-.465-.215-1.01 0-1.475.085-.184.203-.346.343-.494l3.543-3.544 1.06 1.06c-1.183 1.186-2.46 2.285-3.55 3.558-.058.075-.073.175-.033.262.013.03.033.054.056.078l3.527 3.527-1.06 1.06-3.54-3.54z\"\n];\n\nconst arrowDoubleRight = [\n  \"M16.548 10.767c.14.147.258.31.344.494.215.464.215 1.01 0 1.474-.085.185-.203.347-.343.494l-3.543 3.546-1.06-1.06c1.183-1.186 2.46-2.285 3.55-3.558.058-.075.073-.176.033-.262-.013-.03-.033-.055-.056-.08L11.947 8.29l1.06-1.06 3.54 3.54z\",\n  \"M11.548 10.767c.14.147.258.31.344.494.215.464.215 1.01 0 1.474-.085.185-.203.347-.343.494l-3.543 3.546-1.06-1.06c1.183-1.186 2.46-2.285 3.55-3.558.058-.075.073-.176.033-.262-.013-.03-.033-.055-.056-.08L6.947 8.29l1.06-1.06 3.54 3.54z\"\n];\n\nconst folderOpen = [\n  {\n    d:\n      \"M20 18H4V9h5v3h11v6zM10.5 7.5v-3h-8v14c0 .552.448 1 1 1h17c.552 0 1-.448 1-1v-11h-11z\"\n  }\n];\n\nconst documentation = [\n  \"M18.375 16.625h-9v-13h9v13zm-10.5-14.5v15c0 .552.447 1 1 1h11v-16h-12z\",\n  \"M14.125 20.375h-8.25c-.137 0-.25-.112-.25-.25V6.875h1.25v-1.5h-2.75v14.75c0 .965.786 1.75 1.75 1.75h9.75v-2.75h-1.5v1.25z\",\n  {\n    tagName: \"circle\",\n    cx: 14,\n    cy: 6.5,\n    r: 1.5\n  },\n  \"M14.75 9h.75v1.5h-.75v3H16V15h-4v-1.5h1.25v-3h-.75V9h.75v-.004h1.5V9z\"\n];\n\nconst issue = [\n  \"M19.98 10.99l-2.647-5.295c-.385-.77-1.158-1.248-2.02-1.248h-6.63c-.858 0-1.633.48-2.018 1.248L4.018 10.99c-.156.313-.238.66-.238 1.01s.082.697.237 1.01l2.648 5.295c.385.77 1.16 1.248 2.02 1.248h6.63c.86 0 1.633-.48 2.018-1.247l2.647-5.296c.156-.312.24-.66.24-1.01s-.083-.697-.24-1.01zm-1.34 1.35l-2.648 5.295c-.127.256-.39.418-.677.418h-6.63c-.287 0-.55-.162-.677-.418L5.36 12.34c-.053-.11-.08-.225-.08-.34 0-.116.026-.23.08-.338l2.647-5.297c.128-.256.39-.418.677-.418h6.63c.287 0 .55.162.677.418l2.65 5.297c.053.106.08.222.08.338 0 .115-.027.23-.08.34z\",\n  {\n    tagName: \"circle\",\n    cx: 12,\n    cy: 15,\n    r: 1.5\n  },\n  \"M11.25 7.474h1.5v4.5h-1.5z\"\n];\n\nconst command = [\n  \"M20.5 5.5h-17c-.55 0-1 .45-1 1v11c0 .552.45 1 1 1h17c.552 0 1-.448 1-1v-11c0-.55-.448-1-1-1zM20 17H4V7h16v10z\",\n  \"M8.375 14.25h7.25v1.5h-7.25zm-2.875-6H7v1.5H5.5zm2.875 0h1.5v1.5h-1.5zm2.875 0h1.5v1.5h-1.5zm5.75 0h1.5v1.5H17zm-2.875 0h1.5v1.5h-1.5zm-4.313 3h1.5v1.5h-1.5zm2.876 0h1.5v1.5h-1.5zm-7.188 0h2.938v1.5H5.5zm10.078 0h2.938v1.5h-2.938zm-10.078 3H7v1.5H5.5zm11.516 0h1.5v1.5h-1.5z\"\n];\n\nconst placeholder = [\n  {\n    tagName: \"rect\",\n    x: 0,\n    y: 0,\n    width: 24,\n    height: 24\n  }\n];\n\nconst hamburger = [\n  \"M7.86 12.83V11.53c0-.24.193-.433.432-.433h12.12c.239 0 .433.194.433.433v1.299c0 .24-.194.433-.432.433H8.292a.433.433 0 0 1-.432-.433zm0 5.194v-1.299c0-.24.193-.433.432-.433h12.12c.239 0 .433.194.433.433v1.299c0 .24-.194.432-.432.432H8.292a.433.433 0 0 1-.432-.432zm0-10.388V6.337c0-.24.193-.432.432-.432h12.12c.239 0 .433.193.433.432v1.299c0 .24-.194.433-.432.433H8.292a.433.433 0 0 1-.432-.433zM3.315 13.05v-1.74a.43.43 0 0 1 .43-.428h1.738a.43.43 0 0 1 .43.429v1.74a.43.43 0 0 1-.43.428H3.744a.43.43 0 0 1-.429-.429zm0 5.194v-1.74a.43.43 0 0 1 .43-.428h1.738a.43.43 0 0 1 .43.429v1.74a.43.43 0 0 1-.43.428H3.744a.43.43 0 0 1-.429-.429zm0-10.388V6.117a.43.43 0 0 1 .43-.429h1.738a.43.43 0 0 1 .43.43v1.738a.43.43 0 0 1-.43.43H3.744a.43.43 0 0 1-.429-.43z\"\n];\n\nconst icons = {\n  \"arrow-double-left\": () => arrowDoubleLeft,\n  \"arrow-double-right\": () => arrowDoubleRight,\n  \"arrow-down\": () => arrowDown,\n  \"arrow-left\": () => arrowLeft,\n  \"arrow-right\": () => arrowRight,\n  atoms: () => atoms,\n  \"checkers-inverted\": () => checkers(true),\n  checkers: () => checkers(),\n  close: () => close,\n  code: () => code,\n  command: () => command,\n  dark: () => dark,\n  dependencies: () => dependencies,\n  documentation: () => documentation,\n  doc: () => documentation,\n  ecospheres: () => ecospheres,\n  \"external-link\": () => externalLink,\n  environment: () => environment,\n  placeholder: () => placeholder,\n  \"folder-open\": () => folderOpen,\n  folder: () => folder,\n  fullscreen: () => fullscreen,\n  globals: () => globals,\n  hamburger: () => hamburger,\n  home: () => home,\n  issue: () => issue,\n  light: () => light,\n  link: () => link,\n  molecules: () => molecules,\n  organisms: () => organisms,\n  pattern: () => pattern,\n  patternplate: () => patternplate,\n  polymers: () => polymers,\n  react: () => react,\n  reload: () => reload,\n  rulers: () => rulers,\n  search: () => search\n};\n\nfunction checkers(inverted) {\n  const length = 20;\n  const count = 5;\n  const dim = length / count;\n  const offset = (24 - length) / 2;\n  const field = count * count / 2;\n\n  const fields = range(count * count)\n    .map((_, i) => {\n      const x = i % count;\n      const y = (i - x) / count;\n\n      const filled = y % 2 === 0 ? x % 2 === 0 : x % 2 !== 0;\n\n      if (!filled) {\n        return null;\n      }\n\n      const product = (y + 1) * (x + 1);\n      const inArea = inverted ? true : product <= field;\n\n      if (!inArea) {\n        return null;\n      }\n\n      return rect({\n        x: offset + x * dim,\n        y: offset + y * dim,\n        width: dim,\n        height: dim\n      });\n    })\n    .filter(Boolean);\n\n  return joinPaths(fields);\n}\n\nfunction rect(props) {\n  const p = omit(props, [\"width\", \"height\", \"x\", \"y\"]);\n  const d = `M${props.x},${props.y}h${props.width}v${props.height}h-${props.width}z`;\n  return merge({}, p, { d });\n}\n\nfunction range(count) {\n  return Array(count).fill(true);\n}\n\nfunction joinPaths(paths) {\n  const d = paths.map(path => path.d).join(\"\");\n  return [\n    {\n      d\n    }\n  ];\n}\n\nconst iconNames = Object.keys(icons);\n\n/**\n * Export ALL THE THINGS\n */\nmodule.exports = withSideEffect(toState, onChange)(Icon);\n\nmodule.exports.symbols = iconNames;\n\nmodule.exports.Symbol = Symbol;\n\nmodule.exports.definitions = {\n  patternplate\n};\n/**\n * Export ALL THE THINGS\n */\n\nfunction toState(propsList) {\n  const list = propsList.map(item => item.symbol).sort();\n  const symbols = uniq(list);\n  return <IconRegistry symbols={symbols} />;\n}\n\nfunction onChange(registry) {\n  const element = getRegistryMountPoint();\n  ReactDOM.render(registry, element);\n}\n\nfunction getRegistryMountPoint() {\n  const { document } = global;\n  const found = document.querySelector(\"[data-icon-registry]\");\n  if (found) {\n    return found;\n  }\n\n  const created = document.createElement(\"div\");\n  created.setAttribute(\"data-icon-registry\", true);\n  document.body.appendChild(created);\n  return created;\n}\n\nconst SIZES = {\n  s: '14px',\n  m: '22px',\n  l: '38px',\n  text: '.8em'\n};\n\nfunction Icon(props) {\n  return (\n    <StyledIcon className={props.className} size={props.size} inline={props.inline}>\n      <use\n        title={props.title}\n        xlinkHref={`#${props.symbol || \"placeholder\"}`}\n      />\n    </StyledIcon>\n  );\n}\n\nIcon.defaultProps = {\n  size: \"m\",\n  symbol: \"placeholder\"\n};\n\nconst StyledIcon = styled.svg`\n  display: ${props => props.inline ? 'inline-flex' : 'flex'};\n  flex-shrink: 0;\n  width: ${props => SIZES[props.size]};\n  height: ${props => SIZES[props.size]};\n  justify-content: center;\n  align-items: center;\n  color: inherit;\n  fill: currentColor;\n`;\n\nfunction IconRegistry(props) {\n  return (\n    <StyledRegistry>\n      {props.symbols.map(symbol => {\n        const creator =\n          typeof icons[symbol] === \"function\"\n            ? icons[symbol]\n            : icons.placeholder;\n\n        const paths = creator();\n        return <Symbol key={symbol} id={symbol} definition={paths} />;\n      })}\n    </StyledRegistry>\n  );\n}\n\nIconRegistry.defaultProps = {\n  symbols: []\n};\n\nconst StyledRegistry = styled.svg`\n  position: fixed;\n  height: 0;\n  width: 0;\n  overflow: hidden;\n  padding: 0;\n  visibility: hidden;\n`;\n\nfunction Symbol(props) {\n  const paths = Array.isArray(props.definition)\n    ? props.definition\n    : [props.definition];\n\n  if (props.emit) {\n    return (\n      <g style={props.style}>\n        {paths.map(p => <Path key={p} definition={p} />)}\n      </g>\n    );\n  }\n\n  return (\n    <symbol className={props.className} id={props.id} viewBox=\"0 0 24 24\">\n      {paths.map(p => <Path key={p} definition={p} />)}\n    </symbol>\n  );\n}\n\nfunction Path(props) {\n  const { definition } = props;\n  const def = typeof definition === \"string\" ? { d: definition } : definition;\n  const p = omit(def, [\"tagName\"]);\n  const Component = def.tagName || \"path\";\n  return <Component {...p} />;\n}\n","module.exports = {\n  Button: require(\"./button\"),\n  CodePane: require(\"./code-pane\"),\n  css: require(\"styled-components\").css,\n  Flag: require(\"./flag\"),\n  Headline: require(\"./headline\"),\n  Icon: require(\"./icon\"),\n  IconDefinitions: require(\"./icon\").definitions,\n  InnerInfoPane: require(\"./info-pane\").InnerInfoPane,\n  InfoPane: require(\"./info-pane\"),\n  injectGlobal: require(\"styled-components\").injectGlobal,\n  injection: require(\"./injection\"),\n  keyframes: require(\"styled-components\").keyframes,\n  Link: require(\"./link\"),\n  Logo: require(\"./logo\"),\n  MainHeader: require(\"./main-header\"),\n  MainNavigation: require(\"./main-navigation\"),\n  Markdown: require(\"./markdown\"),\n  NavigationItem: require(\"./navigation-item\"),\n  NavigationLabel: require(\"./navigation-label\"),\n  NavigationToolbar: require(\"./navigation-toolbar\"),\n  NavigationTree: require(\"./navigation-tree\"),\n  Search: {\n    Search: require(\"./search\").default,\n    SearchResult: require(\"./search\").SearchResult,\n    SearchResultList: require(\"./search\").SearchResultList,\n    SearchResultHeading: require(\"./search\").SearchResultHeading,\n    SearchResultPreview: require(\"./search\").SearchResultPreview,\n    SearchFieldSlot: require(\"./search\").SearchFieldSlot,\n    PassThroughSlot: require(\"./search\").PassThroughSlot,\n    Close: require(\"./search\").Close\n  },\n  SearchField: require(\"./search-field\"),\n  ServerStyleSheet: require(\"styled-components\").ServerStyleSheet,\n  styled: require(\"styled-components\").default,\n  StyleSheetManager: require(\"styled-components\").StyleSheetManager,\n  Symbol: require(\"./icon\").Symbol,\n  Tag: require(\"./tag\"),\n  ThemeProvider: require(\"styled-components\").ThemeProvider,\n  Text: require(\"./text\"),\n  themes: require(\"./themes\"),\n  svg: require(\"./svg\")\n};\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst semver = require(\"semver\");\nconst text = require(\"react-addons-text-content\");\nconst { omit } = require(\"lodash\");\n\nconst Code = require(\"../code\");\nconst Link = require(\"../link\");\nconst Flag = require(\"../flag\");\nconst Icon = require(\"../icon\");\nconst Text = require(\"../text\");\n\nmodule.exports = InfoPane;\nmodule.exports.InnerInfoPane = InnerInfoPane;\n\nconst BORDER_RADIUS = 10;\n\nconst StyledInfoPane = styled.div`\n  position: relative;\n  width: 300px;\n  min-height: 300px;\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: ${props =>\n    props.hermit\n      ? `${BORDER_RADIUS}px`\n      : `${BORDER_RADIUS}px 0 0 ${BORDER_RADIUS}px`};\n  border-right: 1px solid ${props => props.theme.colors.border};\n  border-right-width: ${props => (props.hermit ? 0 : 1)}px;\n  overflow: scroll;\n  overflow-x: hidden;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledInnerPane = styled.div`\n  position: relative;\n  z-index: 1;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledName = styled.div`\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex: 0 0 auto;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px 15px 0 15px;\n`;\n\nconst StyledToolbar = styled.div`\n  display: flex;\n  position: relative;\n  z-index: 1;\n  align-items: center;\n  padding: 0 15px 10px 15px;\n`;\n\nconst StyledDisplayName = styled(Text)`\n  flex: 1 0 auto;\n  color: ${props => props.theme.colors.color};\n  margin-right: 10px;\n`;\n\nconst StyledId = styled(Text)`\n  flex: 0 1 auto;\n  color: ${props => props.theme.colors.recess};\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst StyledData = styled.table`\n  position: relative;\n  z-index: 1;\n  flex: 0 0 auto;\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n`;\n\nconst StyledDataCell = styled.td`\n  box-sizing: border-box;\n  height: 30px;\n  padding: 4px 6px;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  &:first-child {\n    padding-left: 20px;\n  }\n  &:last-child {\n    text-align: right;\n    padding-right: 15px;\n  }\n`;\n\nconst StyledKey = styled(Text)`\n  font-weight: bold;\n  color: ${props => props.theme.colors.color};\n`;\n\nfunction SearchTrigger(props) {\n  return (\n    <Link\n      className={props.className}\n      query={{\n        \"search-enabled\": true,\n        search: `${props.field}=${props.search}`\n      }}\n      title={`Search other patterns with ${props.field} \"${props.search}\"`}\n    >\n      {props.children}\n    </Link>\n  );\n}\n\nconst VERSION_COLOR = props => {\n  const v = text(props.children);\n  if (!semver.valid(v)) {\n    return props.theme.colors.error;\n  }\n  if (semver.satisfies(v, \"<=0.1\")) {\n    return props.theme.colors.error;\n  }\n  if (semver.satisfies(v, \"> 0.1 < 1\")) {\n    return props.theme.colors.color;\n  }\n  return props.theme.colors.success;\n};\n\nconst StyledVersion = styled(Version)`\n  color: ${VERSION_COLOR};\n  &:link,\n  &:visited {\n    text-decoration: none;\n    color: ${VERSION_COLOR};\n  }\n`;\n\nconst StyledTag = styled(Tag)`\n  display: inline-block;\n  padding: 2px 4px;\n  margin-top: 1.5px;\n  margin-bottom: 1.5px;\n  border: 1px solid ${props => props.theme.colors.color};\n  border-radius: 3px;\n  &:link,\n  &:visited,\n  &:active {\n    text-decoration: none;\n    color: ${props => props.theme.colors.color};\n  }\n  &:nth-child(2n) {\n    margin-left: 3px;\n  }\n`;\n\nconst StyledToggleHead = styled(ToggleHead)`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  font-weight: bold;\n  color: ${props => props.theme.colors.color};\n  padding: 3px 15px 3px 20px;\n  box-sizing: border-box;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  cursor: pointer;\n`;\n\nconst StyledToggleBody = styled.div`\n  display: flex;\n  color: ${props => props.theme.colors.color};\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 15px 5px 20px;\n  box-sizing: border-box;\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledCode = styled(Code)`\n  width: 100%;\n`;\n\nfunction InfoPane(props) {\n  const { className } = props;\n  const innerProps = omit(props, [\"className\"]);\n\n  return (\n    <StyledInfoPane className={className} hermit={props.hermit}>\n      <InnerInfoPane {...innerProps} standalone />\n    </StyledInfoPane>\n  );\n}\n\nfunction InnerInfoPane(props) {\n  return (\n    <StyledInnerPane standalone={props.standalone} className={props.className}>\n      <StyledName>\n        <StyledDisplayName>{props.name}</StyledDisplayName>\n        <StyledId>{props.id}</StyledId>\n      </StyledName>\n      {props.children && <StyledToolbar>{props.children}</StyledToolbar>}\n      <StyledData>\n        <tbody>\n          <tr>\n            <StyledDataCell>\n              <StyledKey>Version</StyledKey>\n            </StyledDataCell>\n            <StyledDataCell>\n              <StyledVersion field=\"version\" search={props.version}>\n                {props.version}\n              </StyledVersion>\n            </StyledDataCell>\n          </tr>\n          <tr>\n            <StyledDataCell>\n              <StyledKey>Flag</StyledKey>\n            </StyledDataCell>\n            <StyledDataCell>\n              <SearchTrigger field=\"flag\" search={props.flag}>\n                <Flag>{props.flag}</Flag>\n              </SearchTrigger>\n            </StyledDataCell>\n          </tr>\n          {has(props.tags) && (\n            <tr>\n              <StyledDataCell>\n                <StyledKey>Tags</StyledKey>\n              </StyledDataCell>\n              <StyledDataCell>\n                {props.tags.map(t => <StyledTag key={t} tag={t} />)}\n              </StyledDataCell>\n            </tr>\n          )}\n          {has(props.envs) &&\n            props.envs.length > 1 && (\n              <tr>\n                <StyledDataCell>\n                  <StyledKey>Environment</StyledKey>\n                </StyledDataCell>\n                <StyledDataCell>\n                  <Select\n                    name=\"environment\"\n                    onChange={props.onEnvChange}\n                    value={props.env.name}\n                  >\n                    {props.envs.map(e => (\n                      <option key={e.name} value={e.name}>\n                        {e.displayName}\n                      </option>\n                    ))}\n                  </Select>\n                </StyledDataCell>\n              </tr>\n            )}\n        </tbody>\n      </StyledData>\n      {has(props.dependencies) && (\n        <Toggle\n          head={`Dependencies (${props.dependencies.length})`}\n          enabled={props.dependenciesEnabled}\n          name=\"dependencies\"\n        >\n          <PatternList>\n            {props.dependencies.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.dependents) && (\n        <Toggle\n          head={`Dependents (${props.dependents.length})`}\n          enabled={props.dependentsEnabled}\n          name=\"dependents\"\n        >\n          <PatternList>\n            {props.dependents.map(d => <PatternItem key={d.id} pattern={d} />)}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.demoDependencies) && (\n        <Toggle\n          head={`Demo Dependencies (${props.demoDependencies.length})`}\n          enabled={props.demoDependenciesEnabled}\n          name=\"demo-dependencies\"\n        >\n          <PatternList>\n            {props.demoDependencies.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      {has(props.demoDependents) && (\n        <Toggle\n          head={`Demo Dependents (${props.demoDependents.length})`}\n          enabled={props.demoDependentsEnabled}\n          name=\"demo-dependents\"\n        >\n          <PatternList>\n            {props.demoDependents.map(d => (\n              <PatternItem key={d.id} pattern={d} />\n            ))}\n          </PatternList>\n        </Toggle>\n      )}\n      <Toggle head=\"Manifest\" enabled={props.manifestEnabled} name=\"manifest\">\n        <StyledCode block language=\"json\">\n          {props.manifest}\n        </StyledCode>\n      </Toggle>\n    </StyledInnerPane>\n  );\n}\n\nconst StyledSelectContainer = styled.div`\n  position: relative;\n  &::after {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    z-index: 1;\n    content: \"▼\";\n    font-size: 0.8em;\n    color: ${props => props.theme.colors.color};\n    transform: translateY(-50%);\n  }\n`;\n\nconst StyledSelect = styled.select`\n  position: relative;\n  z-index: 2;\n  appearance: none;\n  color: ${props => props.theme.colors.color};\n  background: transparent;\n  font-size: 16px;\n  border: none;\n  border-radius: none;\n  padding-right: 20px;\n  &:focus {\n    outline: none;\n  }\n`;\n\nfunction Select(props) {\n  return (\n    <StyledSelectContainer className={props.className}>\n      <StyledSelect onChange={props.onChange} value={props.value}>\n        {props.children}\n      </StyledSelect>\n    </StyledSelectContainer>\n  );\n}\n\nfunction Version(props) {\n  return (\n    <SearchTrigger\n      className={props.className}\n      search={props.search}\n      field=\"version\"\n    >\n      <Text>{props.search}</Text>\n    </SearchTrigger>\n  );\n}\n\nfunction Tag(props) {\n  return (\n    <SearchTrigger className={props.className} search={props.tag} field=\"tags\">\n      <Text>{props.tag}</Text>\n    </SearchTrigger>\n  );\n}\n\nconst StyledArrow = styled(Text)`\n  font-size: 0.8em;\n  transform: ${props => (props.rotated ? `rotate(0deg)` : `rotate(-90deg)`)};\n`;\n\nconst StyledHead = styled(Link)`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  text-decoration: none;\n`;\n\nfunction ToggleHead(props) {\n  const query = { [`${props.name}-enabled`]: !props.enabled };\n  return (\n    <StyledHead\n      query={query}\n      className={props.className}\n      title={`${props.enabled ? \"Hide\" : \"Show\"} ${props.name}`}\n    >\n      <Text>{props.children}</Text>\n      <StyledArrow rotated={props.enabled}>▼</StyledArrow>\n    </StyledHead>\n  );\n}\n\nconst StyledPatternList = styled.div`\n  width: 100%;\n`;\n\nfunction PatternList(props) {\n  return <StyledPatternList>{props.children}</StyledPatternList>;\n}\n\nconst StyledPatternItem = styled(Link)`\n  display: block;\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  padding: 3px 0;\n`;\n\nfunction PatternItem(props) {\n  return (\n    <StyledPatternItem\n      href={`pattern/${props.pattern.id}`}\n      data-id={props.pattern.id}\n    >\n      <Text>{props.pattern.manifest.displayName}</Text>\n    </StyledPatternItem>\n  );\n}\n\nconst StyledToggle = styled.div`\n  position: relative;\n  z-index: 1;\n  flex: 1 1 auto;\n  min-height: 30px;\n`;\n\nfunction Toggle(props) {\n  return (\n    <StyledToggle>\n      <StyledToggleHead name={props.name} enabled={props.enabled}>\n        {props.head}\n      </StyledToggleHead>\n      {props.enabled && <StyledToggleBody>{props.children}</StyledToggleBody>}\n    </StyledToggle>\n  );\n}\n\nfunction has(val) {\n  return Array.isArray(val) && val.length > 0;\n}\n","const React = require(\"react\");\nconst PropTypes = require(\"prop-types\");\n\nconst childContextTypes = {\n  injections: PropTypes.arrayOf(\n    PropTypes.shape({\n      target: PropTypes.any,\n      source: PropTypes.any\n    })\n  )\n};\n\nclass InjectionProvider extends React.Component {\n  getChildContext() {\n    return { injections: this.props.injections };\n  }\n\n  render() {\n    const { props } = this;\n    return React.Children.only(props.children);\n  }\n}\n\nInjectionProvider.childContextTypes = childContextTypes;\n\nfunction inject(RawComponent) {\n  const InjectedComponent = (props, context) => {\n    const injections = Array.isArray(context.injections)\n      ? context.injections\n      : [];\n\n    const applicable = injections.find(injection => {\n      return (\n        injection.target === RawComponent ||\n        injection.target.RawComponent === RawComponent\n      );\n    });\n\n    if (!applicable) {\n      return <RawComponent {...props}>{props.children}</RawComponent>;\n    }\n\n    const Source = applicable.source;\n    return <Source {...props}>{props.children}</Source>;\n  };\n\n  InjectedComponent.RawComponent = RawComponent;\n  InjectedComponent.contextTypes = childContextTypes;\n  return InjectedComponent;\n}\n\nmodule.exports.InjectionProvider = InjectionProvider;\nmodule.exports.inject = inject;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\nconst inject = require(\"../injection\").inject;\n\nclass Link extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    if (typeof this.props.onClick === \"function\") {\n      this.props.onClick(e);\n    }\n  }\n\n  render() {\n    const { props } = this;\n    const target = selectTarget(props);\n    return (\n      <a\n        target={target}\n        rel={target === \"_blank\" ? \"noopener noreferrer\" : null}\n        className={props.className}\n        href={props.href}\n        onClick={this.handleClick}\n        onMouseOver={props.onHover}\n        title={props.title}\n        data-id={props[\"data-id\"]}\n      >\n        <StyledLinkContainer grow={props.grow} external={props.external}>\n          <StyledLinkLabel grow={props.grow}>{props.children}</StyledLinkLabel>\n          {props.external && props.hint && (\n            <Icon\n              symbol=\"external-link\"\n              size={props.iconSize || \"text\"}\n              inline\n              />\n          )}\n        </StyledLinkContainer>\n      </a>\n    );\n  }\n}\n\nmodule.exports = inject(Link);\nmodule.exports.RawLink = Link;\n\nLink.defaultProps = {\n  external: false,\n  onHover: () => {}\n};\n\nconst StyledLinkContainer = styled.span`\n  display: inline-flex;\n  align-items: center;\n  flex-grow: ${props => props.grow ? 1 : 0};\n  > span {\n    display: inline-flex;\n    align-items: ${props => props.external ? 'baseline': 'center'};\n  }\n  > svg {\n    margin-left: .25em;\n  }\n`;\n\nconst StyledLinkLabel = styled.span`\n  width: ${props => props.grow ? 'calc(100% - 40px)' : 'auto'};\n`;\n\nfunction selectTarget(props) {\n  if (props.target) {\n    return props.target;\n  }\n  return props.external ? \"_blank\" : null;\n};\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Link = require(\"./link\");\nconst Icon = require(\"./icon\");\nconst svg = require(\"./svg\");\n\nconst StyledLink = styled(Link)`\n  display: block;\n  margin: 0 auto;\n  &:link,\n  &:visited {\n    color: ${props => props.theme.colors.active};\n  }\n`;\n\nclass Logo extends React.Component {\n  render() {\n    const { props } = this;\n\n    if (props.source) {\n      return (\n        <div className={props.className}>\n          <StyledLink\n            dangerouslySetInnerHTML={{__html: props.source}}\n            external=\"base\"\n            href=\"/\"\n            query={null}\n            target=\"_self\"\n            >\n            <div dangerouslySetInnerHTML={{__html: props.source}}/>\n          </StyledLink>\n        </div>\n      );\n    }\n\n    return (\n      <div className={props.className}>\n        <StyledLink external=\"base\" href=\"/\" query={null} target=\"_self\">\n          <Icon symbol=\"patternplate\" size=\"l\"/>\n        </StyledLink>\n      </div>\n    );\n  }\n}\n\nmodule.exports = styled(Logo)`\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  fill: currentColor;\n  stroke: currentColor;\n  stroke-width: 0;\n  align-items: center;\n  padding: 10px;\n  background: ${props => props.theme.colors.backgroundSecondary};\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\n\nmodule.exports = MainHeader;\n\nfunction MainHeader(props) {\n  return (\n    <StyledMainHeader className={props.className} title={props.title}>\n      {props.image}\n      {props.title && <StyledTitle>{props.title}</StyledTitle>}\n    </StyledMainHeader>\n  );\n}\n\nconst StyledMainHeader = styled.div`\n  width: 100%;\n  height: auto;\n  color: ${props => props.theme.color};\n  background-color: ${props => props.theme.backgroundSecondary};\n  ${props =>\n    !props.image &&\n    `\n\t\tdisplay: flex;\n\t\tpadding: 10px 15px;\n\t\tcolor: ${props.theme.active};\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t`};\n`;\n\nconst StyledTitle = styled.span`\n  font-family: ${props => props.theme.fonts.default};\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Link = require(\"../link\");\nconst Header = require(\"../main-header\");\nconst NavigationTree = require(\"../navigation-tree\");\nconst NavigationToolbar = require(\"../navigation-toolbar\");\nconst NavigationLabel = require(\"../navigation-label\");\nconst Icon = require(\"../icon\");\n\nclass Navigation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n    this.handleScrollRequest = this.handleScrollRequest.bind(this);\n  }\n\n  handleScrollRequest(e) {\n    // noop\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  render() {\n    const { props } = this;\n    const children = React.Children.toArray(props.children);\n    const toolbar = children.find(child => child.type === NavigationToolbar);\n    const header = children.find(child => child.type === NavigationHeader);\n\n    return (\n      <StyledNavigation\n        onKeyDown={this.handleKeyDown}\n        >\n        {header ? (\n          header\n        ) : (\n          <StyledHeader\n            title={props.applicationTitle}\n            symbol=\"patternplate\"\n          />\n        )}\n        <StyledNavigationTree innerRef={this.getRef}>\n          <Documentation\n            visible={props.docs.children.length > 0}\n            active={props.active}\n            docs={props.docs}\n            onItemClick={props.onItemClick}\n            onLabelClick={props.onLabelClick}\n            onScrollRequest={this.handleScrollRequest}\n            query={props.query}\n            />\n          <NavigationLabel\n            visible={props.navigation.children.length > 0}\n            enabled={props.componentsEnabled}\n            name=\"components\"\n            highlight\n            onClick={props.onLabelClick}\n            size=\"S\"\n            >\n            Components\n          </NavigationLabel>\n          <NavigationTree\n            name=\"components\"\n            visible={props.componentsEnabled && props.navigation.children.length > 0}\n            active={props.active}\n            data={props.navigation.children}\n            onItemClick={props.onItemClick}\n            onScrollRequest={this.handleScrollRequest}\n            prefix=\"/component\"\n            query={props.query}\n            />\n        </StyledNavigationTree>\n        {toolbar && (\n          <StyledNavigationToolbar>{toolbar}</StyledNavigationToolbar>\n        )}\n      </StyledNavigation>\n    );\n  }\n}\n\nmodule.exports = Navigation;\nmodule.exports.NavigationToolbar = NavigationToolbar;\nmodule.exports.NavigationHeader = NavigationHeader;\n\nNavigation.defaultProps = {\n  tools: []\n};\n\nfunction NavigationHeader(props) {\n  return <StyledNavigatHeader>{props.children}</StyledNavigatHeader>;\n}\n\nconst StyledNavigatHeader = styled.div`\n  box-sizing: border-box;\n  min-height: 60px;\n  background: ${props => props.theme.colors.backgroundSecondary};\n`;\n\nfunction getPadding(el) {\n  const style = global.getComputedStyle(el, null);\n  return direction =>\n    parseInt(style.getPropertyValue(`padding-${direction}`), 10);\n}\n\nconst StyledHeader = styled(Header)`\n  height: 60px;\n  box-sizing: border-box;\n  flex-shrink: 0;\n`;\n\nconst StyledNavigation = styled.div`\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  position: relative;\n  background-color: ${props => props.theme.colors.background};\n`;\n\nconst PASSAGE_HEIGHT = 50;\n\nconst StyledNavigationTree = styled.div`\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n  -webkit-overflow-scroll: touch;\n  mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n  -webkit-mask-image: linear-gradient(\n    to top,\n    rgba(0, 0, 0, 0),\n    rgba(0, 0, 0, 1) ${PASSAGE_HEIGHT}px\n  );\n  & > *:last-child {\n    margin-bottom: ${PASSAGE_HEIGHT}px;\n  }\n  @media screen {\n    mask-image: none;\n    -webkit-mask-image: none;\n  }\n`;\n\nconst StyledNavigationToolbar = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n`;\n\nfunction Documentation(props) {\n  return (\n    <StyledDocumentationTree\n      visible={props.visible}\n      active={props.active}\n      data={props.docs.children}\n      onItemClick={props.onItemClick}\n      onLabelClick={props.onLabelClick}\n      onScrollRequest={props.onScrollRequest}\n      prefix=\"/doc\"\n      query={props.query}\n    />\n  );\n}\n\nconst StyledDocumentationTree = styled(NavigationTree)`\n  margin-bottom: 5px;\n  padding-bottom: 5px;\n`;\n","const frontmatter = require('front-matter');\nconst React = require('react');\nconst remark = require('remark');\nconst emoji = require('remark-gemoji-to-emoji');\nconst reactRenderer = require('remark-react');\nconst styled = require(\"styled-components\").default;\nconst vm = require(\"vm\");\nconst resizer = require(\"iframe-resizer\");\n\nconst MarkdownBlockQuote = require('./markdown-blockquote');\nconst MarkdownCode = require('./markdown-code');\nconst MarkdownCodeBlock = require('./markdown-code-block');\nconst MarkdownCopy = require('./markdown-copy');\nconst MarkdownHeadline = require('./markdown-headline');\nconst MarkdownHr = require('./markdown-hr');\nconst MarkdownImage = require('./markdown-image');\nconst MarkdownItem = require('./markdown-item');\nconst MarkdownList = require('./markdown-list');\nconst MarkdownLink = require('./markdown-link');\n\nclass Markdown extends React.Component {\n  shouldComponentUpdate(next) {\n    return this.props.source !== next.source;\n  }\n\n  render() {\n    const { props } = this;\n    const Headline = prop(\"linkable\", props.linkable)(MarkdownHeadline);\n\n    return (\n      <StyledMarkdown className={props.className}>\n        {props.source &&\n          remark()\n            .use(reactRenderer, {\n              sanitize: false,\n              remarkReactComponents: {\n                a: MarkdownLink,\n                blockquote: MarkdownBlockQuote,\n                code: MarkdownCode,\n                h1: is(\"h1\")(Headline),\n                h2: is(\"h2\")(Headline),\n                h3: is(\"h3\")(Headline),\n                h4: is(\"h4\")(Headline),\n                h5: is(\"h5\")(Headline),\n                h6: is(\"h6\")(Headline),\n                hr: MarkdownHr,\n                img: MarkdownImage,\n                li: MarkdownItem,\n                p: MarkdownCopy,\n                pre: preProps => {\n                  const [child = {}] = preProps.children;\n                  const {props: childProps = {}} = child;\n                  const {className = ''} = childProps;\n                  const type = className.replace(/^language-/, '');\n\n                  switch (type) {\n                    case 'widget': {\n                      if (typeof props.widgetSrc !== \"string\") {\n                        return null;\n                      }\n\n                      const srcdoc= [\n                        `<!doctype html>`,\n                        `<html>`,\n                        `<head>`,\n                        `<script src=\"${props.widgetSrc}\"></script>`,\n                        `</head>`,\n                        `<body>`,\n                        `<div data-widget-mount></div>`,\n                        `<textarea data-widget-state style=\"display: none;\">`,\n                          encodeURIComponent(JSON.stringify({\n                            state: props.widgetState,\n                            code: childProps.children.join('\\n')\n                          })),\n                        `</textarea>`,\n                        `</body>`,\n                        `</html>`\n                      ].join(\"\");\n\n                      return <WidgetFrame\n                        srcDoc={srcdoc}\n                        src=\"/\"\n                        />;\n                    }\n                    default:\n                      return <MarkdownCodeBlock {...preProps}/>;\n                  }\n                },\n                ul: is(\"ul\")(MarkdownList),\n                ol: is(\"ol\")(MarkdownList)\n              }\n            })\n            .use(emoji)\n            .processSync(frontmatter(props.source).body).contents}\n      </StyledMarkdown>\n    );\n  }\n}\n\nclass WidgetFrame extends React.Component {\n  componentDidMount() {\n    if (this.ref && !this.resizer) {\n      resizer.iframeResizer({\n        warningTimeout: 0,\n        log: false\n      }, this.ref);\n    }\n  }\n\n  render() {\n    const {props} = this;\n    return <StyledWidgetFrame\n      innerRef={ref => this.ref = ref}\n      {...props}\n      />;\n  }\n}\n\nconst StyledWidgetFrame = styled.iframe`\n  width: 100%;\n  border: none;\n`;\n\nconst StyledMarkdown = styled.div`\n  & table {\n    text-align: left;\n    display: block;\n    width: 100%;\n    overflow: auto;\n    margin: 0 0 16px 0;\n    border-spacing: 0;\n    border-collapse: collapse;\n    font-size: 18px;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial,\n      sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n  & tr {\n    color: ${props => props.theme.colors.color};\n    border-top: 1px solid ${props => props.theme.colors.border};\n    background: transparent;\n  }\n  & tr:nth-child(2n) {\n    background: ${props => props.theme.colors.backgroundTertiary};\n  }\n  & th {\n    padding: 6px 13px;\n    border: 1px solid ${props => props.theme.colors.border};\n    font-weight: 600;\n  }\n  & td {\n    padding: 6px 13px;\n    border: 1px solid ${props => props.theme.colors.border};\n  }\n`;\n\nfunction is(is) {\n  return Component => props => <Component is={is} {...props} />;\n}\n\nfunction prop(name, value) {\n  return Component => props => <Component {...props} {...{ [name]: value }} />;\n}\n\nmodule.exports = Markdown;\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownBlockquote)`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  line-height: 27px;\n  padding-left: 18px;\n  border-left: 4.5px solid ${props => props.theme.colors.recess};\n  color: ${props => props.theme.colors.recess};\n`;\n\nfunction MarkdownBlockquote(props) {\n  return (\n    <Text className={props.className} is=\"blockquote\">\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst textContent = require('react-addons-text-content');\nconst styled = require(\"styled-components\").default;\nconst Code = require('../code');\n\nmodule.exports = styled(MarkdownCodeBlock)`\n  background: ${props => props.theme.colors.backgroundSecondary};\n  border-radius: 3px;\n  font-size: 15.3px;\n  line-height: 23px;\n  padding: 16px;\n  margin-bottom: 16px;\n`;\n\nfunction MarkdownCodeBlock(props) {\n  const langs = getLanguages(props.children);\n  const code = textContent(props.children);\n  return (\n    <Code block className={props.className} language={langs[0]}>\n      {code}\n    </Code>\n  );\n}\n\nfunction getLanguages(children) {\n  const [child] = children;\n  if (!child) {\n    return [];\n  }\n  const className = child.props.className;\n  if (!className) {\n    return [];\n  }\n  return className\n    .split(\" \")\n    .map(n => n.replace(\"language-\", \"\"))\n    .find(n => typeof n === \"string\" && n.length > 0)\n    .split(\":\");\n}\n","const styled = require('styled-components').default;\nconst Code = require('../code');\n\nmodule.exports = styled(Code)`\n  display: inline;\n  padding: 0;\n  background: ${props => props.theme.colors.backgroundSecondary};\n  border-radius: 3px;\n  font-size: 15.3px;\n  line-height: 23px;\n  padding: 3px;\n`;\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownCopy)`\n  margin: 0 0 16px 0;\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n`;\n\nfunction MarkdownCopy(props) {\n  return (\n    <Text is=\"p\" className={props.className}>\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst styled = require(\"styled-components\").default;\n\nconst Headline = require(\"../headline\");\nconst Icon = require('../icon');\nconst Link = require('../link');\n\nconst ORDER = {\n  h1: 1,\n  h2: 2,\n  h3: 3,\n  h4: 4,\n  h5: 4,\n  h6: 4\n};\n\nconst ThemedIcon = styled(Icon)`\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  transform: translateY(-50%);\n  padding-right: 10px;\n  fill: ${props => props.theme.colors.color};\n  opacity: 0;\n`;\n\nconst StyledLink = styled(Link)`\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  &:hover ${ThemedIcon} {\n    opacity: 1;\n  }\n`;\n\nconst StyledTarget = styled.div`\n  width: 0;\n  height: 0;\n`;\n\nconst StyledHeadline = styled(Headline)`\n  font-family: ${props => props.theme.fonts.headline};\n`;\n\nmodule.exports = styled(MarkdownHeadline)`\n  position: relative;\n  color: ${props => props.theme.colors.color};\n  margin: 60px 0 16px 0;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nfunction MarkdownHeadline(props) {\n  const children = Array.isArray(props.children)\n    ? props.children.join(\"\")\n    : props.children;\n  const id = encodeURIComponent(\n    (children || \"\")\n      .split(\" \")\n      .join(\"-\")\n      .toLowerCase()\n  );\n\n  return (\n    <StyledHeadline is={props.is} order={ORDER[props.is]} className={props.className} id={id}>\n      {props.linkable ? (\n        <MarkdownHeadlineLink name={children} id={id}>\n          {props.children}\n        </MarkdownHeadlineLink>\n      ) : (\n        props.children\n      )}\n    </StyledHeadline>\n  );\n}\n\nfunction MarkdownHeadlineLink(props) {\n  return (\n    <StyledLink title={`Link to \"${props.name}\"`} hash={props.id}>\n      <StyledTarget id={props.id} />\n      <ThemedIcon symbol=\"link\" size=\"m\" />\n      {props.children}\n    </StyledLink>\n  );\n}\n","const styled = require(\"styled-components\").default;\n\nmodule.exports = styled.hr`\n  height: 0.25em;\n  padding: 0;\n  margin: 24px 0;\n  background-color: ${props => props.theme.colors.border};\n  border: 0;\n`;\n","const styled = require('styled-components').default;\n\nmodule.exports = styled.img`\n  max-width: 100%;\n  height: auto;\n`;\n","const React = require('react');\nconst styled = require('styled-components').default;\n\nconst Text = require('../text');\n\nmodule.exports = styled(MarkdownItem)`\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n  margin-top: 4.5px;\n`;\n\nfunction MarkdownItem(props) {\n  return (\n    <Text className={props.className} is=\"li\">\n      {props.children}\n    </Text>\n  );\n}\n","const React = require('react');\nconst styled = require('styled-components').default;\n\nconst url = require('url');\nconst queryString = require('query-string');\nconst Link = require('../link');\n\nmodule.exports = MarkdownLink;\n\nfunction MarkdownLink(props) {\n  const parsed = url.parse(props.href || \"./\");\n  const abs = absolute(props.href);\n  const href = abs ? props.href : [parsed.pathname, parsed.hash].join(\"\");\n  const query = abs ? {} : queryString.parse(parsed.query);\n\n  return (\n    <StyledLink external={abs} hint href={href} query={query}>\n      {props.children}\n    </StyledLink>\n  );\n}\n\nconst StyledLink = styled(Link)`\n  font-size: 18px;\n  line-height: 27px;\n  color: ${props => props.theme.colors.color};\n  text-decoration: none;\n  &:link,\n  &:visited {\n    color: ${props => props.theme.colors.active};\n  }\n  &:hover,\n  &:active {\n    text-decoration: underline;\n  }\n`;\n\nfunction absolute(href) {\n  const parsed = url.parse(href || \"./\");\n  if (parsed.protocol) {\n    return true;\n  }\n  if (href.startsWith(\"/api/static/\")) {\n    return true;\n  }\n}\n","const styled = require('styled-components').default;\nconst tag = require('tag-hoc').default;\n\nmodule.exports = styled(tag([])(\"div\"))`\n  margin: 0 0 16px 0;\n  padding-left: 36px;\n`;\n","const React = require(\"react\");\nconst tag = require(\"tag-hoc\").default;\nconst color = require(\"color\");\nconst styled = require(\"styled-components\").default;\nconst remark = require(\"remark\");\nconst emoji = require(\"remark-gemoji-to-emoji\");\n\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\n\nconst processor = remark().use(emoji);\n\nclass NavigationItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  componentDidMount() {\n    if (this.props.active && this.ref) {\n      setTimeout(() => {\n        this.props.onScrollRequest({ target: this.ref, props: this.props });\n      });\n    }\n  }\n\n  componentWillUpdate(next) {\n    if (this.props.type === \"folder\") {\n      return;\n    }\n    if (next.active && this.ref) {\n      this.props.onScrollRequest({ target: this.ref, props: next });\n    }\n  }\n\n  render() {\n    const { props } = this;\n    const title = props.title || `Navigate to ${props.name} ${props.type}`;\n    const symbol = props.active ? props.symbolActive : props.symbol;\n    const name = processor.processSync(props.name).contents;\n\n    return (\n      <StyledNavigationItem\n        active={props.active}\n        className={props.className}\n        innerRef={this.getRef}\n        type={props.type}\n      >\n        <StyledNavigationLink\n          active={props.active}\n          external={props.external}\n          onClick={props.onClick}\n          href={props.href}\n          sticky={props.type === \"folder\" && props.active}\n          type={props.type}\n          title={title}\n          nested={props.nested}\n          iconSize=\"s\"\n          grow\n          hint\n        >\n          {symbol && (\n            <StyledIcon active={props.active} size=\"m\" symbol={symbol} />\n          )}\n          <StyledName>{props.name}</StyledName>\n          {props.meta && (\n            <StyledMeta active={props.active}>{props.meta}</StyledMeta>\n          )}\n        </StyledNavigationLink>\n        {props.active && props.children}\n      </StyledNavigationItem>\n    );\n  }\n}\n\nmodule.exports = NavigationItem;\n\nconst StyledIcon = styled(Icon)`\n  flex: 0 0 auto;\n  fill: ${props => props.theme.colors.color};\n  ${props => props.active && `fill: ${color(props.theme.colors.active)}`};\n  padding: 10px 0 10px 9px;\n`;\n\nconst StyledName = styled.div`\n  box-sizing: border-box;\n  flex: 1 1 100%;\n  padding: 10px;\n`;\n\nconst StyledMeta = styled.div`\n  flex: 1 0 auto;\n  margin: 0 ${props => (props.active ? 6 : 10)}px 0 auto;\n`;\n\nconst StyledNavigationItem = styled.div`\n  width: 100%;\n  box-sizing: border-box;\n  margin-left: 1px;\n`;\n\nconst LinkTag = tag([\"active\", \"type\"])(Link);\n\nconst StyledNavigationLink = styled(LinkTag)`\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  text-decoration: none;\n  font-size: ${props => props.theme.fonts.fontSize}px;\n  line-height: 20px;\n  font-family: ${props => props.theme.fonts.default};\n  font-weight: ${props => props.theme.fonts.fontWeight};\n  padding-left: ${props => props.nested ? 30 : 0}px;\n  :link,\n  :visited {\n    color: ${props => props.theme.colors.color};\n    ${props => props.active && `color: ${color(props.theme.colors.active)}`};\n  }\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\nconst Link = require(\"../link\");\nconst remark = require(\"remark\");\nconst emoji = require(\"remark-gemoji-to-emoji\");\n\nconst processor = remark().use(emoji);\n\nmodule.exports = NavigationLabel;\n\nfunction NavigationLabel(props) {\n  return (\n    <StyledLabelContainer\n      data-toggle-name={props.name}\n      data-trigger-name={props.name}\n      data-toggle-enabled={props.enabled}\n      visible={props.visible}\n      highlight={props.highlight}>\n      <StyledLabel\n        highlight={props.highlight}\n        enabled={props.enabled}\n        size={props.size}\n        >\n        <StyledLabelLink\n          highlight={props.highlight}\n          title={`${props.enabled ? 'Close' : 'Expand'} ${props.children} list`}\n          query={{[`${props.name}-enabled`]: !props.enabled}}\n          >\n            <StyledLabelIcon enabled={props.enabled}>\n              <Icon symbol=\"arrow-right\" />\n            </StyledLabelIcon>\n            {processor.processSync(props.children).contents}\n        </StyledLabelLink>\n      </StyledLabel>\n    </StyledLabelContainer>\n  );\n}\n\nconst SIZES = {\n  S: 0.9,\n  M: 1\n};\n\nconst StyledLabel = styled.div`\n  box-sizing: border-box;\n  padding: 10px 10px;\n  display: flex;\n  align-items: center;\n  font-family: ${props => props.theme.fonts.default};\n  font-size: ${({size, theme}) => SIZES[size] * theme.fonts.fontSize}px;\n  color: ${props => props.theme.colors.color};\n  background-color: ${({enabled, theme}) => enabled ? theme.colors.backgroundTertiary : theme.colors.background};\n  border-style: solid;\n  border-top-color: ${({enabled, theme}) => enabled ? theme.colors.backgroundSecondary : theme.colors.border};\n  border-bottom-color: ${props => props.enabled ? 'transparent' : props.theme.colors.border};\n  border-width: ${props => props.highlight ? 1 : 0}px 0;\n  width: 100%;\n`;\n\nconst StyledLabelIcon = styled.span`\n  margin-right: 10px;\n  transform-origin: center;\n  transform: rotate(${props => props.enabled ? 90 : 0}deg);\n`;\n\nconst StyledLabelContainer = styled.div`\n  display: ${props => props.visible ? \"block\" : \"none\"};\n  position: sticky;\n  top: -1px;\n  left: 0;\n\n  /* Styling that can be toggled by a predetonation script */\n  &[data-toggle-enabled=\"true\"] {\n    ${StyledLabel} {\n      background-color: ${({theme}) => theme.colors.backgroundTertiary};\n      border-top-color: ${({theme}) => theme.colors.backgroundSecondary};\n      border-bottom-color: transparent;\n    }\n\n    ${StyledLabelIcon} {\n      transform: rotate(90deg);\n    }\n  }\n\n  &[data-toggle-enabled=\"false\"] {\n    ${StyledLabel} {\n      background-color: ${({theme}) => theme.colors.background};\n      border-top-color: ${({theme}) => theme.colors.border};\n      border-bottom-color: ${props => props.theme.colors.border};\n    }\n\n    ${StyledLabelIcon} {\n      transform: rotate(0);\n    }\n  }\n`;\n\nconst StyledLabelLink = styled(Link)`\n  display: block;\n  color: ${props => props.theme.colors.color};\n  cursor: pointer;\n  text-decoration: none;\n  width: 100%;\n`;\n\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nmodule.exports = NavigationToolbar;\n\nfunction NavigationToolbar(props) {\n  return <StyledNavigationToolbar>{props.children}</StyledNavigationToolbar>;\n}\n\nNavigationToolbar.defaultProps = {\n  children: []\n};\n\nconst StyledNavigationToolbar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 40px;\n  padding: 10px 15px;\n  background-color: ${props => props.theme.colors.backgroundSecondary};\n  box-sizing: \"border-box\";\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require(\"tag-hoc\").default;\nconst NavigationLabel = require(\"../navigation-label\");\nconst NavigationItem = require(\"../navigation-item\");\nconst Flag = require(\"../flag\");\n\nmodule.exports = NavigationTree;\n\nfunction NavigationTree(props) {\n  return (\n    <StyledNavigationTree\n      visible={props.visible}\n      data-toggle-name={props.name}\n      data-toggle-enabled={props.visible}\n      >\n      {props.children}\n      {(props.data || [])\n        .filter(item => typeof item.manifest === \"object\")\n        .map((item, index) => {\n          // TODO: this should not have to deal with normalization\n          const options = (item.manifest.options || {});\n          const hidden = options.hidden || false;\n          const icon = selectSymbol(item);\n          const iconActive = selectActiveSymbol(item);\n          const name = selectName(item);\n\n          const enabled = (props.query || {})[`${name}-enabled`] === \"true\";\n\n          switch (item.type) {\n            case \"folder\":\n              return (\n                <React.Fragment key={item.id}>\n                  <NavigationLabel\n                    visible={(item.children || []).length > 0}\n                    enabled={enabled}\n                    name={name}\n                    highlight={false}\n                    size=\"M\"\n                    >\n                    {item.manifest.displayName || item.manifest.name}\n                  </NavigationLabel>\n                  <NavigationItemList\n                    data-toggle-name={name}\n                    data-toggle-enabled={(item.children || []).length > 0 && enabled}\n                    visible={(item.children || []).length > 0 && enabled}>\n                    {\n                      (item.children || []).map((child, index) => {\n                        return (\n                          <NavigationItem\n                            key={child.id}\n                            active={child.active}\n                            href={child.href}\n                            id={child.id}\n                            meta={(child.warnings || []).map(warning => (\n                              <NavigationMeta key={warning.value} warning={warning} />\n                            ))}\n                            name={child.manifest.displayName}\n                            nested\n                            onClick={props.onItemClick}\n                            onScrollRequest={props.onScrollRequest}\n                            prefix={props.prefix}\n                            symbol={selectSymbol(child)}\n                            symbolActive={selectActiveSymbol(child)}\n                            type={child.type}\n                            />\n                        );\n                      })\n                    }\n                  </NavigationItemList>\n                </React.Fragment>\n              );\n            case \"item\":\n              return (\n                <NavigationItem\n                  key={item.id}\n                  active={item.active}\n                  hidden={hidden}\n                  href={options.href || item.href}\n                  external={Boolean(options.href)}\n                  id={item.id}\n                  meta={(item.warnings || []).map(warning => (\n                    <NavigationMeta key={warning.value} warning={warning} />\n                  ))}\n                  name={item.manifest.displayName}\n                  onClick={props.onItemClick}\n                  onScrollRequest={props.onScrollRequest}\n                  prefix={props.prefix}\n                  symbol={icon}\n                  symbolActive={iconActive}\n                  type={item.type}\n                  />\n              );\n          }\n        })}\n    </StyledNavigationTree>\n  );\n}\n\nconst StyledNavigationTree = styled(tag([\"visible\"])(\"div\"))`\n  display: ${props => props.visible ? \"block\": \"none\"};\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n`;\n\nconst NavigationItemList = styled(tag([\"visible\"])(\"div\"))`\n  display: ${props => props.visible ? \"block\": \"none\"};\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n`;\n\nfunction NavigationMeta(props) {\n  switch (props.warning.type) {\n    case \"flag\":\n    default:\n      return <Flag title={props.warning.message}>{props.warning.value}</Flag>;\n  }\n}\n\nfunction selectActiveSymbol(item) {\n  if (item.type === \"item\") {\n    return null;\n  }\n\n  if (item.manifest.options.iconActive) {\n    return item.manifest.options.iconActive;\n  }\n\n  if (item.type === \"folder\") {\n    return \"arrow-down\";\n  }\n\n  return null;\n}\n\nfunction selectSymbol(item) {\n  if (item.type === \"item\") {\n    return null;\n  }\n\n  if (item.manifest.options.icon) {\n    return item.manifest.options.icon;\n  }\n\n  if (item.type === \"folder\") {\n    return \"arrow-right\";\n  }\n\n  return null;\n}\n\nfunction selectName(item) {\n  if (typeof item.manifest.name === \"string\" && item.manifest.name) {\n    return item.manifest.name;\n  }\n  if (typeof item.manifest.displayName === \"string\" && item.manifest.displayName) {\n    return encodeURIComponent(item.manifest.displayName.replace(/[^\\w]/g, '-').toLowerCase());\n  }\n  return encodeURIComponent(item.id.replace(/[^\\w]/g, '-').toLowerCase());\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Icon = require(\"../icon\");\n\nconst StyledSearchField = styled.label`\n  display: flex;\n  align-items: center;\n  height: 60px;\n  padding: 10px 15px;\n`;\n\nconst StyledIcon = styled(Icon)`\n  flex-grow: 0;\n  flex-shrink: 0;\n  fill: ${props => props.theme.colors.color};\n`;\n\nconst StyledInput = styled.input`\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  border: 0;\n  border-radius: 0;\n  background: transparent;\n  font-size: 16px;\n  color: ${props => props.theme.colors.color};\n  padding: 0;\n  appearance: none;\n  border-radius: 0;\n  border: none;\n  :focus {\n    outline: none;\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  flex-shrink: 0;\n  margin-left: 10px;\n`;\n\nconst StyledInputSuggestion = styled(p => <StyledInput {...p} readOnly />)`\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  opacity: 0.3;\n`;\n\nclass SearchField extends React.Component {\n  constructor() {\n    super();\n    this.saveRef = this.saveRef.bind(this);\n  }\n\n  saveRef(ref) {\n    this.ref = ref;\n  }\n\n  componentDidMount() {\n    if (this.props.autoFocus && this.ref) {\n      const length = this.props.value.length;\n      this.ref.focus();\n      this.ref.setSelectionRange(length, length);\n    }\n  }\n\n  render() {\n    const { props } = this;\n    return (\n      <StyledSearchField>\n        <StyledIcon symbol=\"search\" />\n        <StyledInputContainer>\n          <StyledInputSuggestion value={props.suggestion || \"\"} />\n          <StyledInput\n            autoComplete=\"off\"\n            autoFocus={props.autoFocus}\n            name={props.name}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onFocus={props.onFocus}\n            onKeyDown={props.onKeyDown}\n            placeholder={props.placeholder}\n            title={props.title}\n            type=\"text\"\n            value={props.value}\n            data-search={props.mark}\n            innerRef={this.saveRef}\n          />\n        </StyledInputContainer>\n        {props.children}\n      </StyledSearchField>\n    );\n  }\n}\n\nmodule.exports = SearchField;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst Link = require(\"../link\");\nconst Icon = require(\"../icon\");\nconst Text = require(\"../text\");\nconst InnerInfoPane = require(\"../info-pane\").InnerInfoPane;\nconst tag = require(\"tag-hoc\").default;\n\n// import Outside from \"./outside\";\n\nconst SearchFieldSlot = function SearchFieldSlot(props) {\n  return props.children;\n};\nconst PassThroughSlot = function PassThroughSlot(props) {\n  return props.children;\n};\n\nconst NOOP = function NOOP() { };\n\nfunction Search(props) {\n  const children = React.Children.toArray(props.children);\n\n  const searchResultList = children.filter(function (item) {\n    return item.type === StyledResultList;\n  });\n\n  const searchPreviewChildren = children.filter(function (item) {\n    return item.type === StyledResultPreview;\n  });\n\n  const searchField = children.filter(function (item) {\n    return item.type === SearchFieldSlot;\n  });\n\n  const passThrough = children.filter(function (item) {\n    return item.type === PassThroughSlot;\n  });\n\n  return (\n    <StyledFormBox\n      enabled={props.enabled}\n      inline={props.inline}\n      onClickOutside={props.inline || !props.enabled ? NOOP : props.onClickOutside}\n      onClick={props.inline && !props.enabled ? props.onFocus : NOOP}\n      value={props.value}\n    >\n      <StyledForm\n        onSubmit={props.onSubmit}\n        method=\"GET\"\n      >\n        <StyledSearchFieldBox\n          onClick={props.inline ? props.onClick : NOOP}\n        >\n          {searchField}\n          {passThrough}\n          <HiddenSubmit />\n          <SearchLegend\n            {...props.legend}\n          />\n        </StyledSearchFieldBox>\n        <StyledResults>\n          {searchResultList}\n          {searchPreviewChildren}\n        </StyledResults>\n      </StyledForm>\n    </StyledFormBox>\n  );\n}\n\nconst SEARCH_HEIGHT = \"55vh\";\nconst SEARCH_FIELD_HEIGHT = \"80px\";\nconst SEARCH_LEGEND_HEIGHT = \"30px\";\n\nconst StyledFormBox = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 10px;\n  pointer-events: all;\n  overflow: hidden;\n  margin: ${props => props.inline ? 'calc(12.5vh - 30px) 0 60px 0' : '0'};\n  opacity: ${props => props.inline && props.enabled ? '0' : '1'};\n`;\n\nconst StyledForm = styled.form`\n  display:flex;\n  flex-direction:column;\n  position:relative;\n  z-index:2;\n  width:100%;\n  max-height: ${SEARCH_HEIGHT};\n  ${props => withTint(props)}\n`;\n\nconst StyledSearchFieldBox = styled.div`\n  position:relative;\n  z-index:1;\n  flex:0 0 auto;\n`;\n\nconst StyledResults = styled.div`\n  position:relative;\n  z-index:1;\n  flex:1 1 auto;\n  display:flex;\n  flex-direction:row;\n  max-height: calc(${SEARCH_HEIGHT} - ${SEARCH_FIELD_HEIGHT} - ${SEARCH_LEGEND_HEIGHT});\n`;\n\nconst StyledResultPreview = styled.div`\n  flex:1 1 60%;\n  overflow:scroll;\n  -webkit-touch-scroll:auto;\n`;\n\nconst StyledResultList = styled.div`\n  flex: 1 0 40%;\n  overflow: scroll;\n  -webkit-touch-scroll: auto;\n  border-right: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst StyledResultHeading = styled(Text)`\n  box-sizing:border-box;\n  position:-webkit-sticky;\n  position:sticky;\n  z-index:1;\n  top:0;\n  margin:0;\n  font-size:14px;\n  padding:3px 15px;\n  border-width:1px 0;\n  border-style:solid;\n  border-color: ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.color};\n  background: ${props => props.theme.colors.background};\n`;\n\nconst StyledIcon = styled(tag([\"active\"])(Icon))`\n  flex:0 0 auto;\n  fill: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n  margin-right:10px;\n`;\n\nconst Linkable = tag([\"active\"])(Link);\n\nconst StyledPreviewLink = styled(Linkable)`\n  position:absolute;\n  right:15px;\n  top:50%;\n  transform:translateY(-50%);\n  text-decoration:none;\n  color: ${props => props.theme.colors.border};\n  opacity:0;\n  &:hover{\n    color: ${props => props.theme.colors.color};\n    text-decoration:underline;\n  }\n`;\n\nconst StyledResultLink = styled(Linkable)`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 10px 15px;\n  &:link, &:visited, &:active {\n    color: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n    text-decoration: none;\n  }\n`;\n\nconst StyledResultLinkText = styled(Text)`\n  line-height: 20px;\n  color: ${props => props.active ? props.theme.colors.active : props.theme.colors.color};\n  text-decoration: none;\n`;\n\nconst StyledResult = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  &:hover{\n    mask-image: linear-gradient( to left,rgba(0,0,0,0) 75px,rgba(0,0,0,1) 125px);\n    -webkit-mask-image: linear-gradient( to left,rgba(0,0,0,0) 75px,rgba(0,0,0,1) 125px);\n  }\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nclass SearchResult extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.getRef = this.getRef.bind(this);\n  }\n\n  getRef(ref) {\n    this.ref = ref;\n  }\n\n  componentWillUpdate(next) {\n    if (next.active && this.ref) {\n      this.props.onScrollRequest({ target: this.ref });\n    }\n  }\n\n  render() {\n    const props = this.props;\n\n    return (\n      <StyledResult\n        innerRef={this.getRef}\n        active={props.active}\n        title={`Navigation to pattern ${props.name}`}\n        data-id={props.id}\n      >\n        <StyledResultLink\n          active={props.active}\n          href={props.href}\n          query={{ \"search-enabled\": false }}\n        >\n          <StyledResultLinkText\n            active={props.active}\n            size=\"l\"\n          >\n            {props.name}\n          </StyledResultLinkText>\n        </StyledResultLink>\n        <StyledPreviewLink\n          active={props.active}\n          query={{ \"search-preview\": props.index }}\n        >\n          <Text\n            active={props.active}\n            size=\"s\"\n          >\n            \"Preview\"\n          </Text>\n        </StyledPreviewLink>\n      </StyledResult>\n    );\n  }\n}\n\nSearchResult.defaultProps = {\n  onScrollRequest: function onScrollRequest() { }\n};\n\nconst HiddenSubmit = styled.input.attrs({\n  type: 'submit'\n})`\n  display: none;\n`;\n\nconst StyledClose = styled(Link)`\n  font-size: 0;\n  line-height: 0;\n`;\n\nconst StyledCloseIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.color};\n`;\n\nfunction Close(props) {\n  const verb = props.clears ? `Clear` : \"Close\";\n  const query = props.clears ? { search: null } : { \"search-enabled\": null };\n  const symbol = \"close\"; // TODO: Add and use icon for clearing\n  return (\n    <StyledClose\n      query={query}\n      title={`${verb} search ${props.shortcut.toString()}`}\n    >\n      <StyledCloseIcon size=\"m\" symbol={symbol} />\n      {verb}\n    </StyledClose>\n  );\n}\n\nconst StyledMarkdown = styled.div`\n  width: 80%;\n  margin: 0 auto;\n`;\n\nconst StyledSearchLegend = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 15px;\n  border: 1px solid ${props => props.theme.colors.border};\n  color: ${props => props.theme.colors.border};\n  ${props => withTint(props)};\n`;\n\nconst StyledSearchLegendBox = styled.div`\n  display:flex;\n  overflow:scroll;\n  -webkit-overflow-scrolling:touch;\n  width:100%;\n  position:relative;\n  z-index:1;\n  ::-webkit-scrollbar{\n    display:none;\n  }\n`;\n\nconst StyledField = styled(Text)`\n  padding:0 10px;\n  color: ${props => props.theme.colors.color};\n  &:first-child{\n    padding-left:0;\n  }\n}`;\n\nconst StyledLegendName = styled(StyledField)`\n  padding-right:20px;\n  font-weight:bold;\n  color: ${props => props.theme.colors.color};\n  position:relative;z-index:1;\n`;\n\nconst StyledFieldLink = styled(Link)`\n  white-space:nowrap;\n  &:link,\n  &:active,\n  &:visited,\n  &:hover {\n    color: ${props => props.theme.colors.color\n  }\n`;\n\nfunction SearchLegend(props) {\n  return (\n    <StyledSearchLegend\n      className={props.className}\n    >\n      {props.name && <StyledLegendName>{props.name}</StyledLegendName>}\n      <StyledSearchLegendBox>\n        {(props.items || []).map(function (l) {\n          switch (l.type) {\n            case \"field\":\n            default:\n              return React.createElement(\n                StyledField,\n                { key: l.key },\n                React.createElement(\n                  StyledFieldLink,\n                  {\n                    title: l.description,\n                    query: { search: `${l.value}` }\n                  },\n                  l.key\n                )\n              );\n            }\n          })\n        }\n      </StyledSearchLegendBox>\n    </StyledSearchLegend>\n  );\n}\n\nfunction withTint(props) {\n  return `\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tz-index: 0;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: ${props.theme.colors.background};\n\t\t\topacity: 0.975;\n\t\t}\n\t`;\n}\n\nmodule.exports.default = Search;\nmodule.exports.SearchResult = SearchResult;\nmodule.exports.SearchResultList = StyledResultList;\nmodule.exports.SearchResultHeading = StyledResultHeading;\nmodule.exports.SearchResultPreview = StyledResultPreview;\nmodule.exports.SearchFieldSlot = SearchFieldSlot;\nmodule.exports.PassThroughSlot = PassThroughSlot;\nmodule.exports.Close = Close;\n","const h = require(\"react\").createElement;\nconst b = require(\"btoa\");\nconst styled = require(\"styled-components\").default;\nconst { DOMParser, XMLSerializer } = require(\"xmldom\");\nconst { camelCase } = require(\"lodash\");\n\nconst parser = new DOMParser();\nconst serializer = new XMLSerializer();\n\n/**\n * These attributes are valid on all SVG elements and accepted by this\n * renderer.\n * All attributes will be converted to their camelCase version.\n * This allows using valid SVG strings.\n * Extend this list to allow additional default SVG attributes.\n *\n * @type {Array}\n */\nconst SHARED_ATTRIBUTES = [\"fill\", \"filter\", \"stroke\", \"stroke-width\"];\n\nconst ATTRIBUTES = {\n  defs: [...SHARED_ATTRIBUTES],\n  symbol: [\"id\"],\n  linearGradient: [...SHARED_ATTRIBUTES, \"id\", \"x1\", \"y1\", \"x2\", \"y2\"],\n  stop: [\"offset\", \"stop-color\"],\n  circle: [...SHARED_ATTRIBUTES, \"cx\", \"cy\", \"r\", \"style\"],\n  g: [...SHARED_ATTRIBUTES, \"x\", \"y\"],\n  path: [...SHARED_ATTRIBUTES, \"d\", \"style\"],\n  polygon: [...SHARED_ATTRIBUTES, \"points\"],\n  rect: [...SHARED_ATTRIBUTES, \"x\", \"y\", \"width\", \"height\", \"style\"],\n  svg: [\"width\", \"height\", \"viewBox\", \"x\", \"y\", \"style\", \"xmlns\", \"xmlns:xlink\"]\n};\n\nconst TAG_NAMES = Object.keys(ATTRIBUTES);\n\nfunction attributes(node, key) {\n  return (ATTRIBUTES[node.tagName] || []).reduce(\n    (props, name) => {\n      const attribute = node.attributes.getNamedItem(name);\n      const reactProp = camelCase(name);\n      if (attribute && attribute.specified) {\n        props[reactProp] = attribute.value;\n      }\n      return props;\n    },\n    { key }\n  );\n}\n\nexport function btoa(source) {\n  return `data:image/svg+xml;base64,${b(source)}`;\n}\n\nexport function parse(source) {\n  const doc = parser.parseFromString(source, \"image/svg+xml\");\n  const parsed = Array.prototype.slice.call(doc.childNodes).find(node => node.tagName === \"svg\");\n  parsed.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n  return parsed;\n}\n\nexport function png(source) {\n  return new Promise((resolve, reject) => {\n    const img = new global.Image();\n    const canvas = global.document.createElement(\"canvas\");\n    const ratio = global.devicePixelRatio || 1;\n\n    canvas.width = 16 * ratio;\n    canvas.height = 16 * ratio;\n\n    const context = canvas.getContext(\"2d\");\n\n    img.onload = () => {\n      context.drawImage(img, 0, 0);\n      resolve(canvas.toDataURL(\"image/png\"));\n    };\n\n    img.src = btoa(source);\n  });\n}\n\nexport function purge(parsed) {\n  return Array.prototype.slice.call(parsed)\n    .filter(node => TAG_NAMES.includes(node.tagName))\n    .map(node => {\n      node.childNodes = purge(node.childNodes);\n\n      const attributes = ATTRIBUTES[node.tagName] || [];\n\n      for (let i = 0; i < node.attributes.length; i++) {\n        const attribute = node.attributes[i];\n        if (!attributes.includes(attribute.name)) {\n          node.removeAttribute(attribute.name);\n        }\n      }\n\n      return node;\n    });\n}\n\nexport function render(element) {\n  const [tagName, props, children = []] = element;\n  const { style, ...rest } = props;\n  const tag = styled(tagName)`\n    ${style};\n  `;\n  return h(tag, rest, children.map(c => render(c)));\n}\n\nexport function sanitize(parsed) {\n  return [...parsed].map((node, i) => [\n    node.tagName,\n    attributes(node, i),\n    sanitize(node.childNodes)\n  ]);\n}\n\nexport function stringify(tree) {\n  return serializer.serializeToString(tree);\n}\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\n\nconst Text = require(\"../text\");\n\nmodule.exports = styled(props => <Text className={props.className}>{props.children}</Text>)`\n  display: inline-block;\n  padding: 2px 4px;\n  margin-top: 1.5px;\n  margin-bottom: 1.5px;\n  color: ${props => props.theme.colors.color};\n  border: 1px solid ${props => props.theme.colors.color};\n  border-radius: 3px;\n  &:link,\n  &:visited,\n  &:active {\n    text-decoration: none;\n    color: ${props => props.theme.colors.color};\n  }\n  &:nth-child(2n) {\n    margin-left: 3px;\n  }\n`;\n","const React = require(\"react\");\nconst styled = require(\"styled-components\").default;\nconst tag = require('tag-hoc').default;\n\nmodule.exports = Text;\n\nfunction Text(props) {\n  return (\n    <StyledText is={props.is} className={props.className}>\n      {props.children}\n    </StyledText>\n  );\n}\n\nconst StyledText = styled(tag([\"size\"])(\"div\"))`\n  font-family: ${props => props.theme.fonts.default};\n  color: ${props => props.theme.colors.color};\n`;\n","const color = require(\"color\");\nconst { merge } = require(\"lodash\");\nconst fonts = require(\"../fonts\");\n\nmodule.exports = function getThemes(ui = {}) {\n  const defaultMainColor = color.rgb(51, 153, 255);\n  const grayBaseTone = color.hsl(0, 0, 100);\n\n  const colorGroups = {\n    lightBlue: {\n      300: defaultMainColor.darken(0.3),\n      600: defaultMainColor.darken(0.4)\n    },\n    marine: {\n      500: defaultMainColor.desaturate(0.5).darken(0.5),\n      700: defaultMainColor.desaturate(0.5).darken(0.8),\n      800: defaultMainColor.desaturate(0.5).darken(0.85),\n      900: defaultMainColor.desaturate(0.5).darken(0.9)\n    },\n    gray: {\n      50: grayBaseTone.darken(0.05),\n      100: grayBaseTone.darken(0.15),\n      400: grayBaseTone.darken(0.4),\n      700: grayBaseTone.darken(0.735)\n    }\n  };\n\n  const active = ui.colorActive\n    ? color(ui.colorActive)\n    : defaultMainColor;\n\n  const error = ui.colorError\n    ? color(ui.colorError)\n    : color.rgb(250, 63, 69);\n\n  const warning = ui.colorWarning\n    ? color(ui.colorWarning)\n    : color.rgb(255, 189, 46);\n\n  const info = ui.colorInfo\n    ? color(ui.colorInfo)\n    : color.rgb(80, 179, 221);\n\n  const success = ui.colorSuccess\n    ? color(ui.colorSuccess)\n    : color.rgb(74, 165, 74);\n\n  const background = ui.colorBackgroundDark\n    ? color(ui.colorBackgroundDark)\n    : colorGroups.marine[900];\n\n  const backgroundSecondary = ui.colorBackgroundSecondaryDark\n    ? color(ui.colorBackgroundSecondaryDark)\n    : colorGroups.marine[800];\n\n  const backgroundTertiary = ui.colorBackgroundTertiaryDark\n    ? color(ui.colorBackgroundTertiaryDark)\n    : colorGroups.marine[700];\n\n  const border = ui.colorBorderDark\n    ? color(ui.colorBorderDark)\n    : colorGroups.marine[800];\n\n  const textColor = ui.colorTextDark\n    ? color(ui.colorTextDark)\n    : colorGroups.gray[50];\n\n  const textColorNegated = ui.colorTextNegatedDark\n    ? color(ui.colorTextNegatedDark)\n    : colorGroups.gray[700];\n\n  const recess = ui.colorRecessDark\n    ? color(ui.colorRecessDark)\n    : colorGroups.gray[400];\n\n  const backgroundLight = ui.colorBackgroundLight\n    ? color(ui.colorBackgroundLight)\n    : color.hsl(255, 0, 100);\n\n  const backgroundSecondaryLight = ui.colorBackgroundSecondaryLight\n    ? color(ui.colorBackgroundSecondaryLight)\n    : color.rgb(246, 248, 250);\n\n  const backgroundTertiaryLight = ui.colorBackgroundTertiaryLight\n    ? color(ui.colorBackgroundTertiaryLight)\n    : color.rgb(246, 248, 250);\n\n  const borderLight = ui.colorBorderLight\n    ? color(ui.colorBorderLight)\n    : color.rgb(228, 228, 228);\n\n  const colorLight = ui.colorTextLight\n    ? color(ui.colorTextLight)\n    : color.rgb(68, 68, 68, 1);\n\n  const colorLightNegated = ui.colorTextLightNegated\n    ? color(ui.colorTextLightNegated)\n    : color.rgb(238, 238, 238);\n\n  const colorRecessLight = ui.colorRecessLight\n    ? color(ui.colorRecessLight)\n    : color.rgb(106, 115, 125, 1);\n\n  const fontFaces = fonts();\n\n  const common = {\n    colors: {\n      active: active.string(),\n      error: error.string(),\n      warning: warning.string(),\n      info: info.string(),\n      success: success.string(),\n    },\n    fonts: {\n      fontWeight: 100,\n      fontSize: 14,\n      default: ui.fontDefault || fontFaces.default,\n      code: ui.fontCode || fontFaces.code,\n      headline: ui.fontHeadline || fontFaces.default\n    }\n  };\n\n  const dark = merge({}, common, {\n    name: \"dark\",\n    colors: {\n      background: background.string(),\n      backgroundSecondary: backgroundSecondary.string(),\n      backgroundTertiary: backgroundTertiary.string(),\n      border: border.string(),\n      color: textColor.string(),\n      colorNegated: textColorNegated.string(),\n      recess: recess.string()\n    }\n  });\n\n  const light = merge({}, common, {\n    name: \"light\",\n    colors: {\n      background: backgroundLight.string(),\n      backgroundSecondary: backgroundSecondaryLight.string(),\n      backgroundTertiary: backgroundTertiaryLight.string(),\n      border: borderLight.string(),\n      color: colorLight.string(),\n      colorNegated: colorLightNegated.string(),\n      recess: colorRecessLight.string()\n    }\n  });\n\n  return {\n    dark,\n    light\n  };\n};\n","module.exports = require(\"./lib/create-search\");\n","\"use strict\";\n\nconst Query = require(\"./query\");\n\nconst Registry = require(\"./registry\");\n\nconst Search = require(\"./search\");\n\nconst Term = require(\"./term\");\n\nmodule.exports = {\n  createSearch,\n  Query,\n  Term\n};\n\nfunction createSearch(items) {\n  const search = Search.create(items);\n  const registry = Registry.create(items);\n  return function performSearch(queryString) {\n    const query = Query.parse(queryString);\n    return Query.perform(query, termString => {\n      const term = Term.parse(termString);\n\n      if (term.valid) {\n        return registry.search(term);\n      }\n\n      return search.search(term.raw);\n    });\n  };\n}\n//# sourceMappingURL=create-search.js.map","\"use strict\";\n\nconst flatten = require(\"lodash.flatten\");\n\nconst intersection = require(\"lodash.intersection\");\n\nconst q = require(\"logic-query-parser\");\n\nmodule.exports = {\n  parse,\n  perform\n};\n\nfunction parse(queryString) {\n  const values = typeof queryString === \"string\" ? [queryString] : [];\n\n  try {\n    const parsed = q.parse(queryString);\n    const query = q.utils.binaryTreeToQueryJson(parsed);\n\n    if (query.type) {\n      return query;\n    }\n\n    return {\n      type: \"and\",\n      values\n    };\n  } catch (err) {\n    return {\n      type: \"and\",\n      values\n    };\n  }\n}\n\nfunction perform(query, predicate) {\n  if (typeof query === \"string\") {\n    return predicate(query);\n  }\n\n  const items = () => query.values.map(value => perform(value, predicate));\n\n  const value = typeof query.value === \"string\" ? query.value : \"\";\n\n  switch (query.type) {\n    case \"and\":\n      {\n        return intersection(...items());\n      }\n\n    case \"or\":\n      {\n        return flatten(...items());\n      }\n\n    case \"string\":\n      {\n        return predicate(value);\n      }\n\n    default:\n      {\n        throw new TypeError(`@patternplate/search.perform: Unknown query: ${JSON.stringify(query)}`);\n      }\n  }\n}\n//# sourceMappingURL=query.js.map","\"use strict\";\n\nconst semver = require(\"semver\");\n\nmodule.exports = {\n  create\n};\nconst FLAGS = {\n  deprecated: 0,\n  alpha: 0,\n  beta: 1,\n  rc: 2,\n  stable: 3\n}; // TODO: create an efficient search data structure\n\nfunction create(items) {\n  return {\n    search(term) {\n      const matcher = getMatcher(term.field, term.value, term);\n      return items.filter(item => typeof item.manifest === \"object\").filter(item => term.negated ? !matcher(item) : matcher(item)).map(i => i.id);\n    }\n\n  };\n}\n\nfunction getMatcher(field, value, options) {\n  const depends = matchDepends(value, options);\n  const has = matchHas(value, options);\n  const provides = matchProvides(value, options);\n  const flag = matchFlag(value, options);\n  const tags = matchTags(value, options);\n  const version = matchVersion(value, options);\n  const is = matchIs(value);\n  return item => {\n    switch (field) {\n      case \"depends\":\n        return depends(item);\n\n      case \"description\":\n        return description(item);\n\n      case \"flag\":\n        return flag(item);\n\n      case \"has\":\n        return has(item);\n\n      case \"is\":\n        return is(item);\n\n      case \"provides\":\n        return provides(item);\n\n      case \"tag\":\n      case \"tags\":\n        return tags(item);\n\n      case \"version\":\n        return version(item);\n\n      case \"flag\":\n        return flag(item);\n\n      default:\n        return item[field] === value || item.manifest[field] === value;\n    }\n  };\n}\n\nconst manifest = item => item.manifest;\n\nconst flag = item => manifest(item).flag;\n\nconst index = item => FLAGS[flag(item)] || 0;\n\nconst version = item => manifest(item).version;\n\nconst tags = item => manifest(item).tags || [];\n\nconst depends = item => (item.dependencies || []).filter(i => typeof i === \"string\");\n\nconst dependents = item => (item.dependents || []).filter(i => typeof i === \"string\");\n\nfunction matchHas(value) {\n  return item => {\n    switch (value) {\n      case \"dependencies\":\n        return (item.dependencies || []).length > 0;\n\n      case \"dependents\":\n        return (item.dependents || []).length > 0;\n\n      case \"description\":\n        return Boolean(item.manifest.description);\n\n      case \"displayName\":\n        return Boolean((item.rawManifest || {}).displayName);\n\n      case \"doc\":\n      case \"docs\":\n        return item.contentType === \"pattern\" && Boolean(item.contents);\n\n      case \"flag\":\n        return Boolean((item.rawManifest || {}).flag);\n\n      case \"tag\":\n      case \"tags\":\n        return (item.manifest.tags || []).length > 0;\n\n      case \"version\":\n        return Boolean((item.rawManifest || {}).version);\n\n      default:\n        return false;\n    }\n  };\n}\n\nfunction matchIs(value) {\n  return item => item.contentType === value;\n}\n\nfunction matchDepends(value, options) {\n  if (options.startsWith) {\n    return item => depends(item).length > 0 && depends(item).some(d => d.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item => depends(item).length > 0 && depends(item).some(d => d.includes(value));\n  }\n\n  return item => depends(item).includes(value);\n}\n\nfunction matchFlag(value, options) {\n  const i = FLAGS[value] || 0;\n\n  if (options.lower) {\n    return item => options.equals ? index(item) <= i : index(item) < i;\n  }\n\n  if (options.greater) {\n    return item => options.equals ? index(item) >= i : index(item) > i;\n  }\n\n  if (options.startsWith) {\n    return item => flag(item).startsWith(value);\n  }\n\n  if (options.includes) {\n    return item => flag(item).includes(value);\n  }\n\n  return item => flag(item) === value;\n}\n\nfunction matchProvides(value, options) {\n  if (options.startsWith) {\n    return item => dependents(item).length > 0 && dependents(item).some(d => d.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item => dependents(item).length > 0 && dependents(item).some(d => d.includes(value));\n  }\n\n  return item => dependents(item).includes(value);\n}\n\nfunction matchTags(value, options) {\n  if (options.startsWith) {\n    return item => tags(item).length > 0 && tags(item).some(tag => tag.startsWith(value));\n  }\n\n  if (options.includes) {\n    return item => tags(item).length > 0 && tags(item).some(tag => tag.includes(value));\n  }\n\n  return item => tags(item).includes(value);\n}\n\nfunction matchVersion(value, options) {\n  const modified = options.lower || options.greater || options.startsWith || options.includes;\n\n  const valid = item => semver.valid(version(item));\n\n  if (modified) {\n    return item => valid(item) ? semver.satisfies(version(item), `${options.operators}${options.value}`) : false;\n  }\n\n  return item => valid(item) ? semver.satisfies(version(item), options.value) : false;\n}\n//# sourceMappingURL=registry.js.map","\"use strict\";\n\nconst Fuse = require(\"fuse.js\");\n\nmodule.exports = {\n  create\n};\n\nfunction create(items) {\n  return new Fuse(items, {\n    id: \"id\",\n    keys: [\"id\", \"contents\", \"manifest.displayName\", \"manifest.description\", \"manifest.name\", \"manifest.version\", \"manifest.tags\", \"manifest.flag\"]\n  });\n}\n//# sourceMappingURL=search.js.map","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = {\n  parse\n};\nconst OPERATORS = /([^!><^~\\n=]+)?(?:(!)?(>|<|\\^|~)?(=)?)([^!><^~\\n=]+)?/;\n\nfunction parse(termString) {\n  const found = termString.match(OPERATORS) || [];\n\n  const _found = _slicedToArray(found, 6),\n        raw = _found[0],\n        field = _found[1],\n        negator = _found[2],\n        modifier = _found[3],\n        equality = _found[4],\n        value = _found[5];\n\n  return {\n    field,\n    value,\n    raw,\n    operators: [modifier, equality].join(\"\"),\n    negated: negator === \"!\",\n    greater: modifier === \">\",\n    lower: modifier === \"<\",\n    startsWith: equality === \"=\" && modifier === \"^\",\n    includes: equality === \"=\" && modifier === \"~\",\n    equals: equality === \"=\",\n    valid: Boolean(field && value && (typeof modifier === \"string\" || typeof equality === \"string\"))\n  };\n}\n//# sourceMappingURL=term.js.map","module.exports = require(\"./lib\");\n","\"use strict\";\n\nconst _require = require(\"events\"),\n      EventEmitter = _require.EventEmitter;\n\nmodule.exports.WebSocketClient = class WebSocketClient {\n  constructor({\n    src,\n    reconnect,\n    interval\n  }) {\n    this.src = src;\n    this.reconnect = reconnect;\n    this.interval = interval;\n    this.opened = false;\n    this.ended = false;\n    this.ee = new EventEmitter();\n  }\n\n  open() {\n    const exec = (type, args) => this.ee.listeners(type).forEach(l => l(...args));\n\n    const open = () => {\n      this.instance = new global.WebSocket(this.src); // Make Chrome behave and close the websocket connection\n      // before unloading the browsing context. Ref: https://github.com/websockets/ws/issues/1256\n\n      global.addEventListener(\"beforeunload\", this.close);\n      this.instance.addEventListener(\"open\", (...args) => {\n        this.opened = true;\n        exec(\"open\", args);\n      });\n      this.instance.addEventListener(\"close\", (...args) => {\n        global.removeEventListener(\"beforeunload\", this.close);\n        this.opened = false;\n        exec(\"close\", args);\n      });\n      this.instance.addEventListener(\"error\", (...args) => {\n        global.removeEventListener(\"beforeunload\", this.close);\n        this.opened = false;\n        exec(\"error\", args);\n      });\n      this.instance.addEventListener(\"message\", (...args) => {\n        exec(\"message\", args);\n      });\n    };\n\n    open();\n\n    if (this.reconnect) {\n      this.loop = setInterval(() => {\n        if (this.ended || this.opened) {\n          return;\n        }\n\n        open();\n      }, this.interval);\n    }\n  }\n\n  close() {\n    this.ended = true;\n\n    if (this.opened) {\n      this.instance.close();\n    }\n  }\n\n  onOpen(handler) {\n    this.ee.on(\"open\", handler);\n  }\n\n  onClose(handler) {\n    this.ee.on(\"close\", handler);\n    this.instance.addEventListener(\"close\", handler);\n  }\n\n  onError(handler) {\n    this.ee.on(\"error\", handler);\n    this.instance.addEventListener(\"error\", handler);\n  }\n\n  onMessage(handler) {\n    this.ee.on(\"message\", handler);\n    this.instance.addEventListener(\"message\", handler);\n  }\n\n};\n//# sourceMappingURL=index.js.map","import { patchLocation } from \"./\";\n\nexport default activateNode;\nexport const type = \"ACTIVATE_NODE\";\n\nfunction activateNode(id) {\n  return dispatch => {\n    dispatch(\n      patchLocation({\n        query: {\n          \"active-node\": id\n        }\n      })\n    );\n  };\n}\n\nactivateNode.key = \"\";\nactivateNode.property = \"\";\nactivateNode.type = type;\n","export default applyState;\nexport const type = \"@@APPLY_STATE\";\n\nfunction applyState(payload) {\n  return {\n    type,\n    payload\n  };\n}\n","import { push } from \"react-router-redux\";\nimport toggleNavigation from \"./toggle-navigation\";\nimport {flat as selectPool} from \"../selectors/pool\";\n\nexport default arrow;\nexport const type = \"ARROW\";\n\nconst OFFSETS = {\n  up: -1,\n  down: 1,\n  default: 0\n};\n\nfunction arrow(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    // Is handled locally\n    if (state.searchEnabled) {\n      return;\n    }\n\n    switch (payload) {\n      case \"right\": {\n        if (state.navigationEnabled) {\n          return dispatch(toggleNavigation());\n        }\n        return;\n      }\n      case \"left\": {\n        if (!state.navigationEnabled) {\n          return dispatch(toggleNavigation());\n        }\n        return;\n      }\n      case \"up\":\n      case \"down\":\n      default: {\n        if (!state.navigationEnabled) {\n          return;\n        }\n\n        const offset = payload in OFFSETS ? OFFSETS[payload] : OFFSETS.default;\n        const pool = selectPool(state);\n        const index = pool.findIndex((item) => `${item.contentType}/${item.id}` === state.id || state.id === '/' && item.id === '/root');\n        const next = pool[index + offset];\n        if (next) {\n          go(dispatch)(next.href);\n        }\n      }\n    }\n  };\n}\n\nfunction go(dispatch) {\n  return next => dispatch(push(next));\n}\n\n","import path from \"path\";\nimport urlQuery from \"../utils/url-query\";\nimport { patchLocation } from \"./\";\n\nexport default changeConcern;\nexport const type = \"CHANGE_CONCERN\";\n\nfunction changeConcern(concern) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const location = state.routing.locationBeforeTransitions;\n    const parsed = urlQuery.parse(location.query.source);\n    const previous = parsed.pathname;\n    const ext = path.extname(previous);\n\n    const hasDemo = state.pattern.files.some(file => {\n      return file.concern === \"demo\" && file.type === ext.slice(1);\n    });\n\n    const type = concern === \"index\" && hasDemo ? \"source\" : parsed.query.type;\n\n    const source = urlQuery.format({\n      pathname: `${path.dirname(previous)}/${concern}${ext}`,\n      query: {\n        ...parsed.query,\n        type\n      }\n    });\n\n    dispatch(\n      patchLocation({\n        query: {\n          source\n        }\n      })\n    );\n  };\n}\n\nchangeConcern.type = type;\n","import assert from \"assert\";\nimport { includes, merge } from \"lodash\";\nimport urlQuery from \"../utils/url-query\";\nimport { patchLocation } from \"./\";\n\nexport default changeType;\nexport const type = \"CHANGE_TYPE\";\n\nfunction changeType(input) {\n  assert.equal(\n    typeof input,\n    \"string\",\n    \"input for changeType action must be of type string\"\n  );\n\n  return (dispatch, getState) => {\n    const location = getState().routing.locationBeforeTransitions;\n    const parsed = urlQuery.parse(location.query.source || \"\");\n    const type = includes([\"source\", \"transformed\"], input) ? input : \"source\";\n    const query = { type };\n    const source = urlQuery.format(merge({}, parsed, { query }));\n    dispatch(patchLocation({ query: { source } }));\n  };\n}\n\nchangeType.type = type;\n","import { patchLocation, dismissAllMessages } from \"./\";\n\nexport default closeAllTheThings;\nexport const type = \"CLOSE_ALL_THE_THINGS\";\n\nfunction closeAllTheThings() {\n  return dispatch => {\n    dispatch(dismissAllMessages());\n    dispatch(\n      patchLocation({\n        query: {\n          issue: null,\n          lightbox: null,\n          \"menu-enabled\": null,\n          \"network-enabled\": null,\n          \"search-enabled\": null,\n          source: null,\n          \"source-expanded\": null\n        }\n      })\n    );\n  };\n}\n\ncloseAllTheThings.type = type;\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DEMO_CONTENT_RESIZE\", ({ width, height }) => ({\n  width,\n  height\n}));\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DISMISS_ALL_MESSAGES\");\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"DISMISS_MESSAGE\");\n","import assert from \"assert\";\nimport { handleActions } from \"redux-actions\";\nimport { entries, pick } from \"lodash\";\n\nexport default handleDependentActions;\n\nfunction partialReduce(deps) {\n  return handlers => {\n    return entries(handlers).reduce((registry, entry) => {\n      const [name, fn] = entry;\n      registry[name] = (state, action) => {\n        return fn(state, action, deps);\n      };\n      return registry;\n    }, {});\n  };\n}\n\nfunction handleDependentActions(actionHandlers, options) {\n  assert.ok(\n    Array.isArray(options.dependencies),\n    \"options.dependencies must be an array\"\n  );\n\n  const handler = (...args) => {\n    const [, , dependencies = {}] = args;\n\n    if (Object.keys(dependencies).length > 0) {\n      const missing = options.dependencies.filter(\n        dependency => !(dependency in dependencies)\n      );\n      assert.ok(\n        missing.length === 0,\n        `dependencies for ${Object.keys(actionHandlers).join(\n          \", \"\n        )} must be present in state. missing: ${missing.join(\n          \",\"\n        )}. available: ${Object.keys(dependencies)}`\n      );\n    }\n\n    const deps = pick(dependencies, options.dependencies);\n    const handlers = partialReduce(deps)(actionHandlers);\n    const reducer = handleActions(handlers, options.defaultValue);\n    return reducer(...args);\n  };\n  handler.dependencies = options.dependencies;\n  return handler;\n}\n","import activateNode from \"./activate-node\";\nimport applyState from \"./apply-state\";\nimport arrow from \"./arrow\";\nimport changeConcern from \"./change-concern\";\nimport changeType from \"./change-type\";\nimport closeAllTheThings from \"./close-all-the-things\";\nimport demoContentResize from \"./demo-content-resize\";\nimport dismissAllMessages from \"./dismiss-all-messages\";\nimport dismissMessage from \"./dismiss-message\";\nimport listen from \"./listen\";\nimport loadPatternDemo from \"./load-pattern-demo\";\nimport loadSchema from \"./load-schema\";\nimport openDocumentation from \"./open-documentation\";\nimport openFullscreen from \"./open-fullscreen\";\nimport patchLocation from \"./patch-location\";\nimport reload from \"./reload\";\nimport resizeDemo from \"./resize-demo\";\nimport scrollDemo from \"./scroll-demo\";\nimport scrollTo from \"./scroll-to\";\nimport search from \"./search\";\nimport searchPreview from \"./search-preview\";\nimport themeLoaded from \"./theme-loaded\";\nimport toggleCode from \"./toggle-code\";\nimport toggleConsole from \"./toggle-console\";\nimport toggleDependencies from \"./toggle-dependencies\";\nimport toggleDependents from \"./toggle-dependents\";\nimport toggleDoc from \"./toggle-doc\";\nimport toggleHide from \"./toggle-hide\";\nimport toggleInfo from \"./toggle-info\";\nimport toggleKeyboardShortcuts from \"./toggle-keyboard-shortcuts\";\nimport toggleManifest from \"./toggle-manifest\";\nimport toggleNavigation from \"./toggle-navigation\";\nimport toggleNetwork from \"./toggle-network\";\nimport toggleOpacity from \"./toggle-opacity\";\nimport toggleComponentsEnabled from \"./toggle-components-enabled\";\nimport toggleRulers from \"./toggle-rulers\";\nimport toggleSearch from \"./toggle-search\";\nimport toggleTheme from \"./toggle-theme\";\nimport windowResize from \"./window-resize\";\n\nexport {\n  activateNode,\n  applyState,\n  arrow,\n  changeConcern,\n  changeType,\n  closeAllTheThings,\n  demoContentResize,\n  dismissAllMessages,\n  dismissMessage,\n  listen,\n  loadPatternDemo,\n  loadSchema,\n  openDocumentation,\n  openFullscreen,\n  patchLocation,\n  reload,\n  resizeDemo,\n  scrollDemo,\n  scrollTo,\n  search,\n  searchPreview,\n  themeLoaded,\n  toggleCode,\n  toggleConsole,\n  toggleDependencies,\n  toggleDependents,\n  toggleDoc,\n  toggleHide,\n  toggleInfo,\n  toggleKeyboardShortcuts,\n  toggleManifest,\n  toggleNavigation,\n  toggleNetwork,\n  toggleOpacity,\n  toggleComponentsEnabled,\n  toggleRulers,\n  toggleSearch,\n  toggleTheme,\n  windowResize\n};\n","import url from \"url\";\nimport { WebSocketClient } from \"@patternplate/websocket-client\";\nimport ARSON from \"arson\";\nimport { createPromiseThunkAction } from \"./promise-thunk-action\";\nimport loadPatternDemo from \"./load-pattern-demo\";\nimport loadSchema from \"./load-schema\";\nimport { flat as selectPool } from \"../selectors/pool\";\nimport { patchLocation } from \"./\";\n\nexport default createPromiseThunkAction(\n  \"LISTEN\",\n  (payload, dispatch, getState) => {\n    const { WebSocket } = global;\n\n    if (!WebSocket) {\n      return;\n    }\n\n    const state = getState();\n\n    window.addEventListener(\"message\", envelope => {\n      if (typeof envelope.data !== \"string\") {\n        return;\n      }\n\n      if (envelope.data.indexOf(\"[iFrameSizer]\") === 0) {\n        return;\n      }\n\n      const message = safeParse(envelope.data);\n      if (message.type === \"navigate\") {\n        dispatch(\n          patchLocation({\n            pathname: [message.itemType, message.id].join(\"/\")\n          })\n        );\n      }\n    });\n\n    if (state.isStatic) {\n      return;\n    }\n\n    const source = url.resolve(state.base, payload.url);\n\n    const ws = new WebSocketClient({\n      src: `ws://${global.location.host}${source}/`,\n      reconnect: true,\n      interval: 1000\n    });\n\n    ws.open();\n\n    ws.onOpen(() => dispatch({ type: \"LISTEN_HEARTBEAT\", payload: {} }));\n    ws.onClose(() => dispatch({ type: \"ERROR_HEARTBEAT\", payload: {} }));\n    ws.onError(() => dispatch({ type: \"ERROR_HEARTBEAT\", payload: {} }));\n\n    ws.onMessage(async envelope => {\n      const message = ARSON.parse(envelope.data);\n      const { type, payload } = message;\n\n      switch (type) {\n        case \"error\":\n          return dispatch({\n            type: \"ERROR_HEARTBEAT\",\n            payload\n          });\n        case \"start\": {\n          dispatch(loadSchema());\n          // TODO: only reload pattern if the current pattern is affected\n          return dispatch(loadPatternDemo({ force: false }));\n        }\n        case \"done\": {\n          return dispatch({\n            type: \"LISTEN_HEARTBEAT\",\n            payload: {}\n          });\n        }\n        case \"change\": {\n          return dispatch(loadSchema());\n        }\n        default: {\n          throw new TypeError(`Received unknown message of type ${type}`);\n        }\n      }\n    });\n  }\n);\n\nfunction safeParse(data) {\n  try {\n    return JSON.parse(data);\n  } catch (err) {\n    return {};\n  }\n}\n","import fetch from \"isomorphic-fetch\";\nimport * as demo from \"../selectors/demo\";\n\nexport default (payload) => {\n  return async (dispatch, getState) => {\n    const getSrc = src(getState);\n    const uri = getSrc();\n\n    if (!uri) {\n      return;\n    }\n\n    dispatch({\n      type: \"LOAD_PATTERN_DEMO_START\",\n      payload: { id: uri }\n    });\n\n    const response = await fetch(uri, {\n      headers: { Accept: \"text/html\" }\n    });\n\n    // Bail if the src changed in the meantime\n    if (uri !== getSrc()) {\n      return;\n    }\n\n    const body = await response.text();\n\n    // Bail if the src changed in the meantime\n    if (uri !== getSrc()) {\n      return;\n    }\n\n    if (response.status >= 400) {\n      return dispatch({\n        type: \"LOAD_PATTERN_DEMO_ERROR\",\n        payload: { id: uri, error: body }\n      });\n    }\n\n    dispatch({\n      type: \"LOAD_PATTERN_DEMO_SUCCESS\",\n      payload: { id: uri, contents: body, force: payload.force }\n    });\n  };\n};\n\nfunction src(getState) {\n  return () => demo.selectSrc(getState());\n}\n","import url from \"url\";\nimport { createPromiseThunkAction } from \"./promise-thunk-action\";\nimport fetch from \"../utils/fetch\";\n\nexport default createPromiseThunkAction(\n  \"LOAD_SCHEMA\",\n  async (_, __, getState) => {\n    const response = await fetch(`${prefix(getState().base)}/api/state.json`);\n    return response.json();\n  }\n);\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"MARK_BLOCK\");\n","import { patchLocation } from \"./\";\n\nexport default openDocumentation;\nexport const type = \"OPEN_DOCUMENTATION\";\n\nfunction openDocumentation() {\n  return (dispatch, getState) => {\n    const state = getState();\n    const pathname = state.base;\n    dispatch(patchLocation({ pathname }));\n  };\n}\n\nopenDocumentation.key = \"\";\nopenDocumentation.property = \"\";\nopenDocumentation.type = type;\n","import urlQuery from \"../utils/url-query\";\nimport { selectId, selectContentType } from \"../selectors/item\";\n\nexport default openFullscreen;\nexport const type = \"OPEN_FULLSCREEN\";\n\nfunction openFullscreen() {\n  return (dispatch, getState) => {\n    if (!global.open) {\n      return;\n    }\n\n    const state = getState();\n    const contentType = selectContentType(state);\n\n    if (contentType !== \"pattern\") {\n      return;\n    }\n\n    const id = selectId(state);\n\n    if (!id) {\n      return;\n    }\n\n    const href = urlQuery.format({\n      pathname: `${state.base}api/demo/${id}.html`\n    });\n\n    global.open(href, \"_blank\");\n  };\n}\n\nopenFullscreen.key = \"\";\nopenFullscreen.property = \"\";\nopenFullscreen.type = type;\n","import { merge } from \"lodash\";\nimport { push } from \"react-router-redux\";\nimport url from \"url\";\n\nexport default patchLocation;\nexport const type = \"PATCH_LOCATION\";\n\nfunction patchLocation(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n    const location = state.routing.locationBeforeTransitions;\n\n    if (payload.hasOwnProperty(\"pathname\")) {\n      payload.pathname = payload.pathname.indexOf(state.base) === 0\n        ? payload.pathname\n        : `${prefix(state.base)}/${payload.pathname}`;\n    }\n\n    dispatch(push(merge({}, location, payload)));\n  };\n}\n\npatchLocation.type = type;\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createAction } from \"redux-actions\";\nimport handleDependentActions from \"./handle-dependent-actions\";\n\nconst ident = i => i;\nconst asyncIdent = async i => i;\n\nexport function createPromiseThunkAction(name, rawCreator) {\n  const creator = rawCreator || asyncIdent;\n\n  const fn = payload => {\n    const delayedAction = createAction(`${name}_DELAYED`);\n    const successAction = createAction(`${name}_SUCCESS`);\n    const startAction = createAction(`${name}_START`);\n    const throwsAction = createAction(`${name}_THROWS`);\n\n    return async (dispatch, getState) => {\n      dispatch(startAction(payload, ident, getState));\n      const delayedTimer = global.setTimeout(() => {\n        dispatch(delayedAction(payload, ident, getState));\n      }, 1000);\n      try {\n        const result = await Promise.resolve(\n          creator(payload, dispatch, getState)\n        );\n        global.clearTimeout(delayedTimer);\n        dispatch(successAction(result));\n        return result;\n      } catch (error) {\n        console.error(error);\n        global.clearTimeout(delayedTimer);\n        dispatch(throwsAction(error));\n        return error;\n      }\n    };\n  };\n  fn.__name = name;\n  return fn;\n}\n\nexport function handlePromiseThunkAction(rawName, handler, options = {}) {\n  const name = rawName.__name || rawName;\n  options.dependencies = options.dependencies || [];\n  const reducer = handleDependentActions(\n    {\n      [`${name}_START`]: handler.start || ident,\n      [`${name}_DELAYED`]: handler.delayed || ident,\n      [`${name}_SUCCESS`]: handler.success || ident,\n      [`${name}_THROWS`]: handler.throws || ident\n    },\n    options\n  );\n  return reducer;\n}\n","import { loadPatternDemo, loadSchema } from \"./\";\n\nexport default reload;\n\nfunction reload() {\n  return async dispatch => {\n    const actions = [\n      async () => dispatch(await Promise.resolve(loadSchema())),\n      loadPatternDemo({ force: true })\n    ];\n\n    await Promise.all(actions.map(dispatch));\n  };\n}\n\nreload.type = \"RELOAD\";\nreload.key = \"\";\nreload.property = \"\";\n","import { patchLocation } from \"./\";\n\nexport default resizeDemo;\nexport const type = \"RESIZE_DEMO\";\n\nfunction resizeDemo(payload) {\n  return dispatch => {\n    dispatch(\n      patchLocation({\n        query: {\n          width: payload.x,\n          height: payload.y\n        }\n      })\n    );\n  };\n}\n\nresizeDemo.type = type;\n","export default scrollDemo;\nexport const type = \"SCROLL_DEMO\";\n\nlet loop;\nlet frame;\n\nfunction scrollDemo(payload) {\n  return (dispatch, getState) => {\n    function run() {\n      loop = global.requestAnimationFrame(() => {\n        const state = getState();\n\n        if (state.scrollDemoX.x !== frame.x) {\n          dispatch({\n            type: \"SCROLL_DEMO_X\",\n            payload: frame.x\n          });\n        }\n        if (state.scrollDemoY.y !== frame.y) {\n          dispatch({\n            type: \"SCROLL_DEMO_Y\",\n            payload: frame.y\n          });\n        }\n        run();\n      });\n    }\n\n    if (!loop) {\n      run();\n    }\n\n    frame = payload;\n  };\n}\n\nscrollDemo.type = type;\n","import scrollparent from \"scrollparent\";\n\nexport default scrollTo;\nexport const type = \"SCROLL_TO\";\n\nconst NOOP = () => {};\n\nfunction scrollTo(to) {\n  const { document } = global;\n\n  if (!document) {\n    return NOOP;\n  }\n\n  const target = getTarget(to);\n\n  if (!target) {\n    return NOOP;\n  }\n\n  const parent = scrollparent(target);\n\n  if (!parent) {\n    return NOOP;\n  }\n\n  parent.scrollTop = target.offsetParent.offsetTop;\n\n  return dispatch => {\n    dispatch({\n      type: \"SCROLLED_TO\",\n      payload: to\n    });\n  };\n}\n\nfunction getTarget(to) {\n  if (typeof to === \"string\") {\n    return document.getElementById(to);\n  }\n\n  return to;\n}\n\nscrollTo.type = type;\n","import { patchLocation } from \"./\";\n\nexport default searchPreview;\nexport const type = \"SEARCH_PREVIEW\";\n\nconst MOVEMENTS = {\n  up: -1,\n  down: 1\n};\n\nfunction searchPreview(payload) {\n  if (typeof payload === \"number\") {\n    return dispatch => {\n      dispatch(\n        patchLocation({\n          query: {\n            \"search-preview\": payload\n          }\n        })\n      );\n    };\n  }\n\n  return (dispatch, getState) => {\n    const state = getState();\n    const delta = MOVEMENTS[payload] || 0;\n\n    dispatch(\n      patchLocation({\n        query: {\n          \"search-preview\": state.searchPreview + delta\n        }\n      })\n    );\n  };\n}\n\nsearchPreview.type = type;\n","import raf from \"raf\";\nimport { patchLocation } from \"./\";\n\nexport default search;\nexport const type = \"SEARCH\";\n\nfunction search(payload) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    dispatch({\n      type: \"SET_SEARCH\",\n      payload: payload.value\n    });\n\n    raf(() => {\n      if (payload.persist) {\n        dispatch(\n          patchLocation({\n            query: {\n              search: payload.value,\n              \"search-preview\":\n                state.search === payload.value ? state.searchPreview : 0\n            }\n          })\n        );\n      } else if (payload.perform) {\n        dispatch({\n          type: \"PERFORM_SEARCH\",\n          payload: payload.value\n        });\n      }\n    });\n  };\n}\n\nsearch.type = type;\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"THEME_LOADED\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"code-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"components-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"console-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"dependencies-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"dependents-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"doc-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"hide-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"info-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"shortcuts\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"manifest-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"navigation-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"network-enabled\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"opacity\");\n","import { toggle } from \"./toggle\";\n\nexport default toggle(\"rulers\");\n","import { patchLocation, search } from \"./\";\n\nexport default toggleSearch;\n\nexport const type = \"TOGGLE_SEARCH_ENABLED\";\n\nfunction toggleSearch(payload = {}) {\n  return (dispatch, getState) => {\n    const state = getState();\n\n    if (payload.sync) {\n      focus(state.searchEnabled);\n      return;\n    }\n\n    const next = \"focus\" in payload ? payload.focus : !state.searchEnabled;\n\n    if (!next) {\n      dispatch(search({ persist: true, value: value() }));\n    }\n\n    dispatch(\n      patchLocation({ query: { \"search-enabled\": next, \"search-preview\": 0 } })\n    );\n  };\n}\n\ntoggleSearch.type = type;\ntoggleSearch.key = \"search-enabled\";\ntoggleSearch.property = \"searchEnabled\";\n\nfunction focus(next) {\n  if (!next) {\n    return;\n  }\n\n  if (!(\"document\" in global)) {\n    return;\n  }\n\n  setTimeout(() => {\n    const el = global.document.querySelector(\"input[data-search]\");\n\n    if (!el) {\n      return;\n    }\n\n    if (global.document.activeElement !== el) {\n      el.focus();\n    }\n\n    const range = el.value.length;\n    el.setSelectionRange(range, range);\n  }, 100);\n}\n\nfunction value() {\n  if (!(\"document\" in global)) {\n    return;\n  }\n\n  const el = global.document.querySelector(\"input[data-search]\");\n\n  if (!el) {\n    return;\n  }\n\n  return el.value;\n}\n","import { patchLocation } from \"./\";\n\nexport default toggleTheme;\nexport const type = \"TOGGLE_THEME\";\n\nfunction toggleTheme(forced) {\n  return (dispatch, getState) => {\n    const theme = forced\n      ? forced\n      : getState().theme === \"dark\" ? \"light\" : \"dark\";\n    dispatch(\n      patchLocation({\n        query: {\n          theme\n        }\n      })\n    );\n  };\n}\n\ntoggleTheme.type = type;\n","import { camelCase, snakeCase } from \"lodash\";\nimport { patchLocation } from \"./\";\n\nexport function toggle(key) {\n  const property = camelCase(key);\n\n  const fn = (payload = {}) => {\n    return (dispatch, getState) => {\n      const next = \"forced\" in payload ? payload.forced : !getState()[property];\n      dispatch(patchLocation({ query: { [key]: next } }));\n    };\n  };\n\n  fn.type = `TOGGLE_${snakeCase(key).toUpperCase()}`;\n  fn.property = property;\n  fn.key = key;\n  return fn;\n}\n","import { createAction } from \"redux-actions\";\n\nexport default createAction(\"WINDOW_RESIZE\", ({ width, height }) => ({\n  width,\n  height\n}));\n","import React from \"react\";\n\nexport function mountable(Component) {\n  return class MountableComponent extends React.Component {\n    componentDidMount() {\n      if (typeof this.props.onMount === \"function\") {\n        this.props.onMount();\n      }\n    }\n    render() {\n      const { onMount, ...rest } = this.props;\n      return <Component {...rest} />;\n    }\n  };\n}\n\nexport function skippable(Component, prop = \"active\") {\n  return props => (props[prop] === true ? <Component {...props} /> : null);\n}\n","import React from \"react\";\nimport { hydrate } from \"react-dom\";\nimport { Router, browserHistory } from \"@marionebl/react-router\";\nimport { Provider } from \"react-redux\";\nimport { syncHistoryWithStore } from \"react-router-redux\";\n\nimport routes from \"./routes\";\nimport configureStore from \"./store\";\n\nexport default function(data, el) {\n  const store = configureStore(browserHistory, data);\n  const history = syncHistoryWithStore(browserHistory, store);\n\n  const router = (\n    <Provider store={store}>\n      <Router history={history}>{routes(store)}</Router>\n    </Provider>\n  );\n\n  return hydrate(router, el);\n}\n","import React from \"react\";\nimport { Link, styled } from \"@patternplate/components\";\n\nexport default ToggleButton;\n\nfunction ToggleButton(props) {\n  const title =\n    props.title ||\n    `${props.shortcut.description(props)} ${props.shortcut.toString()}`;\n\n  if (props.active === false) {\n    return (\n      <StandIn className={props.className} title={title}>\n        {props.children}\n      </StandIn>\n    );\n  }\n\n  return (\n    <Link\n      className={props.className}\n      title={title}\n      query={{ [props.shortcut.key]: !props.enabled }}\n    >\n      {props.children}\n    </Link>\n  );\n}\n\nconst StandIn = styled.div`\n  font-size: 0;\n  line-height: 0;\n`;\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\nimport { findDOMNode } from \"react-dom\";\nimport Helmet from \"react-helmet\";\nimport Markdown from \"../containers/markdown\";\n\nexport default class Documentation extends React.Component {\n  componentWillUpdate(nextProps) {\n    const {props} = this;\n    const changed = props.location.pathname !== nextProps.location.pathname;\n    if (changed && typeof props.requestScroll === \"function\") {\n      props.requestScroll(findDOMNode(this.ref));\n    }\n  }\n\n  render () {\n    const {props} = this;\n    return (\n      <StyledDocumentation ref={ref => this.ref = ref}>\n        <div id=\"doctop\"/>\n        <Helmet\n          title={props.displayName}\n          />\n        <Markdown\n          linkable\n          source={props.doc}\n          />\n      </StyledDocumentation>\n    );\n  }\n}\n\nconst StyledDocumentation = styled.div`\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n  max-width: 860px;\n  padding: 80px 15px 15px 15px;\n  @media screen and (min-width: 720px) {\n    padding: 60px;\n  }\n`;\n","import React from \"react\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport Helmet from \"react-helmet\";\nimport {\n  styled,\n  themes,\n  Symbol,\n  IconDefinitions,\n  svg\n} from \"@patternplate/components\";\n\nimport platform from \"platform\";\n\nconst THEMES = themes();\n\nconst SVG_FAVICON_SUPPORT = [\"Firefox\"];\n\nclass FavIcon extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    if (SVG_FAVICON_SUPPORT.indexOf(platform.name) > -1) {\n      return;\n    }\n\n    svg\n      .png(getSource(this.props))\n      .then(pngHref => this.setState({\n        pngHref\n      }))\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          pngHref: null\n        });\n      });\n  }\n\n  componentWillReceiveProps(next) {\n    if (SVG_FAVICON_SUPPORT.indexOf(platform.name) > -1) {\n      return;\n    }\n\n    svg\n      .png(getSource(next))\n      .then(pngHref => this.setState({\n        pngHref\n      }))\n      .catch(err => {\n        console.error(err);\n        this.setState({\n          pngHref: null\n        });\n      });\n  }\n\n  render() {\n    const source = getSource(this.props);\n    const svgHref = svg.btoa(source);\n\n    return (\n      <Helmet\n        link={[\n          ...(this.state.pngHref ? [{ rel: \"icon\", href: this.state.pngHref, type: \"image/png\" }] : []),\n          {\n            rel: \"icon\",\n            href: svgHref,\n            type: \"image/svg+xml\"\n          }\n        ]}\n      />\n    );\n  }\n}\n\nexport default styled(FavIcon)`\n  width: 100%;\n  height: auto;\n  stroke: ${props => props.theme.colors.color};\n  stroke-width: 0;\n  fill: ${props => props.theme.colors.color};\n`;\n\nfunction getSource(props) {\n  if (!props.source) {\n    return renderToStaticMarkup(\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <Symbol\n          definition={IconDefinitions.patternplate}\n          emit\n          style={{ fill: getFill(props) }}\n        />\n      </svg>\n    );\n  }\n\n  const [purged] = svg.purge([svg.parse(props.source)]);\n  return svg.stringify(purged);\n}\n\nfunction getFill(props) {\n  if (props.error) {\n    return THEMES.dark.error;\n  }\n  return THEMES.dark.active;\n}\n","import React from \"react\";\nimport { styled, css, keyframes, Text } from \"@patternplate/components\";\n\nexport default Indicator;\n\nfunction Indicator(props) {\n  return (\n    <StyledIndicator\n      onClick={props.onClick}\n      title={\n        isValid(props.status) ? `Force sync ${props.shortcut.toString()}` : \"\"\n      }\n    >\n      <StyledLabel size=\"s\" status={props.status}>\n        {getLabel(props)}\n      </StyledLabel>\n      <StyledDot status={props.status} />\n    </StyledIndicator>\n  );\n}\n\nconst StyledDot = styled.div`\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: 7.5px;\n  width: 7.5px;\n  margin-right: 5px;\n  border-radius: 50%;\n  background: ${props =>\n    props.status === \"error\" || props.status === \"offline\"\n      ? \"rgb(205, 63, 69)\"\n      : props.theme.colors.active};\n  transition: background 0.4s ease-in-out, opacity 0.5s ease-in;\n  opacity: ${props => (props.status ? 1 : 0)};\n  cursor: ${props => (props.status ? \"pointer\" : \"\")};\n  ${props => getGlow(props)};\n`;\n\nconst StyledIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst StyledLabel = styled(Text)`\n  position: absolute;\n  right: 20px;\n  color: ${props => props.theme.colors.color};\n  ${props => getOut(props)};\n`;\n\nfunction getGlow(props) {\n  return `\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\theight: 12px;\n\t\t\twidth: 12px;\n\t\t\tfilter: blur(3px);\n\t\t\tbackground: inherit;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\topacity: .6;\n\t\t\t${getPulse(props)};\n\t\t}\n\t`;\n}\n\nconst out = keyframes`\n\tto {\n\t\topacity: 0;\n\t}\n`;\n\nfunction getOut(props) {\n  if (props.status !== \"loaded\") {\n    return;\n  }\n\n  return css`\n    animation: ${out} 1s 0.15s;\n    animation-fill-mode: forwards;\n  `;\n}\n\nfunction getLabel(props) {\n  switch (props.status) {\n    case \"error\":\n      return \"error\";\n    case \"offline\":\n      return \"offline\";\n    case \"loaded\":\n      return \"synced\";\n    case \"loading\":\n      return \"syncing\";\n    default:\n      return \"\";\n  }\n}\n\nconst pulse = keyframes`\n  from {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  50% {\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(.75);\n  }\n  to {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n`;\n\nfunction getPulse(props) {\n  if (props.status !== \"loading\") {\n    return;\n  }\n\n  return css`\n    animation: ${pulse} 1s infinite;\n  `;\n}\n\nfunction isValid(status) {\n  return [\"loading\", \"loaded\"].includes(status);\n}\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\n\nexport default Message;\n\nfunction Message(props) {\n  return (\n    <StyledMessage>\n      <StyledMessageContent>\n        {props.message}\n        {props.details && (\n          <StyledDetails>\n            {props.summary && <StyledSummary>{props.summary}</StyledSummary>}\n            {props.details}\n          </StyledDetails>\n        )}\n      </StyledMessageContent>\n    </StyledMessage>\n  );\n}\n\nconst StyledMessage = styled.div`\n  background: ${props => props.theme.colors.error};\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 20px;\n`;\n\nconst StyledMessageContent = styled.pre`\n  color: #fff;\n  max-height: calc(100vh - 160px);\n  overflow: scroll;\n`;\n\nconst StyledDetails = styled.details`\n  margin: 10px 0;\n`;\n\nconst StyledSummary = styled.summary`\n  outline: none;\n  cursor: pointer;\n  user-select: none;\n`;\n","import React, { Component } from \"react\";\n\nexport default class ClickOutside extends Component {\n  constructor(props) {\n    super(props);\n    this.handle = this.handle.bind(this);\n    this.getContainer = this.getContainer.bind(this);\n  }\n\n  getContainer(ref) {\n    this.container = ref;\n  }\n\n  render() {\n    return (\n      <div className={this.props.className} ref={this.getContainer}>\n        {this.props.children}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    global.document.addEventListener(\"click\", this.handle, true);\n  }\n\n  componentWillUnmount() {\n    global.document.removeEventListener(\"click\", this.handle, true);\n  }\n\n  handle(e) {\n    const { props } = this;\n    const el = this.container;\n    if (!el.contains(e.target)) {\n      props.onClickOutside(e);\n    }\n  }\n}\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport { Markdown, styled } from \"@patternplate/components\";\nimport tag from \"tag-hoc\";\nimport Transition from \"react-transition-group/Transition\";\n\nimport PatternDemo from \"./pattern-demo\";\nimport PatternSheet from \"./pattern-sheet\";\n\nconst btoa = global.btoa ? global.btoa : input => Buffer.from(input).toString('base64');\n\nconst VISIBILITY = props => (props.checkers ? \"block\" : \"none\");\nconst CROSSES = props => btoa(`\n<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path stroke-width=\"1\" stroke=\"#f2f2f2\" fill=\"none\" d=\"M10 6v8M6 10h8\"/>\n</svg>\n`);\n\nconst PAD = props => props.padded ? 50 : 0;\nconst OFF = props => props.navigationEnabled ? 300 : 0;\nconst OFFSET = props => PAD(props) + OFF(props);\n\nconst StyledPattern = styled(tag([\"checkers\", \"navigationEnabled\", \"padded\"])(\"div\"))`\n  position: fixed;\n  width: calc(100% - ${props => OFFSET(props) + PAD(props)}px);\n  top: ${PAD}px;\n  left: ${props => OFFSET(props)}px;\n  right: ${PAD}px;\n  bottom: ${PAD}px;\n  box-sizing: border-box;\n  height: 100%;\n  &::before {\n    content: \"\";\n    display: ${VISIBILITY};\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url(\"data:image/svg+xml;base64,${CROSSES}\");\n    background-size: 20px 20px;\n    background-repeat: repeat;\n    background-position: 50% 50%;\n  }\n`;\n\nconst StyledPatternFolder = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst StyledPatternDoc = styled.div`\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 30px;\n  box-sizing: border-box;\n`;\n\nconst StyledPatternDemo = styled.div`\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  max-width: 1920px;\n  margin: 0 auto;\n`;\n\nconst StyledPatternLoader = styled.div`\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 3px;\n  ${props => props.hidden ? 'display: none;' : ''}\n  &::after {\n    position: absolute;\n    top: 0;\n    z-index: 2;\n    content: \"\";\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: ${props =>\n      props.error ? props.theme.colors.error : props.theme.colors.active};\n    opacity: 1;\n    transition: ${props => (props.error ? \"none\" : \"transform 1s ease-in-out\")};\n    ${props => {\n      switch (props.status) {\n        case \"entering\":\n          return `\n            transform: translateX(-100%);\n          `;\n        case \"entered\":\n          return `${props =>\n            props.error ? \"\" : \"transform: translateX(-15%);\"}`;\n        case \"exiting\":\n          return `\n            transition: transform .3s ease-out;\n            transform: translateX(0);\n          `;\n        case \"exited\":\n        default:\n          return `\n            transform: translateX(-100%);\n            transition: opacity .3s .25s ease-out;\n          `;\n      }\n    }};\n  }\n`;\n\nconst PatternContainer = styled.div`\n  height: 100%;\n  padding-left: ${props => props.navigationEnabled ? 0 : 60}px;\n`;\n\nexport default class Pattern extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { srcdoc: false };\n  }\n\n  render() {\n    const { props } = this;\n\n    if (props.contentType !== \"pattern\") {\n      return null;\n    }\n\n    if (props.type === \"folder\") {\n      return (\n        <StyledPatternFolder>\n          <StyledPatternDoc>\n            <Markdown source={props.docs} />\n          </StyledPatternDoc>\n        </StyledPatternFolder>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <StyledPattern\n          padded={props.screenshot}\n          checkers={props.opacity}\n          navigationEnabled={props.navigationEnabled}\n          >\n          <Helmet\n            title={[getPrefix(props), props.displayName]\n              .filter(Boolean)\n              .join(\": \")}\n          />\n          <Transition\n            in={props.loading || props.error}\n            timeout={{ enter: 1000, exit: 850 }}\n          >\n            {status => (\n              <StyledPatternLoader\n                hidden={props.screenshot}\n                status={status}\n                error={props.error}\n                />\n            )}\n          </Transition>\n          <StyledPatternDemo>\n            <PatternContainer navigationEnabled={props.navigationEnabled}>\n              <PatternDemo\n                src={props.src}\n                contents={props.contents}\n                loading={props.loading}\n                updated={props.updated}\n              />\n            </PatternContainer>\n          </StyledPatternDemo>\n        </StyledPattern>\n        <PatternSheet/>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction getPrefix(props) {\n  if (props.loading) {\n    return \"Load\";\n  }\n  if (props.error) {\n    return \"Error\";\n  }\n  return \"\";\n}\n","import React from \"react\";\nimport { styled } from \"@patternplate/components\";\n\nconst StyledDemo = styled.iframe`\n  width: 100%;\n  height: calc(100% - 30vh);\n  border: 0;\n`;\n\nfunction PatternDemo(props) {\n  const src = typeof props.updated === \"number\"\n    ? `${props.src}?reload=${props.updated}`\n    : props.src;\n\n  return <StyledDemo\n    src={src}\n    referrerpolicy=\"no-referrer\"\n    />;\n}\n\nexport default PatternDemo;\n","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport remark from \"remark\";\nimport emoji from \"remark-gemoji-to-emoji\";\n\nimport { Flag, Headline, Link, Markdown, styled, Tag, Text, ThemeProvider, themes } from \"@patternplate/components\";\n\nimport * as item from \"../../selectors/item\";\nimport Fullscreen from \"../../containers/trigger-fullscreen\";\nimport ToggleOpacity from \"../../containers/toggle-opacity\";\n\nconst processor = remark().use(emoji);\n\nexport default connect(mapProps)(PatternSheet);\n\nfunction PatternSheet(props) {\n  return (\n    <StyledPatternSheet screenshot={props.screenshot}>\n      <StyledPatternSheetContainer>\n          <StyledControlsBox>\n            <StyledName>\n              {props.name}\n              <StyledVersion>@{props.version}</StyledVersion>\n            </StyledName>\n            <ThemeProvider theme={themes().dark}>\n              <StyledControlsArea orient=\"right\">\n                <StyledControlsItem>\n                  <ToggleOpacity />\n                </StyledControlsItem>\n                <StyledControlsItem>\n                  <Fullscreen />\n                </StyledControlsItem>\n              </StyledControlsArea>\n            </ThemeProvider>\n          </StyledControlsBox>\n          {props.description &&\n            <StyledDescription>\n              {processor.processSync(props.description).contents}\n            </StyledDescription>\n          }\n          <StyledBoxLine>\n            <SearchTrigger field=\"flag\" search={props.flag}>\n              <Flag>{props.flag}</Flag>\n            </SearchTrigger>\n            <StyledTagList>\n              {\n                props.tags.map((tag, index) => (\n                  <SearchTrigger key={`${tag}-${index}`} field=\"tags\" search={tag}>\n                    <Tag>{tag}</Tag>\n                  </SearchTrigger>\n                ))\n              }\n            </StyledTagList>\n          </StyledBoxLine>\n          {typeof props.doc === \"string\" &&\n            <StyledMarkdownBox>\n              <Markdown\n                linkable={true}\n                source={props.doc}\n              />\n            </StyledMarkdownBox>\n          }\n      </StyledPatternSheetContainer>\n    </StyledPatternSheet>\n  );\n}\n\n\nconst StyledSearchTrigger = styled.span`\n  &:not(:first-child) {\n    margin-left: 10px;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n`;\n\nfunction SearchTrigger(props) {\n  return (\n    <StyledSearchTrigger>\n      <StyledLink\n        className={props.className}\n        query={{\n          \"search-enabled\": true,\n          search: `${props.field}=${props.search}`\n        }}\n        title={`Search other patterns with ${props.field} \"${props.search}\"`}\n      >\n        {props.children}\n      </StyledLink>\n    </StyledSearchTrigger>\n  );\n}\n\nfunction mapProps(state) {\n  return {\n    doc: item.selectContents(state),\n    description: item.selectDescription(state),\n    id: state.id,\n    icon: item.selectIcon(state),\n    type: item.selectType(state),\n    name: item.selectName(state),\n    flag: item.selectFlag(state),\n    tags: item.selectTags(state),\n    version: item.selectVersion(state),\n    screenshot: state.routing.locationBeforeTransitions.query.screenshot === \"true\"\n  };\n}\n\nconst TOOLBAR_HEIGHT = 60;\n\nconst StyledName = styled(props => <Headline {...props} is=\"h1\" order={1}/>)`\n  margin: 0 0 10px 0;\n`;\n\nconst StyledVersion = styled(props => <Headline {...props} is=\"small\" order={3}/>)`\n  display: inline-block;\n  color: ${props => props.theme.colors.color};\n  margin: 0;\n`;\n\nconst StyledDescription = styled(Text)`\n  color: ${props => props.theme.colors.recess};\n  margin-bottom: 20px;\n`;\n\nconst StyledPatternSheet = styled.div`\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 30vh;\n  margin-top: 70vh;\n  padding: 30px 60px;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.background};\n`;\n\nconst ORIENTATION = props => {\n  const direction = props.orient === \"right\" ? \"left\" : \"right\";\n  return `margin-${direction}: auto`;\n};\n\nconst StyledPatternSheetContainer = styled.div`\n  margin: 0 auto;\n  max-width: 1240px;\n`;\n\nconst StyledControlsArea = styled.div`\n  display: flex;\n  ${ORIENTATION};\n`;\n\nconst StyledControlsBox = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 0 0 auto;\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  background: white;\n`;\n\nconst StyledControlsItem = styled.div`\n  & + & {\n    padding-left: 10px;\n  }\n`;\n\nconst StyledTagList = styled.div`\n  display: inline-block;\n  margin-left: 10px;\n  padding: 2px 10px;\n  border-left: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst StyledBoxLine = styled.div`\n  display: flex;\n  align-items: center;\n  min-height: 32px;\n`;\n\nconst StyledMarkdownBox = styled.div`\n  margin-top: 30px;\n`;\n","import React from \"react\";\nimport { debounce } from \"lodash\";\n\nimport { SearchField as SearchFieldComponent } from \"@patternplate/components\";\n\nclass SearchField extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleStop = debounce(this.props.onStop, 300, { trailing: true });\n    this.timer = null;\n  }\n\n  handleChange(e) {\n    e.persist();\n    this.props.onChange(e);\n    this.handleStop(e);\n  }\n\n  handleKeyDown(e) {\n    const { target } = e;\n    const hasValue = target.value.length > 0;\n    const atEnd = hasValue && target.selectionStart === target.value.length;\n\n    if (e.which === 32 && e.altKey && e.ctrlKey) {\n      e.preventDefault();\n      this.props.onClose();\n    }\n    if (e.which !== 27) {\n      e.stopPropagation();\n    }\n    if (e.which === 27 && hasValue) {\n      e.preventDefault();\n      this.props.onClear();\n    }\n    if (e.which === 38) {\n      this.props.onUp(e);\n    }\n    if (e.which === 39 && atEnd && this.props.suggestion) {\n      e.preventDefault();\n      this.props.onComplete(this.props.suggestion);\n    }\n    if (e.which === 40 && atEnd) {\n      e.preventDefault();\n      this.props.onDown(e);\n    }\n  }\n\n  render() {\n    const props = this.props;\n\n    return (\n      <SearchFieldComponent\n        autoFocus={props.autoFocus}\n        name={props.name}\n        onBlur={props.onBlur}\n        onChange={this.handleChange}\n        onFocus={props.onFocus}\n        onKeyDown={this.handleKeyDown}\n        placeholder={props.placeholder}\n        suggestion={props.suggestion}\n        title={props.title}\n        value={props.value}\n        data-search={props.mark}\n      >\n        {props.children}\n      </SearchFieldComponent>\n    );\n  }\n}\n\nSearchField.defaultProps = {\n  blur: () => {},\n  onChange: () => {},\n  onFocus: () => {},\n  onUp: () => {},\n  onDown: () => {},\n  onBlur: () => {},\n  onStop: () => {},\n  value: \"\"\n};\n\nexport default SearchField;\n","import url from \"url\";\nimport { values } from \"lodash\";\nimport React from \"react\";\nimport {\n  Search as SearchComponents,\n  InnerInfoPane,\n  Icon,\n  Link,\n  Markdown,\n  styled,\n  Text\n} from \"@patternplate/components\";\nimport tag from \"tag-hoc\";\n\nimport Outside from \"./outside\";\nimport SearchField from \"./search-field\";\nimport withToggleStates from \"../connectors/with-toggle-states\";\nimport PassThrough from \"../containers/pass-through\";\n\nconst InfoPane = withToggleStates(InnerInfoPane);\nconst {\n  Search: SearchComponent,\n  SearchResult,\n  SearchResultList,\n  SearchResultHeading,\n  SearchResultPreview,\n  SearchFieldSlot,\n  Close: SearchClose,\n  PassThroughSlot: SearchPassThroughSlot\n} = SearchComponents;\n\nconst NOOP = () => { };\n\nexport default class Search extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUp = this.handleUp.bind(this);\n    this.handleDown = this.handleDown.bind(this);\n    this.handleActivate = this.handleActivate.bind(this);\n    this.handleScrollRequest = this.handleScrollRequest.bind(this);\n    this.getListRef = this.getListRef.bind(this);\n    this.getSearchResult = this.getSearchResult.bind(this);\n  }\n\n  handleScrollRequest(e) {\n    if (!this.list) {\n      return;\n    }\n    const l = this.list.getBoundingClientRect();\n    const i = e.target.getBoundingClientRect();\n\n    if (i.bottom > l.bottom) {\n      this.list.scrollTop = e.target.offsetTop - l.height + i.height;\n    }\n\n    if (i.top < l.top) {\n      this.list.scrollTop = e.target.offsetTop - 30;\n    }\n  }\n\n  getListRef(ref) {\n    this.list = ref;\n  }\n\n  getSearchResult = (item, type) => (\n    <SearchResult\n      active={(this.props.activeItem || {}).id === item.id}\n      href={[item.contentType, item.id].join('/')}\n      id={item.id}\n      index={item.index}\n      icon={item.manifest.icon || item.type}\n      name={item.manifest.displayName}\n      key={item.id}\n      onActivate={this.props.onActivate}\n      onScrollRequest={this.handleScrollRequest}\n      type={type}\n    />\n  );\n\n  getSearchResultPreview = () => {\n    const item = this.props.activeItem;\n\n    switch (item.contentType) {\n      case \"doc\":\n        return (\n          <SearchResultPreview {...this.props}>\n            <Markdown\n              source={item.contents}\n              />\n          </SearchResultPreview>\n        );\n      default:\n        return (\n          <SearchResultPreview {...this.props}>\n            <InfoPane\n              active\n              demoDependencies={values(item.demoDependencies)}\n              demoDependents={values(item.demoDependents)}\n              dependencies={values(item.dependencies)}\n              dependents={values(item.dependents)}\n              flag={item.manifest.flag}\n              id={item.id}\n              manifest={JSON.stringify(item.manifest, null, \"  \")}\n              name={item.manifest.displayName}\n              tags={item.manifest.tags}\n              version={item.manifest.version}\n            />\n          </SearchResultPreview>\n        );\n    }\n  }\n\n  componentDidMount() {\n    if (typeof this.props.onMount === \"function\") {\n      this.props.onMount();\n    }\n  }\n\n  handleActivate(e) {\n    const id = e.target.getAttribute(\"data-id\");\n    const index = [...this.props.docs, ...this.props.components].findIndex(\n      i => i.id === id\n    );\n\n    if (index > -1) {\n      this.props.onActivate(index);\n    }\n  }\n\n  handleUp(e) {\n    e.stopPropagation();\n    if (this.props.activeItem && this.props.activeItem.index > 0) {\n      e.preventDefault();\n      this.props.onUp();\n    }\n  }\n\n  handleDown(e) {\n    e.stopPropagation();\n    const available = this.props.components.length + this.props.docs.length - 2;\n\n    if (this.props.activeItem && available >= this.props.activeItem.index) {\n      this.props.onDown();\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const {props} = this;\n\n    if (!props.activeItem) {\n      return props.onSubmit(e);\n    }\n\n    const {activeItem} = props;\n    props.onNavigate(activeItem);\n  }\n\n  render() {\n    const { props } = this;\n\n    const withComponents = props.components.length > 0;\n    const withDocs = props.docs.length > 0;\n\n    return (\n      <SearchComponent\n        activeItem={props.activeItem}\n        docs={props.docs}\n        enabled={props.enabled}\n        inline={props.inline}\n        onActivate={props.inline ? NOOP : this.handleActivate}\n        onClickOutside={props.inline ? NOOP : props.onClickOutside}\n        onBlur={props.inline ? NOOP : props.onBlur}\n        onChange={props.inline ? NOOP : props.onChange}\n        onClear={props.inline ? NOOP : props.onClear}\n        onComplete={props.inline ? NOOP : props.onComplete}\n        onDown={props.inline ? NOOP : this.handleDown}\n        onFocus={props.inline ? NOOP : props.onFocus}\n        onStop={props.inline ? NOOP : props.onStop}\n        onSubmit={props.inline ? NOOP : this.handleSubmit}\n        onUp={props.inline ? NOOP : this.handleUp}\n        shortcuts={props.shortcuts}\n        suggestion={props.suggestion}\n        legend={props.legend}\n      >\n        <SearchResultList innerRef={this.getListRef}>\n          {withDocs > 0 && (\n            <SearchResultHeading>Docs ({props.docs.length})</SearchResultHeading>\n          )}\n\n          {props.docs.map(d => this.getSearchResult(d, \"doc\", props))}\n\n          {withComponents > 0 && (\n            <SearchResultHeading navigationEnabled={props.navigationEnabled}>\n              Components ({props.components.length})\n            </SearchResultHeading>\n          )}\n\n          {props.components.map(d => this.getSearchResult(d, \"pattern\"))}\n        </SearchResultList>\n\n        {(withComponents || withDocs) && this.getSearchResultPreview()}\n\n        <SearchFieldSlot>\n          <SearchField\n            autoFocus={!props.inline}\n            linkTo=\"/search\"\n            mark={props.inline ? null : true}\n            name={props.inline ? \"inline-search\" : \"search\"}\n            onBlur={props.onBlur}\n            onChange={props.onChange}\n            onClear={props.onClear}\n            onClose={props.onClose}\n            onComplete={props.onComplete}\n            onDown={this.handleDown}\n            onFocus={props.onFocus}\n            onStop={props.onStop}\n            onUp={this.handleUp}\n            placeholder=\"Search\"\n            suggestion={props.suggestion}\n            title={`Search for patterns ${props.shortcuts.toggleSearch.toString()}`}\n            value={props.value}\n          >\n            {props.enabled &&\n              <SearchClose\n                shortcut={props.shortcuts.close}\n                clears={typeof props.value === \"string\" && props.value.length > 0}\n              />\n            }\n          </SearchField>\n        </SearchFieldSlot>\n        <SearchPassThroughSlot>\n          <PassThrough query={{ \"search-enabled\": true, search: null }} />\n        </SearchPassThroughSlot>\n      </SearchComponent>\n    );\n  }\n}\n","import React from \"react\";\nimport { styled, Icon } from \"@patternplate/components\";\n\nimport ToggleButton from \"./common/toggle-button\";\n\nexport default Hamburger;\n\nfunction Hamburger(props) {\n  return (\n    <StyledToggleButton\n      enabled={props.enabled}\n      shortcut={props.shortcut}\n      >\n      <Icon symbol=\"hamburger\"/>\n      {props.shortcut.toString()}\n    </StyledToggleButton>\n  );\n}\n\nconst StyledToggleButton = styled(ToggleButton)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0;\n  line-height: 0;\n  width: 60px;\n  height: 60px;\n  cursor: pointer;\n  color: inherit;\n`;\n","import React from \"react\";\nimport { styled, Icon } from \"@patternplate/components\";\n\nimport ToggleButton from \"./common/toggle-button\";\n\nexport default Opacity;\n\nfunction Opacity(props) {\n  return (\n    <StyledToggleButton enabled={props.enabled} shortcut={props.shortcut}>\n      <StyledIcon symbol=\"checkers-inverted\" /> {props.shortcut.toString()}\n    </StyledToggleButton>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.background};\n`;\n\nconst StyledToggleButton = styled(ToggleButton)`\n  font-size: 0;\n  line-height: 0;\n`;\n","import React from \"react\";\nimport { styled, Link, Icon } from \"@patternplate/components\";\n\nexport default SearchButton;\n\nfunction SearchButton(props) {\n  return (\n    <StyledLink\n      debug\n      title={`Enable search ${props.shortcut.toString()}`}\n      query={{ \"search-enabled\": !props.enabled }}\n    >\n      <StyledIcon base={props.base} symbol=\"search\" />\n      Search\n    </StyledLink>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.color};\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: 0;\n`;\n","import React from \"react\";\nimport { styled, Link, Icon } from \"@patternplate/components\";\n\nexport default Fullscreen;\n\nfunction Fullscreen(props) {\n  return (\n    <StyledLink\n      external\n      title={`Open pattern demo for \"${props.id}\" in a new tab`}\n      href={props.href}\n    >\n      <StyledIcon symbol=\"fullscreen\" />\n    </StyledLink>\n  );\n}\n\nconst StyledIcon = styled(Icon)`\n  fill: ${props => props.theme.colors.background};\n`;\n\nconst StyledLink = styled(Link)`\n  font-size: 0;\n  line-height: 0;\n`;\n","import { connect } from \"react-redux\";\nimport selectItem from \"../selectors/item\";\n\nexport default connect(withActiveForPattern);\n\nfunction withActiveForPattern(state) {\n  const item = selectItem(state);\n  return {\n    active: item ? item.contentType === \"pattern\" : false\n  };\n}\n","import { connect } from \"react-redux\";\nimport selectItem from \"../selectors/item\";\n\nexport default connect(withId);\n\nfunction withId(state) {\n  const item = selectItem(state);\n  return {\n    id: item ? item.id : null\n  };\n}\n","import { connect } from \"react-redux\";\n\nexport default connect(withToggleStates);\n\nfunction withToggleStates(state) {\n  return {\n    dependenciesEnabled: state.dependenciesEnabled,\n    dependentsEnabled: state.dependentsEnabled,\n    manifestEnabled: state.manifestEnabled\n  };\n}\n","import assert from \"assert\";\nimport { connect } from \"react-redux\";\nimport { values } from \"lodash\";\nimport shortcuts from \"../shortcuts\";\n\nconst s = values(shortcuts());\n\nexport default function withToggle(action) {\n  const shortcut = s.find(i => i.key === action.key);\n\n  assert(\n    shortcut,\n    `${action} passed to withToggle has no matching shortcut found for ${action.key}`\n  );\n\n  return Component => {\n    const mapProps = state => {\n      const enabled = state[action.property];\n      return { enabled, shortcut };\n    };\n    return connect(mapProps)(Component);\n  };\n}\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport tag from \"tag-hoc\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { createSelector } from \"reselect\";\nimport {\n  Link,\n  Icon,\n  styled,\n  injection,\n  Text,\n  ThemeProvider,\n  themes,\n  css\n} from \"@patternplate/components\";\n\nimport * as actions from \"../actions\";\nimport * as demo from \"../selectors/demo\";\n\nimport Logo from \"./logo\";\nimport Favicon from \"./favicon\";\nimport Indicator from \"./indicator\";\nimport ConnectedLink from \"./link\";\nimport Message from \"./message\";\nimport Navigation, { NavigationHeader, NavigationToolbar } from \"./navigation\";\nimport ToggleNavigation from \"./toggle-navigation\";\nimport ToggleSearch from \"./toggle-search\";\nimport Search from \"./search\";\n\nconst selectThemes = createSelector(state => state.config.ui, ui => themes(ui));\n\nconst selectLines = createSelector(\n  state => state.messages,\n  demo.selectSrc,\n  (messages, src) => (messages[src] || \"\").split(\"\\n\").filter(Boolean)\n);\n\nconst selectMessage = createSelector(selectLines, lines =>\n  lines\n    .slice(0, 2)\n    .map(l => l.trim())\n    .join(\"\\n\")\n);\n\nconst selectHasMessage = createSelector(\n  selectMessage,\n  message => typeof message === \"string\" && message !== \"\"\n);\n\nfunction mapProps(state) {\n  const q = state.routing.locationBeforeTransitions.query;\n\n  return {\n    base: state.base,\n    description: state.schema.description,\n    lightbox: state.lightbox,\n    location: state.routing.locationBeforeTransitions,\n    networkEnabled: state.networkEnabled,\n    logo: state.config.ui.renderedLogo,\n    navigationEnabled: state.navigationEnabled,\n    searchEnabled: state.searchEnabled,\n    theme: state.theme,\n    themes: selectThemes(state),\n    title: state.config.title || state.schema.name,\n    hasMessage: selectHasMessage(state),\n    screenshot: q.screenshot === \"true\",\n    jsWarningEnabled: q[\"js-warning-enabled\"] !== \"false\" && q[\"js-warning-enabled\"] !== false,\n    browserWarningEnabled: q[\"browser-warning-enabled\"] !== \"false\" && q[\"browser-warning-enabled\"] !== false,\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onLoad: () => actions.listen({ url: \"api\" }),\n      onResize: actions.windowResize\n    },\n    dispatch\n  );\n}\n\nconst injections = [\n  {\n    target: Link,\n    source: ConnectedLink\n  }\n];\n\nclass Application extends React.Component {\n  componentDidMount() {\n    document.body.style.overflow = this.props.screenshot ? \"hidden\" : \"auto\";\n  }\n\n  componentDidUpdate() {\n    document.body.style.overflow = this.props.screenshot ? \"hidden\" : \"auto\";\n  }\n\n  render() {\n    const { props } = this;\n    return (\n      <injection.InjectionProvider injections={injections}>\n        <ThemeProvider theme={props.themes[props.theme]}>\n          <StyledApplication screenshot={props.screenshot}>\n            <Helmet meta={meta(props)} title={props.title} />\n            <Favicon />\n            <ThemeProvider theme={props.themes.dark}>\n              <React.Fragment>\n                <NavigationControl\n                  data-toggle-name=\"navigation\"\n                  data-trigger-name=\"navigation\"\n                  data-toggle-enabled={props.navigationEnabled}\n                  enabled={props.navigationEnabled}\n                >\n                  <ToggleNavigation />\n                </NavigationControl>\n                <StyledNavigationBox\n                  data-toggle-name=\"navigation\"\n                  data-toggle-enabled={props.visible}\n                  enabled={props.navigationEnabled}\n                  >\n                  <Navigation>\n                    <NavigationHeader>\n                      <Logo />\n                    </NavigationHeader>\n                    <NavigationToolbar>\n                      <div />\n                      <ToggleSearch />\n                      <Indicator />\n                    </NavigationToolbar>\n                  </Navigation>\n                </StyledNavigationBox>\n              </React.Fragment>\n            </ThemeProvider>\n            <StyledContentContainer>\n              <StyledContent>\n                {props.browserWarningEnabled &&\n                  <StyledBrowserWarning\n                    navigationEnabled={props.navigationEnabled}\n                    data-browser-warning\n                  >\n                    <StyledBrowserContainer>\n                      <StyledBrowserContent>\n                        <StyledWarningLabel>\n                          Nice browser. Is it antique?\n                        </StyledWarningLabel>\n                        <StyledBrowserText>\n                          No, seriously - your browser is so old that some\n                          features of patternplate don't work as expected.\n                        </StyledBrowserText>\n                        <StyledBrowserText>\n                          Don't worry - you can either continue with a restricted\n                          version or install an up-to-date browser.\n                        </StyledBrowserText>\n                      </StyledBrowserContent>\n                      <StyledBrowserContainerClose\n                        title={`Close browser warning`}\n                        query={{ \"browser-warning-enabled\": false }}\n                      >\n                        <Icon symbol=\"close\" />\n                      </StyledBrowserContainerClose>\n                    </StyledBrowserContainer>\n                  </StyledBrowserWarning>\n                }\n                {props.jsWarningEnabled &&\n                  <StyledBrowserWarning\n                    navigationEnabled={props.navigationEnabled}\n                    data-js-warning\n                  >\n                    <StyledBrowserContainer>\n                      <StyledBrowserContent>\n                        <StyledWarningLabel>We messed up.</StyledWarningLabel>\n                        <StyledBrowserText>\n                          Sorry, but your user experience might be affected.\n                        </StyledBrowserText>\n                        <Text>- Try reloading the page</Text>\n                        <Text>\n                          - Report the problem at\n                          github.com/patternplate/patternplate\n                        </Text>\n                      </StyledBrowserContent>\n                      <StyledBrowserContainerClose\n                        title={`Close browser warning`}\n                        query={{ \"js-warning-enabled\": false }}\n                      >\n                        <Icon symbol=\"close\" />\n                      </StyledBrowserContainerClose>\n                    </StyledBrowserContainer>\n                  </StyledBrowserWarning>\n                }\n                {props.hasMessage && (\n                  <StyledMessageBox>\n                    <Message />\n                  </StyledMessageBox>\n                )}\n                {props.children}\n                {props.searchEnabled && (\n                  <ThemeProvider theme={props.themes.dark}>\n                    <StyledSearchBox\n                      navigationEnabled={props.navigationEnabled}\n                      screenshot={props.screenshot}\n                    >\n                      <StyledSearchFrame>\n                        <Search />\n                      </StyledSearchFrame>\n                    </StyledSearchBox>\n                  </ThemeProvider>\n                )}\n              </StyledContent>\n            </StyledContentContainer>\n          </StyledApplication>\n        </ThemeProvider>\n      </injection.InjectionProvider>\n    );\n  }\n}\n\nexport default connect(mapProps, mapDispatch)(Application);\n\nconst WIDTH = 300;\nconst NAVIGATION_WIDTH = props => (props.enabled ? WIDTH : 0);\nconst TOOLBAR_HEIGHT = 60;\n\nconst StyledWarningLabel = styled(Text)`\n  font-weight: bold;\n  margin-bottom: 1.3em;\n`;\n\nconst StyledBrowserWarning = styled.div`\n  display: none; /* overridden by separate js if needed */\n  box-sizing: border-box;\n  position: absolute;\n  position: sticky;\n  top: 0;\n  z-index: 4;\n  right: 0;\n  left: 0;\n  width: 100%;\n  padding: 15px 20px;\n  padding-left: ${props => (props.navigationEnabled ? 20 : 60)}px;\n  background: ${props => props.theme.colors.warning};\n`;\n\nconst StyledBrowserContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 1240px;\n  margin: 0 auto;\n  justify-content: space-between;\n`;\n\nconst StyledBrowserContent = styled.div``;\n\nconst StyledBrowserText = styled(Text)`\n  margin-bottom: 1.3em;\n`;\n\nconst StyledBrowserContainerClose = styled(Link)`\n  flex-shrink: 0;\n  margin-left: 15px;\n  &:link,\n  &:visited,\n  &:active {\n    color: ${props => props.theme.colors.color};\n  }\n`;\n\nconst StyledApplication = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background: ${props => props.theme.colors.background};\n\n  ${props =>\n    !props.screenshot\n      ? \"\"\n      : css`\n          height: calc(100vh - 100px);\n          width: calc(100vw - 100px);\n          margin: 50px;\n          border-radius: 10px;\n          box-shadow: 0 0 30px rgba(0, 0, 0, 0.15);\n          overflow: hidden;\n        `};\n`;\n\nconst StyledNavigationBox = styled(tag([\"enabled\"])(\"div\"))`\n  position: relative;\n  z-index: 2;\n  height: 100%;\n  width: ${NAVIGATION_WIDTH}px;\n  flex: 0 0 ${NAVIGATION_WIDTH}px;\n  overflow: hidden;\n  &[data-toggle-enabled=\"true\"] {\n    display: block;\n  }\n  &[data-toggle-enabled=\"false\"] {\n    display: none;\n  }\n`;\n\nconst StyledMessageBox = styled.div`\n  position: absolute;\n  box-sizing: border-box;\n  z-index: 3;\n  padding: 15px;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst StyledContent = styled.div`\n  flex: 1 1 100%;\n  width: 100%;\n`;\n\nconst StyledContentContainer = styled.div`\n  flex: 1 1 calc(100% - ${NAVIGATION_WIDTH}px);\n  width: calc(100% - ${NAVIGATION_WIDTH}px);\n  flex-direction: column;\n  overflow: auto;\n  position: relative;\n`;\n\nconst WITH_SCREENSHOT_OFFSET = factor => props => {\n  if (props.screenshot) {\n    return factor * 50;\n  }\n  return 0;\n};\n\nconst WITH_NAVIGATION_OFFSET = factor => props => {\n  if (props.navigationEnabled) {\n    return factor * 300;\n  }\n  return 0;\n};\n\nconst SUM = (...args) => props => args.reduce((acc, fn) => acc + fn(props), 0);\n\nconst StyledSearchBox = styled.div`\n  position: fixed;\n  top: 12.5vh;\n  bottom: 10vh;\n  right: ${WITH_SCREENSHOT_OFFSET(1)}px;\n  left: ${SUM(WITH_NAVIGATION_OFFSET(1), WITH_SCREENSHOT_OFFSET(1))}px;\n  width: calc(\n    100% - ${SUM(WITH_NAVIGATION_OFFSET(1), WITH_SCREENSHOT_OFFSET(2))}px\n  );\n  pointer-events: none;\n`;\n\nconst StyledSearchFrame = styled.div`\n  width: 90%;\n  min-width: 320px;\n  max-width: 750px;\n  max-height: 100%;\n  margin: 0 auto;\n  overflow: hidden;\n`;\n\nconst StyledFloatingBox = styled.div`\n  position: absolute;\n  pointer-events: none;\n  z-index: 2;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 10px 15px;\n  height: 300px;\n  display: flex;\n`;\n\nconst StyledInfoPane = styled.div`\n  flex: 0 0 auto;\n  box-sizing: border-box;\n  pointer-events: all;\n`;\n\nconst StyledPane = styled.div`\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: all;\n`;\n\nconst NavigationControl = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 5;\n  top: 0;\n  left: ${props => (props.enabled ? 300 : 0)}px;\n  transform: translate(-${props => (props.enabled ? 100 : 0)}%);\n  color: ${props =>\n    props.enabled ? props.theme.colors.color : props.theme.colors.background};\n  width: 60px;\n  height: 60px;\n  background: ${props =>\n    props.enabled ? props.theme.colors.backgroundSecondary : \"#fff\"};\n\n  &[data-toggle-enabled=\"true\"] {\n    left: 300;\n    transform: translate(-100%);\n    color: ${props => props.theme.colors.color};\n    background: ${props => props.theme.colors.backgroundSecondary};\n  }\n\n  &[data-toggle-enabled=\"false\"] {\n    left: 0;\n    transform: translate(0);\n    color: ${props => props.theme.colors.background};\n    background: #fff;\n  }\n\n  @media screen and (min-width: 720px) {\n    background: transparent;\n    &::before {\n      display: none;\n    }\n  }\n`;\n\nfunction meta(props) {\n  return [\n    { name: \"description\", content: props.description },\n    { name: \"viewport\", content: \"width=device-width, initial-scale=1\" }\n  ];\n}\n","import { themes } from \"@patternplate/components\";\nimport { connect } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { bindActionCreators } from \"redux\";\n\nimport * as actions from \"../actions\";\n\nimport Documentation from \"../components/documentation\";\nimport selectItem from \"../selectors/item\";\nimport {flat as selectPool} from \"../selectors/pool\";\n\nexport default connect(mapState, mapDispatch)(Documentation);\n\nconst selectNotFound = createSelector(\n  state => state.routing.locationBeforeTransitions.pathname,\n  url => `\n# Documentation not found\n\n> Pretty sure these aren't the hypertext documents you are looking for.\n\nWe looked everywhere and could not find a single thing at \\`${url}\\`.\n\nYou might want to navigate back to [Home](/) or use the [Search](?search-enabled=true).\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`\n);\n\nconst selectNoDocs = () => `\n# :construction: Add documentation\n\n> Undocumented software could not exist just as well.\n>\n> – The Voice of Common Sense\n\nCurrently there is no readme data at \\`./patterns/readme.md\\`, so we left this\nfriendly reminder here to change that soon.\n\nYou could start right away:\n\n\\`\\`\\`sh\necho \"# Docs\\\\n This patternplate contains ...\" > patterns/readme.md\n\\`\\`\\`\n\nSome ideas on what to write into your pattern readme\n\n*  Why this Living Styleguide interface exists, e.g. what problems it should solve\n*  What the components in are intended for, e.g. a brand, website or product\n*  The component hierarchy you use, e.g. Atomic Design\n*  Naming conventions\n*  Rules for dependencies\n*  Browser matrix\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate).\n`;\n\nconst selectDocItem = createSelector(\n  selectItem,\n  selectPool,\n  state => state.id,\n  (item, pool, id) => {\n    if (id === \"/\") {\n      const first = pool.find(i => i.contentType === \"doc\");\n      if (first) {\n        return first;\n      }\n    }\n    return item;\n  }\n);\n\nconst selectDoc = createSelector(\n  selectDocItem,\n  selectNoDocs,\n  selectNotFound,\n  (item, noDocs, notFound) => {\n    if (item && item.contents) {\n      return item.contents;\n    }\n\n    if (item && !item.contents) {\n      return noDocs;\n    }\n\n    return notFound;\n  }\n);\n\nconst selectDisplayName = createSelector(\n  selectDocItem,\n  item => {\n    if (!item) {\n      return 'patternplate';\n    }\n    return item.manifest.displayName;\n  }\n);\n\nconst selectType = createSelector(selectItem, match => {\n  if (match && match.contents) {\n    return \"doc\";\n  }\n  if (match && !match.contents) {\n    return \"fallback\";\n  }\n  return \"not-found\";\n});\n\nconst selectThemes = createSelector(\n  state => state.config.color,\n  color => themes(color)\n);\n\nfunction mapState(state) {\n  return {\n    displayName: selectDisplayName(state),\n    doc: selectDoc(state),\n    themes: selectThemes(state),\n    type: selectType(state),\n    isStatic: state.isStatic\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      requestScroll: actions.scrollTo\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\n\nimport Favicon from \"../components/favicon\";\n\nexport default connect(mapState)(Favicon);\n\nfunction mapState(state) {\n  return {\n    error: state.demo.error,\n    source: state.config.ui.favicon\n  };\n}\n","import { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../actions\";\nimport Indicator from \"../components/indicator\";\n\nexport default connect(mapProps, mapDispatch)(Indicator);\n\nfunction mapProps(state) {\n  return {\n    status: selectStatus(state),\n    shortcut: state.shortcuts.reload\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onClick: actions.reload\n    },\n    dispatch\n  );\n}\n\nfunction selectStatus(state) {\n  if (state.demo.error) {\n    return \"error\";\n  }\n  return state.connection;\n}\n","import url from \"url\";\nimport queryString from \"querystring\";\nimport { Link } from \"@patternplate/components\";\nimport { pickBy } from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { scrollTo } from \"../actions\";\n\nexport default connect(mapState, mapDispatch)(Link.RawLink);\n\nfunction mapState(state, own) {\n  const location = state.routing.locationBeforeTransitions;\n  return Object.assign({}, own,\n    {href: getHref(own, { base: state.base, location })}\n  );\n}\n\nfunction mapDispatch(dispatch, ownProps) {\n  return bindActionCreators(\n    {\n      onClick(e) {\n        if (ownProps.external) {\n          return { type: null };\n        }\n        e.preventDefault();\n        const parsed = url.parse(e.currentTarget.href);\n\n        if (parsed.hash) {\n          scrollTo(parsed.hash.slice(1));\n        }\n\n        return push([parsed.path, parsed.hash].join(\"\"));\n      }\n    },\n    dispatch\n  );\n}\n\nfunction getHref(props, context) {\n  if (props.external === true || !context.location) {\n    return props.href;\n  }\n\n  const parsed = props.href\n    ? url.parse(props.href)\n    : {\n        pathname: context.location.pathname,\n        query: queryString.stringify(context.location.query)\n      };\n\n  parsed.query = queryString.parse(parsed.query);\n\n  const query = props.query === null\n    ? {}\n    : pickBy(\n      Object.assign(\n        {},\n        context.location.query,\n        parsed.query,\n        props.query || context.location.query\n      ),\n      (value, key) => {\n        // TODO: deduce this for all keys from reduce config\n        // special case \"navigation-enabled\", invert logic\n        if (key === \"navigation-enabled\") {\n          return value !== true && value !== \"true\";\n        }\n\n        // if the key is not in the current query, add it\n        if (!context.location.query.hasOwnProperty(key)) {\n          return true;\n        }\n        // omit \"falsy\" values to keep url shorter\n        return value !== \"false\" && value !== \"0\" && !!(value);\n      }\n    );\n\n  const pathname =\n    typeof parsed.pathname === \"string\"\n      ? prefix(context.base, parsed.pathname)\n      : context.location.pathname;\n\n  return url.format({\n    pathname,\n    query,\n    hash: props.hash || (parsed.hash || \"#\").slice(1)\n  });\n}\n\nfunction prefix(base, pathname) {\n  const b = norm(base);\n  const p = norm(pathname);\n\n  if (p === '') {\n    return `/${b}`;\n  }\n\n  if (p.startsWith(b)) {\n    return `/${p}`;\n  }\n\n  return `/${[norm(base), norm(pathname)].join(\"/\")}`;\n}\n\nfunction norm(p) {\n  return p.split(\"/\").filter(Boolean).join(\"/\");\n}\n","import { connect } from \"react-redux\";\n\nimport { Logo } from \"@patternplate/components\";\n\nexport default connect(mapState)(Logo);\n\nfunction mapState(state) {\n  return {\n    source: state.config.ui.renderedLogo\n  };\n}\n","import { createSelector } from \"reselect\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { Markdown, themes } from \"@patternplate/components\";\n\nimport { flat as selectPool } from \"../selectors/pool\";\nimport { scrollTo } from \"../actions\";\n\nconst selectWidgetSrc = createSelector(\n  state => state.staticBase,\n  (staticBase, manifest) => `${staticBase}/widgets.js`\n);\n\nconst selectThemes = createSelector(\n  state => state.config.ui,\n  ui => themes(ui)\n);\n\n\nfunction mapProps(state) {\n  const location = state.routing.locationBeforeTransitions;\n  return {\n    base: state.base,\n    hash: location.hash,\n    pathname: location.pathname,\n    query: location.query,\n    widgetSrc: selectWidgetSrc(state),\n    widgetState: {\n      themes: selectThemes(state),\n      base: state.base,\n      pool: selectPool(state)\n    }\n  };\n}\n\nexport function mapDispatch(dispatch) {\n  return bindActionCreators({ scrollTo }, dispatch);\n}\n\nexport default connect(mapProps, mapDispatch)(Markdown);\n","import { connect } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { skippable } from \"../behaviours\";\n\nimport Message from \"../components/message\";\nimport * as demo from \"../selectors/demo\";\n\nexport default connect(mapState)(skippable(Message));\n\nconst selectLines = createSelector(\n  state => state.messages,\n  demo.selectSrc,\n  (messages, src) => (messages[src] || \"\").split(\"\\n\").filter(Boolean)\n);\n\nconst selectMessage = createSelector(selectLines, lines =>\n  lines\n    .slice(0, 2)\n    .map(l => l.trim())\n    .join(\"\\n\")\n);\n\nconst selectDetails = createSelector(selectLines, lines => {\n  if (lines.length <= 2) {\n    return \"\";\n  }\n  return lines.join(\"\\n\");\n});\n\nconst selectActive = createSelector(\n  selectMessage,\n  message => typeof message === \"string\" && message !== \"\"\n);\n\nfunction mapState(state) {\n  return {\n    active: selectActive(state),\n    message: selectMessage(state),\n    details: selectDetails(state),\n    summary: \"Details\"\n  };\n}\n","import url from \"url\";\nimport { connect } from \"react-redux\";\nimport { push } from \"react-router-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { MainNavigation } from \"@patternplate/components\";\nimport { patchLocation } from \"../actions\";\n\nimport selectNavigation from \"../selectors/navigation\";\nimport selectDocs from \"../selectors/docs\";\n\nexport default connect(mapProps, mapDispatch)(MainNavigation);\nexport const NavigationHeader = MainNavigation.NavigationHeader;\nexport const NavigationToolbar = MainNavigation.NavigationToolbar;\n\nfunction mapProps(state) {\n  return {\n    active: state.id,\n    docs: selectDocs(state),\n    componentsEnabled: state.componentsEnabled,\n    navigation: selectNavigation(state),\n    query: state.routing.locationBeforeTransitions.query,\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onItemClick(e) {\n        e.preventDefault();\n\n        if (!e.currentTarget.href) {\n          return { type: \"noop\" };\n        }\n\n        const parsed = url.parse(e.currentTarget.href);\n        return push(`${parsed.pathname}?${parsed.query}`);\n      },\n      onLabelClick(query) {\n        return patchLocation({query});\n      }\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\nimport Documentation from \"../components/documentation\";\n\nexport default connect(state => {\n  return {\n    base: state.base,\n    id: state.id,\n    docs: {\n      contents: selectNotFound(state)\n    }\n  };\n})(Documentation);\n\nfunction selectNotFound(state) {\n  const url = state.routing.locationBeforeTransitions.pathname;\n  return `\n# Nothing found\n\n> Pretty sure these aren't the hypertext documents you are looking for.\n\nWe looked everywhere and could not find a single thing at \\`${url}\\`.\n\nYou might want to navigate back to [Home](/) or use the search.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`;\n}\n","import { entries } from \"lodash\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nexport default connect(mapProps)(PassThrough);\n\nfunction PassThrough(props) {\n  return (\n    <div>\n      {props.items.map(([name, value]) => (\n        <input type=\"hidden\" key={name} name={name} value={value} />\n      ))}\n    </div>\n  );\n}\n\nfunction mapProps(state, own) {\n  const { query } = state.routing.locationBeforeTransitions;\n  const q = { ...query, ...(own.query || {}) };\n  const items = entries(q).filter(([, value]) => value !== null);\n  return { items };\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { createSelector } from \"reselect\";\nimport * as demo from \"../selectors/demo\";\nimport selectItem, * as items from \"../selectors/item\";\nimport Pattern from \"../components/pattern\";\n\nimport * as actions from \"../actions\";\n\nclass PatternContainer extends React.Component {\n  render() {\n    const { props } = this;\n    return (\n      <Pattern\n        contents={props.contents}\n        contentType={props.contentType}\n        docs={props.docs}\n        error={props.error}\n        displayName={props.displayName}\n        loading={props.loading}\n        opacity={props.opacity}\n        src={props.src}\n        type={props.type}\n        updated={props.updated}\n        navigationEnabled={props.navigationEnabled}\n        screenshot={props.screenshot}\n      />\n    );\n  }\n}\n\nexport default connect(mapState, mapDispatch)(PatternContainer);\n\nconst DEFAULT_PATTERN_CONTENTS = `\n# :construction: Add documentation\n\n> Undocumented software could not exist just as well.\n>\n> – The Voice of Common Sense\n\nCurrently there is no readme data for this pattern folder.\nWe left this friendly reminder for you to change that soon.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate).\n`;\n\nconst NOT_FOUND = `\n# Pattern not found\n\n> Pretty sure this is not the component you are looking for.\n\nWe looked everywhere and could not find a single thing.\n\nYou might want to navigate back to [Home](/) or use the search.\n\n---\n\nHelp us to make this message more helpful on [GitHub](https://github.com/patternplate/patternplate)\n`;\n\nconst selectDocs = createSelector(\n  selectItem,\n  items.selectType,\n  items.selectContents,\n  (pattern, type, contents) => {\n    if (pattern && pattern.type === 'folder') {\n      return contents;\n    }\n    if (type === \"not-found\") {\n      return NOT_FOUND;\n    }\n    return contents || DEFAULT_PATTERN_CONTENTS;\n  }\n);\n\nfunction mapState(state) {\n  return {\n    contents: state.demo.contents,\n    displayName: items.selectName(state),\n    docs: selectDocs(state),\n    error: state.demo.error,\n    loading: state.demo.fetching,\n    opacity: state.opacity,\n    src: demo.selectSrc(state),\n    type: items.selectType(state),\n    contentType: items.selectContentType(state),\n    updated: state.demo.updated,\n    navigationEnabled: state.navigationEnabled,\n    screenshot: state.routing.locationBeforeTransitions.query.screenshot === \"true\"\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onChange: actions.loadPatternDemo\n    },\n    dispatch\n  );\n}\n","import { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport Search from \"../components/search\";\nimport * as actions from \"../actions\";\nimport * as found from \"../selectors/found\";\n\nfunction mapProps(state) {\n  return {\n    activeItem: found.selectActiveItem(state), // Used for highlight in list\n    base: state.base,\n    components: found.selectPatterns(state), // List of components matching state.components\n    docs: found.selectDocs(state), // List of docs matching state.search\n    enabled: state.searchEnabled, // If search is to be displayed\n    legend: found.selectLegend(state),\n    shortcuts: state.shortcuts, // Reference to global shortcuts for help texts\n    suggestion: found.selectSuggestion(state), // The backdrop search suggestion string\n    value: state.searchValue // The synchronous search input value\n  };\n}\n\nfunction mapDispatch(dispatch) {\n  return bindActionCreators(\n    {\n      onChange: e =>\n        actions.search({\n          persist: false,\n          perform: false,\n          value: e.target.value\n        }),\n      onClear: () =>\n        actions.search({ persist: true, perform: true, value: \"\" }),\n      onClick: () => actions.toggleSearch({ focus: true }),\n      onClickOutside: () => actions.toggleSearch({ focus: false }),\n      onClose: () => actions.toggleSearch({ focus: false }),\n      onComplete: value =>\n        actions.search({ persist: true, perform: true, value }),\n      onFocus: () => actions.toggleSearch({ focus: true }),\n      onMount: () => actions.toggleSearch({ sync: true }),\n      onNavigate: item => {\n        const pathname = `${item.contentType}/${item.id}`;\n        return actions.patchLocation({ pathname, query: { \"search-enabled\": false } })\n      },\n      onSubmit: e => {\n        e.preventDefault();\n        return actions.search({\n          persist: true,\n          perform: true,\n          value: e.target.search.value\n        });\n      },\n      onUp: () => actions.searchPreview(\"up\"),\n      onDown: () => actions.searchPreview(\"down\"),\n      onActivate: index => actions.searchPreview(index),\n      onStop: e =>\n        actions.search({ persist: true, perform: true, value: e.target.value })\n    },\n    dispatch\n  );\n}\n\nexport default connect(mapProps, mapDispatch)(Search);\n","import * as actions from \"../actions\";\nimport ToggleNavigation from \"../components/toggle-navigation\";\nimport withToggle from \"../connectors/with-toggle\";\n\nexport default withToggle(actions.toggleNavigation)(ToggleNavigation);\n","import * as actions from \"../actions\";\nimport Opacity from \"../components/toggle-opacity\";\nimport withToggle from \"../connectors/with-toggle\";\nimport withActiveForPattern from \"../connectors/with-active-for-pattern\";\nimport { skippable } from \"../behaviours\";\n\nconst OpacityToggle = withToggle(actions.toggleOpacity)(Opacity);\nexport default withActiveForPattern(skippable(OpacityToggle));\n","import * as actions from \"../actions\";\nimport SearchButton from \"../components/toggle-search\";\nimport withToggle from \"../connectors/with-toggle\";\n\nexport default withToggle(actions.toggleSearch)(SearchButton);\n","import querystring from \"querystring\";\nimport { connect } from \"react-redux\";\nimport Fullscreen from \"../components/trigger-fullscreen\";\nimport withActiveForPattern from \"../connectors/with-active-for-pattern\";\nimport withId from \"../connectors/with-id\";\nimport * as demo from \"../selectors/demo\";\nimport { skippable } from \"../behaviours\";\n\nconst SkippableFullscreen = withActiveForPattern(skippable(Fullscreen));\n\nconst mapProps = state => {\n  const q = querystring.stringify({\n    reload: state.isStatic ? null : true\n  });\n  return {\n    href: `${demo.selectSrc(state)}?${q}`\n  };\n};\n\nexport default connect(mapProps)(withId(SkippableFullscreen));\n","import { handleActions } from \"redux-actions\";\nimport markBlock from \"../actions/mark-block\";\n\nconst defaultValue = null;\n\nconst markBlockHandler = (state, { payload }) => {\n  const { active, id } = payload;\n\n  if (active) {\n    return id;\n  }\n\n  return defaultValue;\n};\n\nconst locationChangeHandler = () => {\n  return defaultValue;\n};\n\nexport default handleActions(\n  {\n    [markBlock]: markBlockHandler,\n    \"@@router/LOCATION_CHANGE\": locationChangeHandler\n  },\n  defaultValue\n);\n","import getIdByPathname from \"../utils/get-id-by-pathname\";\nimport { handleActions } from \"redux-actions\";\n\nfunction handler(_, { payload }) {\n  return payload.query[\"active-node\"];\n}\n\nexport default handleActions({\n  \"@@router/LOCATION_CHANGE\": handler\n});\n","import { handleAction } from \"redux-actions\";\nimport { getDepth } from \"./depth\";\n\nexport default (state) => {\n  return state;\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleCode, { defaultValue: false });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleComponentsEnabled, { defaultValue: false });\n","import {renderToString} from \"react-dom/server\";\nimport {merge} from \"lodash\";\nimport {svg} from \"@patternplate/components\";\n\nexport default (state, action) => {\n  let copy;\n\n  switch (action.type) {\n    case \"LOAD_SCHEMA_SUCCESS\": {\n      copy = merge({}, action.payload.config);\n      break;\n    }\n    default: {\n      copy = merge({}, state);\n    }\n  }\n\n  if (!copy.hasOwnProperty(\"ui\")) {\n    copy.ui = {};\n  }\n\n  const {ui} = copy;\n\n  ui.renderedLogo = ui.hasOwnProperty(\"logo\")\n    ? renderToString(svg.render(svg.sanitize(svg.purge([svg.parse(ui.logo)]))[0]))\n    : \"\";\n\n  const favicon = ui.favicon || ui.logo;\n\n  ui.renderedFavicon = global.document && favicon\n    ? svg.png(favicon)\n    : Promise.resolve(\"\");\n\n  return copy;\n};\n","import handleDependentActions from \"../actions/handle-dependent-actions\";\n\nexport default handleDependentActions(\n  {\n    LISTEN_HEARTBEAT: (...args) => handle(...args),\n    FETCHING: (...args) => handle(...args),\n    ERROR_HEARTBEAT: () => \"offline\"\n  },\n  {\n    defaultValue: \"\",\n    dependencies: [\"fetching\"]\n  }\n);\n\nfunction handle(state = \"loading\", action, { fetching }) {\n  return fetching ? \"loading\" : \"loaded\";\n}\n","const DEFAULT = {\n  error: null,\n  fetching: false,\n  id: null,\n  contents: null,\n  updated: null\n};\n\nexport default function demo(state = DEFAULT, action) {\n  switch (action.type) {\n    case \"LOAD_PATTERN_DEMO_START\":\n      return {\n        error: null,\n        fetching: true,\n        id: action.payload.id,\n        contents: state.contents,\n        updated: state.updated\n      };\n    case \"LOAD_PATTERN_DEMO_SUCCESS\": {\n      return {\n        error: null,\n        fetching: false,\n        id: action.payload.id,\n        contents: action.payload.contents,\n        updated: !action.payload.force && state.contents === action.payload.contents && state.id === action.payload.id\n          ? state.updated\n          : Date.now()\n      };\n    }\n    case \"LOAD_PATTERN_DEMO_ERROR\":\n      return {\n        error: true,\n        fetching: false,\n        id: action.payload.id,\n        contents: null,\n        updated: Date.now()\n      };\n    default:\n      return state;\n  }\n}\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleDependencies, { defaultValue: false });\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = false;\n\nfunction onLocationChange(_, action) {\n  return action.payload.query[\"dependents-enabled\"] === \"true\";\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onLocationChange\n  },\n  defaultValue\n);\n","import { handleAction } from \"redux-actions\";\n\nexport function getDepth(pathname) {\n  const fragments = pathname.split(\"/\").filter(Boolean);\n\n  const fragmentIndex = [\"pattern\", \"doc\"]\n    .map(known => fragments.indexOf(known))\n    .find(index => index !== -1);\n\n  const index = fragmentIndex === null ? fragments.length : fragmentIndex;\n  return fragments.slice(0, index).filter(Boolean).length;\n}\n\nexport default handleAction(\n  \"@@router/LOCATION_CHANGE\",\n  {\n    next(_, { payload: { pathname } }) {\n      return getDepth(pathname);\n    }\n  },\n  \".\"\n);\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleDoc, { defaultValue: false });\n","import { handlePromiseThunkAction } from \"../actions/promise-thunk-action\";\nimport { loadSchema } from \"../actions\";\n\nexport default handlePromiseThunkAction(\n  loadSchema,\n  {\n    start() {\n      return true;\n    },\n    success() {\n      return false;\n    },\n    error() {\n      return false;\n    }\n  },\n  {\n    defaultValue: false\n  }\n);\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleHide, { defaultValue: true });\n","import getIdByPathname from \"../utils/get-id-by-pathname\";\nimport handleDependentActions from \"../actions/handle-dependent-actions\";\n\nfunction handler(_, { payload }, { base }) {\n  return getIdByPathname(payload.pathname, base) || \"/\";\n}\n\nexport default handleDependentActions(\n  {\n    \"@@router/LOCATION_CHANGE\": handler\n  },\n  {\n    dependencies: [\"base\"]\n  }\n);\n","import activeBlock from \"./active-block\";\nimport activeNode from \"./active-node\";\nimport base from \"./base\";\nimport config from \"./config\";\nimport codeEnabled from \"./code-enabled\";\nimport connection from \"./connection\";\nimport depth from \"./depth\";\nimport demo from \"./demo\";\nimport dependenciesEnabled from \"./dependencies-enabled\";\nimport dependentsEnabled from \"./dependents-enabled\";\nimport docEnabled from \"./doc-enabled\";\nimport fetching from \"./fetching\";\nimport id from \"./id\";\nimport infoEnabled from \"./info-enabled\";\nimport isStatic from \"./is-static\";\nimport manifestEnabled from \"./manifest-enabled\";\nimport messages from \"./messages\";\nimport navigationEnabled from \"./navigation-enabled\";\nimport networkEnabled from \"./network-enabled\";\nimport opacity from \"./opacity\";\nimport componentsEnabled from \"./components-enabled\";\nimport search from \"./search\";\nimport searchEnabled from \"./search-enabled\";\nimport searchPreview from \"./search-preview\";\nimport searchValue from \"./search-value\";\nimport schema from \"./schema\";\nimport shortcuts from \"./shortcuts\";\nimport theme from \"./theme\";\nimport hideEnabled from \"./hide-enabled\";\nimport window from \"./window\";\n\nconst ident = state => state || {};\nconst getDependencies = (reducer = {}) => reducer.dependencies || [];\n\nexport default {\n  base,\n  config,\n  connection,\n  demo,\n  depth,\n  fetching,\n  hideEnabled,\n  id,\n  isStatic,\n  manifest: ident,\n  messages,\n  navigationEnabled,\n  opacity,\n  componentsEnabled,\n  schema,\n  search,\n  searchEnabled,\n  searchPreview,\n  searchValue,\n  shortcuts,\n  startBase: ident,\n  staticBase: ident,\n  theme,\n  window\n};\n\nexport const dependencies = {\n  connection: getDependencies(connection)\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleInfo, { defaultValue: false });\n","export default (state = false) => state;\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleManifest, { defaultValue: false });\n","import { omit, merge } from \"lodash\";\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case \"LOAD_PATTERN_DEMO_SUCCESS\":\n      if (action.payload.id in state) {\n        return omit(state, action.payload.id);\n      }\n      return state;\n    case \"LOAD_PATTERN_DEMO_ERROR\":\n      return merge({}, state, { [action.payload.id]: action.payload.error });\n    default:\n      return state;\n  }\n};\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleNavigation, { defaultValue: true });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleNetwork, { defaultValue: null });\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleOpacity, { defaultValue: false });\n","import { loadSchema } from \"../actions\";\nimport { handlePromiseThunkAction } from \"../actions/promise-thunk-action\";\n\nexport default handlePromiseThunkAction(loadSchema, {\n  success(state, action) {\n    return action.payload;\n  }\n});\n","import * as actions from \"../actions\";\nimport toggle from \"./toggle\";\n\nexport default toggle(actions.toggleSearch, { defaultValue: false });\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = 0;\n\nfunction onPreviewLocationChange(_, action) {\n  const index = Number(action.payload.query[\"search-preview\"]);\n  return isNaN(index) ? 0 : Math.max(0, index);\n}\n\nfunction onPerformSeach() {\n  return 0;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onPreviewLocationChange,\n    PERFORM_SEARCH: onPerformSeach\n  },\n  defaultValue\n);\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"\";\n\nfunction onSetSearchLocationChange(_, action) {\n  return action.payload.query.search;\n}\n\nfunction onSetSearch(_, action) {\n  return action.payload;\n}\n\nfunction onPerformSearch(_, action) {\n  return action.payload;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onSetSearchLocationChange,\n    SET_SEARCH: onSetSearch,\n    PERFORM_SEARCH: onPerformSearch\n  },\n  defaultValue\n);\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"\";\n\nfunction onSearchLocationChange(_, action) {\n  return action.payload.query.search;\n}\n\nfunction onPerformSeach(_, action) {\n  return action.payload;\n}\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": onSearchLocationChange,\n    PERFORM_SEARCH: onPerformSeach\n  },\n  defaultValue\n);\n","export default state => state;\n","import { handleActions } from \"redux-actions\";\n\nconst defaultValue = \"light\";\n\nconst locationChangeHandler = (_, { payload }) => {\n  return payload.query.theme || defaultValue;\n};\n\nexport default handleActions(\n  {\n    \"@@router/LOCATION_CHANGE\": locationChangeHandler\n  },\n  defaultValue\n);\n","import assert from \"assert\";\nimport { handleActions } from \"redux-actions\";\n\nexport default (action, options = {}) => {\n  assert(\n    typeof action === \"function\",\n    `toggle needs an action to create a handler for, received ${action} of type ${typeof action}`\n  );\n\n  return handleActions(\n    {\n      \"@@router/LOCATION_CHANGE\": (_, { payload }) => {\n        if (!(action.key in payload.query)) {\n          return options.defaultValue;\n        }\n        return payload.query[action.key] === \"true\";\n      }\n    },\n    options.defaultValue\n  );\n};\n","import { isEqual } from \"lodash\";\nimport { handleActions } from \"redux-actions\";\nimport { windowResize } from \"../actions\";\n\nconst defaultValue = {\n  height: 0,\n  width: 0\n};\n\nexport default handleActions(\n  {\n    [windowResize]: onWindowResize\n  },\n  defaultValue\n);\n\nfunction onWindowResize(state, { payload }) {\n  const next = { width: payload.width, height: payload.height };\n  if (!isEqual(next, state)) {\n    return next;\n  }\n  return state;\n}\n","import React from \"react\";\nimport { Route, IndexRoute } from \"@marionebl/react-router\";\n\nimport Application from \"./containers/application\";\nimport Pattern from \"./containers/pattern\";\nimport Documentation from \"./containers/documentation\";\nimport NotFound from \"./containers/not-found\";\n\nexport default function(store) {\n  const state = store.getState();\n  return (\n    <Route path={state.base} component={Application}>\n      <IndexRoute component={Documentation} />\n      <Route path=\"pattern/*\" component={Pattern} />\n      <Route path=\"doc/*\" component={Documentation} />\n      <Route path=\"*\" component={NotFound} />\n    </Route>\n  );\n}\n","import { createSelector } from \"reselect\";\nimport selectItem from \"./item\";\n\nexport const selectSrc = createSelector(\n  selectItem,\n  state => state.base,\n  (item, base) => {\n    if (!item) {\n      return null;\n    }\n    if (item.contentType !== \"pattern\") {\n      return null;\n    }\n    return `${prefix(base)}/api/demo/${item.id}.html`;\n  }\n);\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n","import { createSearch } from \"@patternplate/search\";\nimport { merge } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport { flat as selectNavigation } from \"../selectors/navigation\";\nimport { enrich, flatten, sanitize } from \"./tree\";\n\nconst sd = createSelector(\n  state => state.schema.docs,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  () => () => [],\n  (tree, id, hide, location, base, search) => {\n    const context = { hide, id, prefix: \"doc\", location, base, search };\n    return flatten(sanitize(merge({}, tree), context)).filter(item => item.type !== \"folder\");\n  }\n);\n\nconst selectFlatPool = createSelector(\n  sd,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: () => []\n  }),\n  (docs, nav, context) => {\n    return docs\n      .map(d => enrich(d, context))\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nconst selectSubSearch = createSelector(\n  selectFlatPool,\n  flatPool => {\n    const search = createSearch(flatPool);\n    return term => {\n      const matches = search(term);\n      return matches.map(item => flatPool.find(p => p.id === item));\n    };\n  }\n);\n\nconst selectDocsTree = createSelector(\n  state => state.schema.docs,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  selectSubSearch,\n  (tree, id, hide, location, base, search) => {\n    const context = { hide, id, prefix: \"doc\", location, base, search };\n    return sanitize(merge({}, tree), context);\n  }\n);\n\nconst selectFirstItem = createSelector(\n  selectDocsTree,\n  (tree) => {\n    const list = flatten(tree);\n    return list ? list[0]: null;\n  }\n);\n\nconst selectQueries = createSelector(\n  selectDocsTree,\n  tree => flatten(tree)\n    .map(item => (item.manifest.options || {}).query)\n    .filter(Boolean)\n);\n\nconst selectQueried = createSelector(\n  selectDocsTree,\n  selectQueries,\n  (tree, queries) => {\n    const search = createSearch(flatten(tree));\n    return queries.reduce((acc, query) => {\n      return acc.concat(search(query).filter(r => acc.indexOf(r) === -1));\n    }, []);\n  }\n);\n\nconst selectDocs = createSelector(\n  selectDocsTree,\n  selectFirstItem,\n  selectQueried,\n  state => state.id,\n  (tree, first, queried, id) => {\n    tree.children = tree.children.filter(child => child.type === \"folder\" || queried.indexOf(child.id) === -1);\n\n    if (id === '/' && first) {\n      first.active = true;\n    }\n    return tree;\n  }\n);\n\nexport default selectDocs;\nexport const flat = createSelector(selectDocs, flatten);\n","import { createSearch, Query, Term } from \"@patternplate/search\";\nimport { flatten, uniq, uniqBy, sortBy } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport semver from \"semver\";\nimport {flat as selectPoolFlat} from \"./pool\";\n\nconst FLAGS = {\n  alpha: 0,\n  beta: 1,\n  rc: 2,\n  stable: 3,\n  deprecated: 4\n};\n\nconst FIELDS = [\n  /* {\n    type: \"field\",\n    key: \"depends\",\n    value: \"depends\",\n    description: \"patterns depending on id\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  }, */\n  {\n    type: \"field\",\n    key: \"flag\",\n    value: \"flag\",\n    description: \"being flagged as [value]\",\n    operators: [\"=\", \"!=\", \">\", \">=\", \"<\", \"<=\", \"^=\", \"~=\"]\n  },\n  {\n    type: \"field\",\n    key: \"is\",\n    value: \"is\",\n    description: \"being of type [value]\",\n    operators: [\"=\", \"!=\"]\n  },\n  {\n    type: \"field\",\n    key: \"has\",\n    value: \"has\",\n    description: \"having data of [value]\",\n    operators: [\"=\", \"!=\"]\n  },\n  /* {\n    type: \"field\",\n    key: \"provides\",\n    value: \"provides\",\n    description: \"patterns providing for id\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  }, */\n  {\n    type: \"field\",\n    key: \"tags\",\n    value: \"tags\",\n    description: \"having a tag of [value]\",\n    operators: [\"=\", \"!=\", \"^=\", \"~=\"]\n  },\n  {\n    type: \"field\",\n    key: \"version\",\n    value: \"version\",\n    description: \"having version of [value]\",\n    operators: [\"=\", \"!=\", \">\", \">=\", \"<\", \"<=\", \"^=\", \"~=\"]\n  }\n];\n\nconst OPERATORS = [\n  {\n    type: \"op\",\n    key: \"=\",\n    description: \"exact match\"\n  },\n  {\n    type: \"op\",\n    key: \"!=\",\n    description: \"negated match\"\n  },\n  {\n    type: \"op\",\n    key: \">\",\n    description: \"greater than\"\n  },\n  {\n    type: \"op\",\n    key: \">=\",\n    description: \"greater than or equal\"\n  },\n  {\n    type: \"op\",\n    key: \"<\",\n    description: \"lesser than\"\n  },\n  {\n    type: \"op\",\n    key: \"<=\",\n    description: \"lesser than or equal\"\n  },\n  {\n    type: \"op\",\n    key: \"^=\",\n    description: \"starts with\"\n  },\n  {\n    type: \"op\",\n    key: \"~=\",\n    description: \"contains\"\n  }\n];\n\nconst selectSearch = createSelector(\n  selectPoolFlat,\n  createSearch\n)\n\nconst selectMatches = createSelector(\n  selectSearch,\n  state => state.search,\n  (search, queryString) => {\n    if (typeof queryString !== \"string\" || queryString.length < 3) {\n      return [];\n    }\n    return search(queryString);\n  }\n);\n\nconst selectParsedValue = createSelector(\n  state => state.searchValue,\n  search => Query.parse(search)\n);\n\nconst selectLastQuery = createSelector(selectParsedValue, parsed =>\n  last(parsed)\n);\n\nfunction last(query) {\n  switch (query.type) {\n    case \"string\":\n      return query.value;\n    case \"and\":\n    case \"or\":\n    default: {\n      const q = query || {};\n      const values = q.values || [];\n      const cand = values[values.length - 1];\n      return cand ? last(cand) : \"\";\n    }\n  }\n}\n\nconst selectFields = createSelector(selectLastQuery, query =>\n  FIELDS.filter(f => f.value.startsWith(query))\n);\n\nconst selectFieldHit = createSelector(\n  state => state.searchValue,\n  selectLastQuery,\n  (value, query) => {\n    if (query.length === 0) {\n      return null;\n    }\n\n    return FIELDS.find(f => query.startsWith(f.value));\n  }\n);\n\nconst selectParsedQuery = createSelector(selectLastQuery, query =>\n  Term.parse(query)\n);\n\nconst selectOps = createSelector(\n  selectParsedQuery,\n  selectFieldHit,\n  (parsed, hit) => {\n    if (!hit) {\n      return [];\n    }\n    return hit.operators\n      .map(o => OPERATORS.find(op => op.key === o))\n      .filter(o => !parsed.operators || o.key.includes(parsed.operators))\n      .map(o => {\n        o.value = `${hit.value}${o.key}`;\n        return o;\n      });\n  }\n);\n\nconst selectOpsHit = createSelector(\n  selectParsedQuery,\n  selectOps,\n  (query, ops) => {\n    return ops.find(i => {\n      if (query.negated) {\n        return i.key === `!${query.operators}`;\n      }\n      return i.key === query.operators;\n    });\n  }\n);\n\nexport const selectFound = createSelector(\n  selectPoolFlat,\n  selectMatches,\n  (pool, matches) => {\n    const sorted = uniqBy(\n      sortBy(matches.map(match => pool.find(p => p.id === match)), \"contentType\"),\n      \"id\"\n    );\n    return sorted.map((s, i) => {\n      s.index = i;\n      return s;\n    });\n  }\n);\n\nexport const selectPatterns = createSelector(selectFound, found =>\n  found.filter(f => f.contentType === \"pattern\")\n);\n\nconst selectPatternPool = createSelector(selectPoolFlat, pool =>\n  pool.filter(f => f.contentType === \"pattern\")\n);\n\nconst selectOptions = createSelector(\n  selectPatternPool,\n  selectParsedQuery,\n  selectFieldHit,\n  selectOpsHit,\n  (patterns, parsed, field, op) => {\n    if (!field || !op) {\n      return [];\n    }\n\n    switch (field.key) {\n      case \"has\":\n        return [\n          {\n            type: \"quality\",\n            key: \"docs\",\n            value: [field.key, op.key, \"docs\"].join(\"\"),\n            description: \"colocated markdown\"\n          },\n          /* {\n            type: \"quality\",\n            key: \"dependencies\",\n            value: [field.key, op.key, \"dependencies\"].join(\"\"),\n            description: \"patterns with dependencies\"\n          },\n          {\n            type: \"quality\",\n            key: \"dependents\",\n            value: [field.key, op.key, \"dependents\"].join(\"\"),\n            description: \"patterns with dependents\"\n          }, */\n          {\n            type: \"quality\",\n            key: \"flag\",\n            value: [field.key, op.key, \"flag\"].join(\"\"),\n            description: \"flag specified\"\n          },\n          {\n            type: \"quality\",\n            key: \"version\",\n            value: [field.key, op.key, \"version\"].join(\"\"),\n            description: \"version specified\"\n          },\n          {\n            type: \"quality\",\n            key: \"description\",\n            value: [field.key, op.key, \"description\"].join(\"\"),\n            description: \"description provided\"\n          },\n          {\n            type: \"quality\",\n            key: \"displayName\",\n            value: [field.key, op.key, \"displayName\"].join(\"\"),\n            description: \"display name provided\"\n          },\n          {\n            type: \"quality\",\n            key: \"tags\",\n            value: [field.key, op.key, \"tags\"].join(\"\"),\n            description: \"tag attached\"\n          }\n        ];\n      case \"depends\":\n      case \"provides\":\n        return patterns\n          .filter(item => item.id.startsWith(parsed.value || \"\"))\n          .map(item => {\n            return {\n              type: \"pattern\",\n              key: item.id,\n              value: [field.key, op.key, item.id].join(\"\"),\n              description: `${item.id}`\n            };\n          });\n      case \"tags\":\n        return uniq(flatten(patterns.map(item => item.manifest.tags)))\n          .filter(Boolean)\n          .map(tag => {\n            return {\n              type: \"tag\",\n              key: tag,\n              value: [field.key, op.key, tag].join(\"\"),\n              description: tag\n            };\n          });\n      case \"version\": {\n        const versions = uniqBy(\n          patterns\n            .filter(item =>\n              item.manifest.version.startsWith(parsed.value || \"\")\n            )\n            .map(item => item.manifest.version)\n        )\n          .filter(version => semver.valid(version))\n          .sort((a, b) => (semver.gt(a, b) ? 1 : -1));\n\n        return versions.map(v => {\n          return {\n            type: \"version\",\n            key: v,\n            value: [field.key, op.key, v].join(\"\"),\n            description: `${v}`\n          };\n        });\n      }\n      case \"flag\": {\n        const flags = uniqBy(\n          patterns\n            .filter(item => item.manifest.flag.startsWith(parsed.value || \"\"))\n            .map(item => item.manifest.flag)\n        )\n          .filter(flag => typeof flag === \"string\")\n          .sort((a, b) => {\n            const delta = (FLAGS[a] || 0) - (FLAGS[b] || 0);\n            return delta === 0 ? a.localeCompare(b) : delta;\n          });\n\n        return flags.map(f => {\n          return {\n            type: \"flag\",\n            key: f,\n            value: [field.key, op.key, f].join(\"\"),\n            description: `${f}`\n          };\n        });\n      }\n      case \"is\":\n        return [\n          {\n            type: \"is\",\n            key: \"pattern\",\n            value: [field.key, op.key, \"pattern\"].join(\"\"),\n            description: \"is a pattern\"\n          },\n          {\n            type: \"is\",\n            key: \"doc\",\n            value: [field.key, op.key, \"doc\"].join(\"\"),\n            description: \"is a doc\"\n          }\n        ];\n      default:\n        return [];\n    }\n  }\n);\n\nconst selectOptionsHit = createSelector(\n  selectParsedQuery,\n  selectOptions,\n  (query, ops) => ops.some(o => o.value === query.raw)\n);\n\nexport const selectLegend = createSelector(\n  selectParsedValue,\n  selectParsedQuery,\n  selectFields,\n  selectFieldHit,\n  selectOps,\n  selectOpsHit,\n  selectOptions,\n  selectOptionsHit,\n  (parsedValue, parsed, fields, fieldHit, ops, opsHit, options, optionsHit) => {\n    if (!fieldHit) {\n      return {\n        name: \"Fields\",\n        items: fields\n      };\n    }\n\n    if (!opsHit && !parsed.value) {\n      return {\n        name: \"Operators\",\n        items: ops\n      };\n    }\n\n    if (!optionsHit && fieldHit && opsHit) {\n      return {\n        name: fieldHit.key,\n        items: options\n      };\n    }\n\n    return {\n      name: \"\",\n      items: []\n    };\n  }\n);\n\nexport const selectDocs = createSelector(selectFound, found =>\n  found.filter(f => f.contentType === \"doc\")\n);\n\nexport const selectSuggestion = createSelector(\n  state => state.searchValue,\n  selectPoolFlat,\n  selectLegend,\n  (search, pool, legend) => {\n    if (typeof search !== \"string\" || search.length === 0) {\n      return \"\";\n    }\n\n    const match = pool.find(m =>\n      [m.id, m.name, (m.manifest || {}).displayName].some(\n        k => k && k.startsWith(search)\n      )\n    );\n\n    if (match) {\n      return (\n        [match.id, match.name, match.manifest.displayName].find(\n          k => k && k.startsWith(search)\n        ) || \"\"\n      );\n    }\n\n    const lmatch = (legend.items || []).find(i => i.value.startsWith(search));\n    return lmatch ? lmatch.value : null;\n  }\n);\n\nexport const selectActiveItem = createSelector(\n  state => state,\n  selectFound,\n  state => state.searchPreview,\n  (state, found, preview) => {\n    const index = Math.min(preview, found.length - 1);\n    const item = found[index];\n    return item\n      ? Object.assign({}, item, {\n          index,\n          dependents: [],// rel(\"dependents\"),\n          dependencies: [] // rel(\"dependencies\")\n        })\n      : item;\n  }\n);\n","import { createSelector } from \"reselect\";\nimport { flat as selectDocs } from \"./docs\";\nimport { flat as selectPool } from \"./pool\";\nimport createRelationSelector from \"./relation\";\n\nconst selectVirtual = createSelector(\n  selectDocs,\n  docs => {\n    return docs.filter(d => {\n      const {manifest} = d;\n      const {options = {}} = manifest;\n      const {query = \"\"} = options;\n      return Boolean(query);\n    });\n  }\n);\n\nconst selectItem = createSelector(\n  selectPool,\n  state => state.id,\n  (pool, id) => {\n    const item = pool.find(item => id === `${item.contentType}/${item.id}`);\n\n    if (item) {\n      return item;\n    }\n\n    if (id === '/') {\n      return pool[0];\n    }\n  }\n);\n\nexport default selectItem;\n\nconst filter = hidden => {\n  return hidden\n    ? item => (item.manifest.options || {}).hidden !== true\n    : i => i;\n};\n\nconst selectFilter = createSelector(state => state.hide, hide => filter(hide));\n\nconst relation = key => createRelationSelector(key, selectItem, selectFilter);\n\nexport const selectDependencies = relation(\"dependencies\");\nexport const selectDependents = relation(\"dependents\");\n\nexport const selectManifest = createSelector(\n  selectItem,\n  item => (item ? JSON.stringify(item.manifest, null, \"  \") : \"\")\n);\n\nexport const selectContentType = createSelector(\n  selectItem,\n  item => (item ? item.contentType : \"\")\n);\n\nexport const selectType = createSelector(\n  selectItem,\n  item => (item ? item.type : \"\")\n);\n\nexport const selectActive = createSelector(\n  selectItem,\n  state => state.searchEnabled,\n  (item, search) => !search && item !== null && typeof item !== \"undefined\"\n);\n\nexport const selectIcon = createSelector(\n  selectItem,\n  item => (item ? item.manifest.icon || item.type : \"\")\n);\n\nexport const selectName = createSelector(\n  selectItem,\n  item => (item ? item.manifest.displayName : \"\")\n);\n\nexport const selectTags = createSelector(\n  selectItem,\n  item => (item ? item.manifest.tags || [] : [])\n);\n\nexport const selectVersion = createSelector(\n  selectItem,\n  item => (item ? item.manifest.version : \"\")\n);\n\nexport const selectFlag = createSelector(\n  selectItem,\n  item => (item ? item.manifest.flag : \"\")\n);\n\nexport const selectId = createSelector(\n  selectItem,\n  item => (item ? item.id : \"\")\n);\n\nexport const selectContents = createSelector(selectItem, item => {\n  if (!item) {\n    return null;\n  }\n  return typeof item.contents === \"string\" ? item.contents : null;\n});\n\nexport const selectDescription = createSelector(\n  selectItem,\n  item => (item ? item.manifest.description : \"\")\n);\n","import { merge } from \"lodash\";\nimport { createSelector } from \"reselect\";\nimport { flatten, sanitize } from \"./tree\";\n\nconst navigation = createSelector(\n  state => state.schema.meta,\n  state => state.id,\n  state => state.hideEnabled,\n  state => state.routing.locationBeforeTransitions,\n  state => state.base,\n  (tree, id, hide, location, base) => {\n    const context = { base, hide, id, prefix: \"pattern\", location };\n    return sanitize(merge({}, tree), context);\n  }\n);\n\nexport default navigation;\n\nexport const flat = createSelector(navigation, flatten);\n","import { createSearch } from \"@patternplate/search\";\nimport { createSelector } from \"reselect\";\nimport { flat as selectDocs } from \"../selectors/docs\";\nimport { flat as selectNavigation } from \"../selectors/navigation\";\nimport { enrich } from \"../selectors/tree\";\n\nexport const selectFlatPool = createSelector(\n  selectDocs,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: () => []\n  }),\n  (docs, nav, context) => {\n    const enriched = flatten(docs.map(d => {\n      return enrich(d, context);\n    }));\n    return enriched\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nconst selectSearch = createSelector(\n  selectFlatPool,\n  flatPool => {\n    const search = () => [];\n    return term => {\n      const matches = search(term);\n      return matches.map(item => flatPool.find(p => p.id === item));\n    };\n  }\n);\n\nconst selectPool = createSelector(\n  selectDocs,\n  selectNavigation,\n  state => ({\n    hide: state.hideEnabled,\n    id: state.id,\n    location: state.routing.locationBeforeTransitions,\n    base: state.base,\n    prefix: \"doc\",\n    search: selectSearch(state)\n  }),\n  (docs, nav, context) => {\n    const enriched = flatten(docs.map(d => {\n      return enrich(d, context);\n    }));\n    return enriched\n      .concat(nav)\n      .filter(item => Boolean(item.id) && Boolean(item.contentType))\n  });\n\nfunction flatten(tree, initial = []) {\n  return tree.reduce((acc, item) => {\n    acc.push(item);\n    if (Array.isArray(item.children)) {\n      flatten(item.children, acc);\n    }\n    return acc;\n  }, initial);\n}\n\nexport default selectPool;\nexport const flat = createSelector(\n  selectDocs,\n  selectNavigation,\n  (docs, nav) => flatten(docs.concat(nav)).filter(item => item.type === \"item\")\n);\n","import { createSelector } from \"reselect\";\nimport selectPatterns from \"./navigation\";\nimport find from \"../utils/find\";\n\nexport default function createRelationSelector(key, selectItem) {\n  return createSelector(selectPatterns, selectItem, (patterns, item) => {\n    if (!item) {\n      return [];\n    }\n    return (item[key] || [])\n      .map(id => find(patterns, `pattern/${id}`, { type: \"pattern\" }))\n      .filter(Boolean);\n  });\n}\n","import path from \"path\";\nimport querystring from \"querystring\";\nimport url from \"url\";\nimport { merge } from \"lodash\";\n\nconst WEIGHTS = {\n  folder: 0,\n  doc: 1,\n  pattern: 2\n};\n\nexport function flatten(tree) {\n  return tree.children;\n}\n\nexport function sanitize(tree, context) {\n  const { id, config = {}, prefix, base, location, search } = context;\n\n  tree.children = tree.children\n    .map(child => {\n      const enriched = enrich(child, {\n        base,\n        location,\n        id,\n        config,\n        prefix,\n        search,\n      });\n      return enriched.children\n        ? sanitize(enriched, context)\n        : enriched;\n    })\n    .sort((a, b) => {\n      const order =\n        ((((a.manifest || {}).options || {}).order || 0) - (((b.manifest || {}).options || {}).order || 0));\n      const weight = (WEIGHTS[a.type] || 0) - (WEIGHTS[b.type] || 0);\n      const comp = a.manifest.displayName.localeCompare(b.manifest.displayName);\n\n      if (order !== 0) {\n        return order;\n      }\n\n      if (weight !== 0) {\n        return weight;\n      }\n\n      return comp;\n    });\n\n  return enrich(tree, { base, location, id, config, prefix, search });\n}\n\nexport function enrich(child, context) {\n  const { id, prefix, search } = context;\n  const childid = [child.contentType, child.id].join('/');\n  child.active = (childid === id) || `doc/${context.parent}/${childid}` === id;\n  const parsed = url.parse(child.href || path.join(prefix, child.id || child.path));\n\n  const q =\n    typeof parsed.query === \"string\"\n      ? querystring.parse(parsed.query)\n      : parsed.query;\n\n  child.href = url.format({\n    pathname: pre(context.base || '', parsed.pathname || ''),\n    query: Object.assign({}, context.location.query, q)\n  });\n\n  child.warnings = child.warnings || [];\n  child.type = child.contentType === \"doc\" && typeof ((child.manifest).options || {}).query === \"string\"\n    ? \"folder\"\n    : \"item\";\n\n  if (child.type === \"folder\") {\n    child.children = search(child.manifest.options.query)\n      .filter(item => item.id !== child.id);\n  }\n\n  if (\n    child.manifest &&\n    child.type === \"pattern\" &&\n    (child.manifest.flag === \"alpha\" || child.manifest.flag === \"deprecated\")\n  ) {\n    child.warnings.push({\n      type: \"flag\",\n      value: child.manifest.flag,\n      message: `${child.manifest.displayName} is flagged as ${child.manifest\n        .flag}.`\n    });\n  }\n\n  return child;\n}\n\nfunction pre(base, pathname) {\n  const b = norm(base);\n  const p = norm(pathname);\n\n  if (p.startsWith(b)) {\n    return `/${p}`;\n  }\n\n  return `/${[norm(base), norm(pathname)].join(\"/\")}`;\n}\n\nfunction norm(p) {\n  return p.split(\"/\").filter(Boolean).join(\"/\");\n}\n","import * as actions from \"./actions\";\nimport Shortcut from \"./utils/shortcut\";\n\nexport default createShortcuts;\n\nfunction createShortcuts() {\n  const bind = store => {\n    Object.keys(bind).forEach(name => {\n      bind[name].bind(store);\n    });\n  };\n\n  bind.toggleConsole = new Shortcut({\n    character: \"c\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} console`,\n    action: actions.toggleConsole\n  });\n\n  bind.toggleDoc = new Shortcut({\n    character: \"d\",\n    description: () => `Open documentation for this pattern`,\n    action: actions.toggleDoc\n  });\n\n  bind.openDocumentation = new Shortcut({\n    character: \"7\",\n    description: () => `Navigate back to / route`,\n    action: actions.openDocumentation\n  });\n\n  bind.openFullscreen = new Shortcut({\n    character: \"f\",\n    description: () => `Open fullscreen view`,\n    action: actions.openFullscreen\n  });\n\n  bind.toggleHide = new Shortcut({\n    character: \"h\",\n    description: props => `${props.enabled ? \"Show\" : \"Hide\"} hidden items`,\n    action: actions.toggleHide\n  });\n\n  bind.info = new Shortcut({\n    character: \"i\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} pattern infos`,\n    action: actions.toggleInfo\n  });\n\n  bind.toggleOpacity = new Shortcut({\n    character: \"o\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} opacity indicators`,\n    action: actions.toggleOpacity\n  });\n\n  bind.toggleShortcuts = new Shortcut({\n    character: \"k\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} keyboard shortcuts`,\n    action: actions.toggleKeyboardShortcuts\n  });\n\n  bind.toggleRulers = new Shortcut({\n    character: \"l\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} rulers`,\n    action: actions.toggleRulers\n  });\n\n  bind.toggleCode = new Shortcut({\n    character: \"m\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} pattern code`,\n    action: actions.toggleCode\n  });\n\n  bind.toggleNavigation = new Shortcut({\n    character: \"n\",\n    description: props => `${props.enabled ? \"Hide\" : \"Show\"} navigation`,\n    action: actions.toggleNavigation\n  });\n\n  bind.toggleNetwork = new Shortcut({\n    character: \"d\",\n    description: props =>\n      `${props.enabled ? \"Hide\" : \"Show\"} dependency network`,\n    action: actions.toggleNetwork\n  });\n\n  const reload = () => actions.reload({ reloadTime: Date.now() });\n  reload.type = actions.reload.type;\n  reload.key = actions.reload.key;\n  reload.property = actions.reload.property;\n\n  bind.reload = new Shortcut({\n    character: \"r\",\n    description: () => `Force sync`,\n    action: reload\n  });\n\n  bind.toggleSearch = new Shortcut({\n    character: \"space\",\n    description: props => `${props.enabled ? \"Disable\" : \"Enable\"} search`,\n    action: actions.toggleSearch\n  });\n\n  bind.toggleTheme = new Shortcut({\n    character: \"t\",\n    description: \"Toggle active theme\",\n    action: actions.toggleTheme\n  });\n\n  bind.close = new Shortcut({\n    character: \"esc\",\n    modifiers: [],\n    action: actions.closeAllTheThings\n  });\n\n  bind.up = new Shortcut({\n    character: \"arrow-up\",\n    action: () => actions.arrow(\"up\")\n  });\n\n  bind.right = new Shortcut({\n    character: \"arrow-right\",\n    action: () => actions.arrow(\"right\")\n  });\n\n  bind.down = new Shortcut({\n    character: \"arrow-down\",\n    action: () => actions.arrow(\"down\")\n  });\n\n  bind.left = new Shortcut({\n    character: \"arrow-left\",\n    action: () => actions.arrow(\"left\")\n  });\n\n  return bind;\n}\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport { routerReducer as routing, routerMiddleware } from \"react-router-redux\";\nimport thunk from \"redux-thunk\";\nimport topology from \"topologically-combine-reducers\";\n\nimport * as actions from \"./actions\";\nimport createShortcuts from \"./shortcuts\";\nimport reducers, { dependencies } from \"./reducers\";\n\nexport default function configureStore(history, initial) {\n  const reducer = hydrateable(topology({ routing, ...reducers }, dependencies));\n  const enhance = global.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const middlewares = [thunk, routerMiddleware(history)];\n\n  const middleware = applyMiddleware(...middlewares);\n  const shortcuts = createShortcuts();\n  const store = createStore(\n    reducer,\n    { ...initial, shortcuts },\n    enhance(middleware)\n  );\n\n  listen(store, { url: \"/api\" });\n  shortcuts(store);\n\n  return store;\n}\n\nfunction hydrateable(reducer) {\n  return (state, action) => {\n    switch (action.type) {\n      case \"@@APPLY_STATE\":\n        return reducer(action.payload, action);\n      default:\n        return reducer(state, action);\n    }\n  };\n}\n\nfunction listen(store, options) {\n  store.dispatch(actions.listen({ url: options.url }));\n}\n","import \"isomorphic-fetch\";\nimport { merge } from \"lodash\";\n\nexport default fetch;\n\nconst defaultHeaders = {\n  headers: { accept: \"application/json\" },\n  credentials: \"include\"\n};\n\nfunction fetch(uri, userHeaders) {\n  const headers =\n    userHeaders === false ? defaultHeaders : merge({}, userHeaders, defaultHeaders);\n\n  return global.fetch(uri, headers);\n}\n","export default find;\n\nfunction find(tree, id, { type }) {\n  if (id === \"/\") {\n    return tree;\n  }\n\n  if (!id || !id.startsWith(`${type}/`)) {\n    return null;\n  }\n\n  const reg = new RegExp(`^${type}/`);\n\n  const frags = id\n    .replace(reg, \"\")\n    .split(\"/\")\n    .filter(Boolean);\n\n  const match = tree.children.find(\n    child =>\n      child.path.every((s, i) => frags[i] === s) &&\n      (child.type === type || child.type === \"folder\")\n  );\n\n  return match;\n}\n","import path from \"path\";\nimport urlQuery from \"./url-query\";\n\nexport default function getIdByPathname(pathname, base = \"/\") {\n  const parsed = urlQuery.parse(pathname);\n  return (path.posix || path).relative(base, parsed.pathname);\n}\n","import ARSON from \"arson\";\nimport assert from \"assert\";\n\nconst CODES = {\n  \"arrow-up\": 38,\n  \"arrow-right\": 39,\n  \"arrow-down\": 40,\n  \"arrow-left\": 37,\n  esc: 27,\n  space: 32,\n  c: 67,\n  d: 68,\n  e: 69,\n  f: 70,\n  h: 72,\n  i: 73,\n  o: 79,\n  k: 75,\n  l: 76,\n  m: 77,\n  n: 78,\n  r: 82,\n  t: 84\n};\n\nexport default class Shortcut {\n  constructor({ action, character, description, modifiers }) {\n    this.character = character;\n    this.code = CODES[character];\n    this.action = action;\n    this.key = this.action.key;\n    this.active = \"document\" in global;\n    this.description = description;\n    this.modifiers = modifiers || [\"ctrlKey\", \"altKey\"];\n    this.bind = this.bind.bind(this);\n  }\n\n  bind(store) {\n    if (!this.active) {\n      return;\n    }\n\n    const onKeyPress = e => {\n      if (!this.modifiers.every(m => e[m])) {\n        return;\n      }\n\n      if (e.keyCode !== this.code) {\n        return false;\n      }\n\n      store.dispatch(this.action());\n    };\n\n    global.addEventListener(\"message\", e => {\n      try {\n        const message = ARSON.parse(e.data);\n        if (message.type === \"keydown\") {\n          onKeyPress(message.payload);\n        }\n      } catch (err) {\n\n      }\n    }, false);\n\n    global.addEventListener(\"keydown\", e => {\n      const prevent = onKeyPress({\n        altKey: e.altKey,\n        ctrlKey: e.ctrlKey,\n        keyCode: (e.data || e).keyCode,\n      });\n      if (prevent) {\n        e.preventDefault();\n      }\n    });\n  }\n\n  toString() {\n    const keys = [...this.modifiers, this.character].map(c =>\n      c.replace(\"Key\", \"\")\n    );\n    return `[${keys.join(\"+\")}]`;\n  }\n}\n","import path from \"path\";\nimport url from \"url\";\nimport { entries, includes } from \"lodash\";\n\nfunction has(token) {\n  return item => includes(item, token);\n}\n\nfunction div(token) {\n  return item => item.split(token).slice(0, 2);\n}\n\nfunction not(fn) {\n  return (...args) => !fn(...args);\n}\n\nfunction shove(input) {\n  const index = input.length - 1;\n  if (input[index] === \"/\") {\n    return input.slice(0, index);\n  }\n  return input;\n}\n\nexport function format(parsed = {}) {\n  const query = entries(parsed.query || {}).reduce(\n    (result, entry) => [...result, entry.join(\"--\")],\n    []\n  );\n\n  const extension = path.extname(parsed.pathname || \"\");\n\n  const before = extension\n    ? path.dirname(parsed.pathname)\n    : shove(parsed.pathname);\n  const after = extension ? path.basename(parsed.pathname) : \"\";\n\n  return [before, ...query, after].filter(Boolean).join(\"/\");\n}\n\nexport function parse(urlPath = \"\") {\n  const parsed = url.parse(urlPath);\n  const raw = parsed.pathname || \"\";\n\n  const pathname = raw\n    .split(\"/\")\n    .filter(not(has(\"--\")))\n    .join(\"/\");\n\n  const query = raw\n    .split(\"/\")\n    .filter(has(\"--\"))\n    .map(div(\"--\"))\n    .reduce((registry, entry) => {\n      const [key, value] = entry;\n      registry[key] = value;\n      return registry;\n    }, {});\n\n  return {\n    pathname,\n    query\n  };\n}\n\nexport default { parse, format };\n","const ARSON = require(\"arson\");\nconst url = require(\"url\");\nconst fetch = require(\"isomorphic-fetch\");\nconst platform = require(\"platform\");\nconst router = require(\"./app/client\").default;\nconst { merge } = require(\"lodash\");\n\nconst { document } = global;\n\nmain().catch(err => {\n  console.error(err);\n});\n\nasync function main() {\n  const slot = document.querySelector('[data-application-el=\"patternplate\"]');\n  const vault = document.querySelector('[data-application-state=\"patternplate\"]');\n  const data = await getData(vault);\n\n  if (data.isStatic) {\n    slot.innerHTML = '';\n  }\n\n  router(data, slot);\n\n  document.body.setAttribute(\"data-mounted\", true);\n}\n\nasync function getData(vault) {\n  const data = ARSON.parse(decodeURIComponent(vault.textContent));\n  const schema = await getStateData(data.base);\n\n  return merge(data, getPlatformData(), getWindowData(), {\n    schema,\n    navigation: schema.meta\n  });\n}\n\nasync function getStateData(base) {\n  return (await fetch(`${prefix(base)}/api/state.json`, {credentials: \"include\"})).json();\n}\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n\nfunction getPlatformData() {\n  return {\n    clientRuntimeName: platform.name,\n    clientRuntimeVersion: platform.version,\n    clientOsName: platform.os.name,\n    clientOsVersion: platform.os.version\n  };\n}\n\nfunction getWindowData() {\n  return {\n    window: {\n      width: global.innerWidth,\n      height: global.innerHeight\n    }\n  };\n}\n"],"sourceRoot":""}